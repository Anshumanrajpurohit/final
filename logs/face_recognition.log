2025-08-14 00:16:03,254 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-14 00:16:03,299 - __main__ - INFO - 
======================================================================
2025-08-14 00:16:03,304 - __main__ - INFO - ======================================================================
2025-08-14 00:16:03,306 - __main__ - INFO -   Total Unique Persons: 12
2025-08-14 00:16:03,306 - __main__ - INFO -   Total Visits: 12
2025-08-14 00:16:03,306 - __main__ - INFO -   Recent Visitors (24h): 12
2025-08-14 00:16:03,306 - __main__ - INFO -   Total Batches: 0
2025-08-14 00:16:03,312 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 00:16:03,312 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 00:16:03,312 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:16:03,312 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:16:03,312 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 00:16:03,312 - __main__ - INFO -   System Uptime: 0:00:00.046188
2025-08-14 00:16:03,315 - __main__ - INFO -   Memory Usage: 191.3 MB (1.2%)
2025-08-14 00:16:03,315 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:16:03,315 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:03,315 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:16:03,317 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:16:03,317 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:16:03,317 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:16:03,317 - __main__ - INFO -   Quality Check: True
2025-08-14 00:16:03,318 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:16:03,318 - __main__ - INFO - ======================================================================

2025-08-14 00:16:08,349 - __main__ - INFO - Memory before processing: 191.4 MB
2025-08-14 00:16:09,011 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:16:11,398 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:16:11,413 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:16:11,458 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:16:11,466 - __main__ - INFO - Memory after processing: 243.6 MB
2025-08-14 00:16:11,474 - utils.performance_optimizer - INFO -   Memory Usage: 243.6 MB (1.5%)
2025-08-14 00:16:11,474 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:16:11,474 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:11,474 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:16:11,474 - __main__ - INFO - ============================================================
2025-08-14 00:16:11,482 - __main__ - INFO - ============================================================
2025-08-14 00:16:11,520 - __main__ - INFO - ============================================================
2025-08-14 00:16:16,551 - __main__ - INFO - Memory before processing: 243.6 MB
2025-08-14 00:16:17,015 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:16:19,208 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:16:19,238 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:16:19,282 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:16:19,283 - __main__ - INFO - Memory after processing: 247.9 MB
2025-08-14 00:16:19,298 - utils.performance_optimizer - INFO -   Memory Usage: 247.9 MB (1.5%)
2025-08-14 00:16:19,299 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:16:19,299 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:19,299 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:16:19,299 - __main__ - INFO - ============================================================
2025-08-14 00:16:19,302 - __main__ - INFO - ============================================================
2025-08-14 00:16:19,324 - __main__ - INFO - ============================================================
2025-08-14 00:16:24,521 - __main__ - INFO - Memory before processing: 247.9 MB
2025-08-14 00:16:24,738 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:16:31,466 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:16:31,647 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:16:31,743 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:16:31,746 - __main__ - INFO - Memory after processing: 247.9 MB
2025-08-14 00:16:31,832 - utils.performance_optimizer - INFO -   Memory Usage: 247.9 MB (1.5%)
2025-08-14 00:16:31,836 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:16:31,836 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:31,841 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:16:31,843 - __main__ - INFO - ============================================================
2025-08-14 00:16:31,982 - __main__ - INFO - ============================================================
2025-08-14 00:16:34,916 - __main__ - INFO - ============================================================
2025-08-14 00:16:35,955 - __main__ - INFO - 
======================================================================
2025-08-14 00:16:36,141 - __main__ - INFO - ======================================================================
2025-08-14 00:16:36,509 - __main__ - INFO -   Total Unique Persons: 24
2025-08-14 00:16:36,550 - __main__ - INFO -   Total Visits: 24
2025-08-14 00:16:36,568 - __main__ - INFO -   Recent Visitors (24h): 24
2025-08-14 00:16:37,200 - __main__ - INFO -   Total Batches: 3
2025-08-14 00:16:37,277 - __main__ - INFO -   Total Images Processed: 3
2025-08-14 00:16:37,286 - __main__ - INFO -   Total Faces Detected: 12
2025-08-14 00:16:37,295 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:16:37,332 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:16:37,343 - __main__ - INFO -   Total Processing Time: 13.23s
2025-08-14 00:16:37,371 - __main__ - INFO -   System Uptime: 0:00:32.702355
2025-08-14 00:16:37,889 - __main__ - INFO -   Memory Usage: 247.9 MB (1.5%)
2025-08-14 00:16:37,904 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:16:37,943 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:37,999 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:16:38,511 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:16:38,518 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:16:38,542 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:16:38,552 - __main__ - INFO -   Quality Check: True
2025-08-14 00:16:38,562 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:16:38,572 - __main__ - INFO - ======================================================================

2025-08-14 00:16:41,049 - __main__ - INFO - Memory before processing: 247.9 MB
2025-08-14 00:16:41,482 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:16:44,423 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:16:44,467 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:16:44,502 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:16:44,502 - __main__ - INFO - Memory after processing: 248.0 MB
2025-08-14 00:16:44,507 - utils.performance_optimizer - INFO -   Memory Usage: 248.0 MB (1.5%)
2025-08-14 00:16:44,507 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:16:44,508 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:44,508 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:16:44,508 - __main__ - INFO - ============================================================
2025-08-14 00:16:44,510 - __main__ - INFO - ============================================================
2025-08-14 00:16:44,520 - __main__ - INFO - ============================================================
2025-08-14 00:16:49,571 - __main__ - INFO - Memory before processing: 248.0 MB
2025-08-14 00:16:49,805 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:16:51,953 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:16:51,975 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:16:52,018 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:16:52,018 - __main__ - INFO - Memory after processing: 248.0 MB
2025-08-14 00:16:52,028 - utils.performance_optimizer - INFO -   Memory Usage: 248.0 MB (1.5%)
2025-08-14 00:16:52,028 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:16:52,028 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:52,028 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:16:52,029 - __main__ - INFO - ============================================================
2025-08-14 00:16:52,030 - __main__ - INFO - ============================================================
2025-08-14 00:16:52,049 - __main__ - INFO - ============================================================
2025-08-14 00:16:52,545 - __main__ - INFO - 
======================================================================
2025-08-14 00:16:52,547 - __main__ - INFO - ======================================================================
2025-08-14 00:16:52,550 - __main__ - INFO -   Total Unique Persons: 32
2025-08-14 00:16:52,550 - __main__ - INFO -   Total Visits: 32
2025-08-14 00:16:52,550 - __main__ - INFO -   Recent Visitors (24h): 32
2025-08-14 00:16:52,552 - __main__ - INFO -   Total Batches: 5
2025-08-14 00:16:52,552 - __main__ - INFO -   Total Images Processed: 5
2025-08-14 00:16:52,552 - __main__ - INFO -   Total Faces Detected: 20
2025-08-14 00:16:52,552 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:16:52,552 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:16:52,552 - __main__ - INFO -   Total Processing Time: 19.57s
2025-08-14 00:16:52,552 - __main__ - INFO -   System Uptime: 0:00:49.292631
2025-08-14 00:16:52,554 - __main__ - INFO -   Memory Usage: 248.1 MB (1.5%)
2025-08-14 00:16:52,555 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:16:52,555 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:16:52,555 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:16:52,557 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:16:52,557 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:16:52,557 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:16:52,557 - __main__ - INFO -   Quality Check: True
2025-08-14 00:16:52,557 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:16:52,557 - __main__ - INFO - ======================================================================

2025-08-14 00:16:52,558 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-14 00:25:47,251 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-14 00:25:47,251 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-14 00:25:47,259 - __main__ - INFO - 
======================================================================
2025-08-14 00:25:47,259 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:25:47,259 - __main__ - INFO - ======================================================================
2025-08-14 00:25:47,260 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:25:47,260 - __main__ - INFO -   Total Unique Persons: 48
2025-08-14 00:25:47,260 - __main__ - INFO -   Total Visits: 48
2025-08-14 00:25:47,260 - __main__ - INFO -   Recent Visitors (24h): 48
2025-08-14 00:25:47,260 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:25:47,260 - __main__ - INFO -   Total Batches: 0
2025-08-14 00:25:47,260 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 00:25:47,260 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 00:25:47,260 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:25:47,262 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:25:47,262 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 00:25:47,262 - __main__ - INFO -   System Uptime: 0:00:00.011537
2025-08-14 00:25:47,262 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:25:47,262 - __main__ - INFO -   Memory Usage: 191.8 MB (1.2%)
2025-08-14 00:25:47,262 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:25:47,263 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:25:47,263 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:25:47,263 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:25:47,263 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:25:47,263 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:25:47,263 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:25:47,263 - __main__ - INFO -   Quality Check: True
2025-08-14 00:25:47,264 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:25:47,264 - __main__ - INFO - ======================================================================

2025-08-14 00:25:52,302 - __main__ - INFO - Memory before processing: 192.1 MB
2025-08-14 00:25:52,843 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:25:55,270 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:25:55,293 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:25:55,337 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:25:55,337 - __main__ - INFO - Memory after processing: 244.4 MB
2025-08-14 00:25:55,344 - utils.performance_optimizer - INFO -   Memory Usage: 244.4 MB (1.5%)
2025-08-14 00:25:55,345 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:25:55,345 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:25:55,345 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:25:55,345 - __main__ - INFO - ============================================================
2025-08-14 00:25:55,346 - __main__ - INFO - ============================================================
2025-08-14 00:25:55,357 - __main__ - INFO - [NEW] New persons: 0
2025-08-14 00:25:55,357 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:25:55,357 - __main__ - INFO - [TIME] Processing time: 3.04s
2025-08-14 00:25:55,357 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:25:55,357 - __main__ - INFO - [MEMORY] Memory usage: 244.4 MB
2025-08-14 00:25:55,357 - __main__ - INFO - [INCREASE] Memory increase: 52.4 MB
2025-08-14 00:25:55,357 - __main__ - INFO - ============================================================
2025-08-14 00:26:00,397 - __main__ - INFO - Memory before processing: 244.5 MB
2025-08-14 00:26:00,620 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:26:02,909 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:26:02,929 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:26:02,955 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:26:02,958 - __main__ - INFO - Memory after processing: 248.6 MB
2025-08-14 00:26:02,962 - utils.performance_optimizer - INFO -   Memory Usage: 248.6 MB (1.5%)
2025-08-14 00:26:02,962 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:26:02,963 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:02,963 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:26:02,963 - __main__ - INFO - ============================================================
2025-08-14 00:26:02,965 - __main__ - INFO - ============================================================
2025-08-14 00:26:02,969 - __main__ - INFO - [NEW] New persons: 0
2025-08-14 00:26:02,969 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:26:02,969 - __main__ - INFO - [TIME] Processing time: 2.56s
2025-08-14 00:26:02,970 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:26:02,970 - __main__ - INFO - [MEMORY] Memory usage: 248.6 MB
2025-08-14 00:26:02,970 - __main__ - INFO - [INCREASE] Memory increase: 4.2 MB
2025-08-14 00:26:02,970 - __main__ - INFO - ============================================================
2025-08-14 00:26:08,007 - __main__ - INFO - Memory before processing: 248.6 MB
2025-08-14 00:26:08,213 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:26:10,724 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:26:10,756 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:26:10,809 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:26:10,811 - __main__ - INFO - Memory after processing: 248.6 MB
2025-08-14 00:26:10,816 - utils.performance_optimizer - INFO -   Memory Usage: 248.6 MB (1.5%)
2025-08-14 00:26:10,816 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:26:10,816 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:10,816 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:26:10,816 - __main__ - INFO - ============================================================
2025-08-14 00:26:10,825 - __main__ - INFO - ============================================================
2025-08-14 00:26:10,828 - __main__ - INFO - [NEW] New persons: 0
2025-08-14 00:26:10,828 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:26:10,829 - __main__ - INFO - [TIME] Processing time: 2.81s
2025-08-14 00:26:10,829 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:26:10,829 - __main__ - INFO - [MEMORY] Memory usage: 248.6 MB
2025-08-14 00:26:10,829 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-14 00:26:10,829 - __main__ - INFO - ============================================================
2025-08-14 00:26:15,850 - __main__ - INFO - Memory before processing: 248.6 MB
2025-08-14 00:26:16,079 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:26:18,397 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:26:18,432 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:26:18,459 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:26:18,459 - __main__ - INFO - Memory after processing: 248.8 MB
2025-08-14 00:26:18,474 - utils.performance_optimizer - INFO -   Memory Usage: 248.8 MB (1.5%)
2025-08-14 00:26:18,474 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:26:18,474 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:18,474 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:26:18,474 - __main__ - INFO - ============================================================
2025-08-14 00:26:18,475 - __main__ - INFO - ============================================================
2025-08-14 00:26:18,477 - __main__ - INFO - [NEW] New persons: 0
2025-08-14 00:26:18,479 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:26:18,479 - __main__ - INFO - [TIME] Processing time: 2.61s
2025-08-14 00:26:18,479 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:26:18,479 - __main__ - INFO - [MEMORY] Memory usage: 248.8 MB
2025-08-14 00:26:18,479 - __main__ - INFO - [INCREASE] Memory increase: 0.2 MB
2025-08-14 00:26:18,482 - __main__ - INFO - ============================================================
2025-08-14 00:26:19,502 - __main__ - INFO - 
======================================================================
2025-08-14 00:26:19,502 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:26:19,502 - __main__ - INFO - ======================================================================
2025-08-14 00:26:19,502 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:26:19,504 - __main__ - INFO -   Total Unique Persons: 64
2025-08-14 00:26:19,504 - __main__ - INFO -   Total Visits: 64
2025-08-14 00:26:19,504 - __main__ - INFO -   Recent Visitors (24h): 64
2025-08-14 00:26:19,504 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:26:19,504 - __main__ - INFO -   Total Batches: 4
2025-08-14 00:26:19,504 - __main__ - INFO -   Total Images Processed: 4
2025-08-14 00:26:19,504 - __main__ - INFO -   Total Faces Detected: 16
2025-08-14 00:26:19,504 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:26:19,504 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:26:19,506 - __main__ - INFO -   Total Processing Time: 11.02s
2025-08-14 00:26:19,506 - __main__ - INFO -   System Uptime: 0:00:32.254177
2025-08-14 00:26:19,506 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:26:19,506 - __main__ - INFO -   Memory Usage: 248.8 MB (1.5%)
2025-08-14 00:26:19,506 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:26:19,506 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:19,506 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:26:19,506 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:26:19,506 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:26:19,506 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:26:19,507 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:26:19,507 - __main__ - INFO -   Quality Check: True
2025-08-14 00:26:19,507 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:26:19,507 - __main__ - INFO - ======================================================================

2025-08-14 00:26:23,534 - __main__ - INFO - Memory before processing: 248.8 MB
2025-08-14 00:26:23,756 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:26:25,987 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:26:26,014 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:26:26,035 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:26:26,035 - __main__ - INFO - Memory after processing: 248.8 MB
2025-08-14 00:26:26,044 - utils.performance_optimizer - INFO -   Memory Usage: 248.8 MB (1.5%)
2025-08-14 00:26:26,047 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:26:26,047 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:26,047 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:26:26,047 - __main__ - INFO - ============================================================
2025-08-14 00:26:26,049 - __main__ - INFO - ============================================================
2025-08-14 00:26:26,055 - __main__ - INFO - [NEW] New persons: 0
2025-08-14 00:26:26,055 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:26:26,055 - __main__ - INFO - [TIME] Processing time: 2.50s
2025-08-14 00:26:26,055 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:26:26,055 - __main__ - INFO - [MEMORY] Memory usage: 248.8 MB
2025-08-14 00:26:26,055 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-14 00:26:26,056 - __main__ - INFO - ============================================================
2025-08-14 00:26:31,098 - __main__ - INFO - Memory before processing: 248.8 MB
2025-08-14 00:26:31,317 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:26:33,457 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:26:33,475 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:26:33,506 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:26:33,508 - __main__ - INFO - Memory after processing: 250.2 MB
2025-08-14 00:26:33,512 - utils.performance_optimizer - INFO -   Memory Usage: 250.2 MB (1.6%)
2025-08-14 00:26:33,514 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:26:33,514 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:33,514 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:26:33,514 - __main__ - INFO - ============================================================
2025-08-14 00:26:33,515 - __main__ - INFO - ============================================================
2025-08-14 00:26:33,519 - __main__ - INFO - [NEW] New persons: 0
2025-08-14 00:26:33,519 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:26:33,519 - __main__ - INFO - [TIME] Processing time: 2.41s
2025-08-14 00:26:33,519 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:26:33,519 - __main__ - INFO - [MEMORY] Memory usage: 250.2 MB
2025-08-14 00:26:33,519 - __main__ - INFO - [INCREASE] Memory increase: 1.4 MB
2025-08-14 00:26:33,519 - __main__ - INFO - ============================================================
2025-08-14 00:26:38,554 - __main__ - INFO - Memory before processing: 250.2 MB
2025-08-14 00:26:38,769 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:26:41,017 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:26:41,057 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:26:41,099 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:26:41,099 - __main__ - INFO - Memory after processing: 250.5 MB
2025-08-14 00:26:41,104 - utils.performance_optimizer - INFO -   Memory Usage: 250.5 MB (1.6%)
2025-08-14 00:26:41,104 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:26:41,104 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:41,104 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:26:41,104 - __main__ - INFO - ============================================================
2025-08-14 00:26:41,106 - __main__ - INFO - ============================================================
2025-08-14 00:26:41,110 - __main__ - INFO - [NEW] New persons: 0
2025-08-14 00:26:41,110 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:26:41,110 - __main__ - INFO - [TIME] Processing time: 2.55s
2025-08-14 00:26:41,110 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:26:41,110 - __main__ - INFO - [MEMORY] Memory usage: 250.5 MB
2025-08-14 00:26:41,110 - __main__ - INFO - [INCREASE] Memory increase: 0.3 MB
2025-08-14 00:26:41,110 - __main__ - INFO - ============================================================
2025-08-14 00:26:43,318 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-14 00:26:43,318 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-14 00:26:43,325 - __main__ - INFO - 
======================================================================
2025-08-14 00:26:43,325 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:26:43,326 - __main__ - INFO - ======================================================================
2025-08-14 00:26:43,326 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:26:43,326 - __main__ - INFO -   Total Unique Persons: 76
2025-08-14 00:26:43,326 - __main__ - INFO -   Total Visits: 76
2025-08-14 00:26:43,326 - __main__ - INFO -   Recent Visitors (24h): 76
2025-08-14 00:26:43,326 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:26:43,326 - __main__ - INFO -   Total Batches: 7
2025-08-14 00:26:43,326 - __main__ - INFO -   Total Images Processed: 7
2025-08-14 00:26:43,326 - __main__ - INFO -   Total Faces Detected: 28
2025-08-14 00:26:43,326 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:26:43,326 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:26:43,326 - __main__ - INFO -   Total Processing Time: 18.48s
2025-08-14 00:26:43,326 - __main__ - INFO -   System Uptime: 0:00:56.077082
2025-08-14 00:26:43,326 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:26:43,326 - __main__ - INFO -   Memory Usage: 250.5 MB (1.6%)
2025-08-14 00:26:43,326 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:26:43,326 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:26:43,326 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:26:43,326 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:26:43,326 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:26:43,326 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:26:43,326 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:26:43,326 - __main__ - INFO -   Quality Check: True
2025-08-14 00:26:43,326 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:26:43,326 - __main__ - INFO - ======================================================================

2025-08-14 00:26:43,326 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-14 00:26:43,326 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-14 00:26:43,355 - utils.performance_optimizer - INFO - [OK] Memory after GC: 250.5 MB
2025-08-14 00:26:43,355 - __main__ - INFO - [DONE] System shutdown complete
2025-08-14 00:35:43,941 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-14 00:35:43,941 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-14 00:35:43,949 - __main__ - INFO - 
======================================================================
2025-08-14 00:35:43,950 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:35:43,950 - __main__ - INFO - ======================================================================
2025-08-14 00:35:43,950 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:35:43,950 - __main__ - INFO -   Total Unique Persons: 76
2025-08-14 00:35:43,950 - __main__ - INFO -   Total Visits: 76
2025-08-14 00:35:43,950 - __main__ - INFO -   Recent Visitors (24h): 76
2025-08-14 00:35:43,950 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:35:43,950 - __main__ - INFO -   Total Batches: 0
2025-08-14 00:35:43,950 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 00:35:43,950 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 00:35:43,950 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:35:43,950 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:35:43,951 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 00:35:43,951 - __main__ - INFO -   System Uptime: 0:00:00.011094
2025-08-14 00:35:43,951 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:35:43,951 - __main__ - INFO -   Memory Usage: 191.9 MB (1.2%)
2025-08-14 00:35:43,951 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:35:43,951 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:35:43,951 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:35:43,951 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:35:43,951 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:35:43,952 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:35:43,952 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:35:43,952 - __main__ - INFO -   Quality Check: True
2025-08-14 00:35:43,952 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:35:43,952 - __main__ - INFO - ======================================================================

2025-08-14 00:35:48,972 - __main__ - INFO - [START] Starting enhanced batch processing: 87eb8ea5-8ef0-4a81-82b5-e28f3dbe400a
2025-08-14 00:35:48,972 - __main__ - INFO - Memory before processing: 192.0 MB
2025-08-14 00:35:49,467 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:35:49,469 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:35:51,573 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:35:51,591 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:35:51,628 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:35:51,628 - __main__ - INFO - Memory after processing: 244.0 MB
2025-08-14 00:35:51,630 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-14 00:35:51,631 - utils.performance_optimizer - INFO -   Memory Usage: 244.0 MB (1.5%)
2025-08-14 00:35:51,631 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:35:51,631 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:35:51,631 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:35:51,632 - __main__ - INFO - ============================================================
2025-08-14 00:35:51,632 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-14 00:35:51,632 - __main__ - INFO - ============================================================
2025-08-14 00:35:51,632 - __main__ - INFO - [ID] Batch ID: 87eb8ea5-8ef0-4a81-82b5-e28f3dbe400a
2025-08-14 00:35:51,632 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-14 00:35:51,632 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-14 00:35:51,632 - __main__ - INFO - [NEW] New persons: 4
2025-08-14 00:35:51,632 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:35:51,632 - __main__ - INFO - [TIME] Processing time: 2.66s
2025-08-14 00:35:51,632 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:35:51,632 - __main__ - INFO - [MEMORY] Memory usage: 244.0 MB
2025-08-14 00:35:51,632 - __main__ - INFO - [INCREASE] Memory increase: 52.1 MB
2025-08-14 00:35:51,632 - __main__ - INFO - ============================================================
2025-08-14 00:35:56,661 - __main__ - INFO - [START] Starting enhanced batch processing: 0ef199c4-2be3-47ed-91c1-6819422d20b2
2025-08-14 00:35:56,661 - __main__ - INFO - Memory before processing: 244.0 MB
2025-08-14 00:35:56,994 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:35:56,999 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:35:59,124 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:35:59,146 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:35:59,182 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:35:59,182 - __main__ - INFO - Memory after processing: 248.8 MB
2025-08-14 00:35:59,186 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-14 00:35:59,186 - utils.performance_optimizer - INFO -   Memory Usage: 248.8 MB (1.5%)
2025-08-14 00:35:59,188 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:35:59,192 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:35:59,192 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:35:59,192 - __main__ - INFO - ============================================================
2025-08-14 00:35:59,192 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-14 00:35:59,192 - __main__ - INFO - ============================================================
2025-08-14 00:35:59,192 - __main__ - INFO - [ID] Batch ID: 0ef199c4-2be3-47ed-91c1-6819422d20b2
2025-08-14 00:35:59,192 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-14 00:35:59,192 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-14 00:35:59,193 - __main__ - INFO - [NEW] New persons: 4
2025-08-14 00:35:59,193 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:35:59,193 - __main__ - INFO - [TIME] Processing time: 2.52s
2025-08-14 00:35:59,193 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:35:59,193 - __main__ - INFO - [MEMORY] Memory usage: 248.8 MB
2025-08-14 00:35:59,194 - __main__ - INFO - [INCREASE] Memory increase: 4.7 MB
2025-08-14 00:35:59,194 - __main__ - INFO - ============================================================
2025-08-14 00:36:04,223 - __main__ - INFO - [START] Starting enhanced batch processing: e363387a-47c2-4059-ae1a-294c1c0a4b04
2025-08-14 00:36:04,223 - __main__ - INFO - Memory before processing: 248.8 MB
2025-08-14 00:36:04,480 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:36:04,485 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:36:06,432 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:36:06,458 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:36:06,499 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:36:06,501 - __main__ - INFO - Memory after processing: 248.8 MB
2025-08-14 00:36:06,503 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-14 00:36:06,503 - utils.performance_optimizer - INFO -   Memory Usage: 248.8 MB (1.5%)
2025-08-14 00:36:06,503 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:36:06,503 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:36:06,503 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:36:06,503 - __main__ - INFO - ============================================================
2025-08-14 00:36:06,503 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-14 00:36:06,503 - __main__ - INFO - ============================================================
2025-08-14 00:36:06,503 - __main__ - INFO - [ID] Batch ID: e363387a-47c2-4059-ae1a-294c1c0a4b04
2025-08-14 00:36:06,503 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-14 00:36:06,503 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-14 00:36:06,503 - __main__ - INFO - [NEW] New persons: 4
2025-08-14 00:36:06,503 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:36:06,503 - __main__ - INFO - [TIME] Processing time: 2.28s
2025-08-14 00:36:06,503 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:36:06,503 - __main__ - INFO - [MEMORY] Memory usage: 248.8 MB
2025-08-14 00:36:06,503 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-14 00:36:06,508 - __main__ - INFO - ============================================================
2025-08-14 00:36:10,688 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-14 00:36:10,689 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-14 00:36:10,691 - __main__ - INFO - 
======================================================================
2025-08-14 00:36:10,692 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:36:10,692 - __main__ - INFO - ======================================================================
2025-08-14 00:36:10,692 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:36:10,692 - __main__ - INFO -   Total Unique Persons: 88
2025-08-14 00:36:10,692 - __main__ - INFO -   Total Visits: 88
2025-08-14 00:36:10,692 - __main__ - INFO -   Recent Visitors (24h): 88
2025-08-14 00:36:10,692 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:36:10,693 - __main__ - INFO -   Total Batches: 3
2025-08-14 00:36:10,693 - __main__ - INFO -   Total Images Processed: 3
2025-08-14 00:36:10,693 - __main__ - INFO -   Total Faces Detected: 12
2025-08-14 00:36:10,693 - __main__ - INFO -   Total New Persons: 12
2025-08-14 00:36:10,693 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:36:10,694 - __main__ - INFO -   Total Processing Time: 7.45s
2025-08-14 00:36:10,694 - __main__ - INFO -   System Uptime: 0:00:26.753323
2025-08-14 00:36:10,694 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:36:10,694 - __main__ - INFO -   Memory Usage: 248.8 MB (1.5%)
2025-08-14 00:36:10,694 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:36:10,694 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:36:10,694 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:36:10,694 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:36:10,694 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:36:10,695 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:36:10,695 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:36:10,695 - __main__ - INFO -   Quality Check: True
2025-08-14 00:36:10,695 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:36:10,696 - __main__ - INFO - ======================================================================

2025-08-14 00:36:10,696 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-14 00:36:10,696 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-14 00:36:10,724 - utils.performance_optimizer - INFO - [OK] Memory after GC: 248.8 MB
2025-08-14 00:36:10,725 - __main__ - INFO - [DONE] System shutdown complete
2025-08-14 00:44:27,048 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-14 00:44:27,048 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-14 00:44:27,062 - __main__ - INFO - 
======================================================================
2025-08-14 00:44:27,063 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:44:27,063 - __main__ - INFO - ======================================================================
2025-08-14 00:44:27,063 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:44:27,063 - __main__ - INFO -   Total Unique Persons: 88
2025-08-14 00:44:27,063 - __main__ - INFO -   Total Visits: 88
2025-08-14 00:44:27,064 - __main__ - INFO -   Recent Visitors (24h): 88
2025-08-14 00:44:27,064 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:44:27,064 - __main__ - INFO -   Total Batches: 0
2025-08-14 00:44:27,064 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 00:44:27,064 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 00:44:27,064 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:44:27,064 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:44:27,064 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 00:44:27,064 - __main__ - INFO -   System Uptime: 0:00:00.016654
2025-08-14 00:44:27,065 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:44:27,065 - __main__ - INFO -   Memory Usage: 191.8 MB (1.2%)
2025-08-14 00:44:27,065 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:44:27,065 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:44:27,065 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:44:27,065 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:44:27,065 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:44:27,065 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:44:27,065 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:44:27,066 - __main__ - INFO -   Quality Check: True
2025-08-14 00:44:27,066 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:44:27,066 - __main__ - INFO - ======================================================================

2025-08-14 00:44:32,112 - __main__ - INFO - [START] Starting enhanced batch processing: b7bd652a-c840-464a-b947-6d25c8370530
2025-08-14 00:44:32,113 - __main__ - INFO - Memory before processing: 191.9 MB
2025-08-14 00:44:32,745 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:44:32,747 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:44:35,006 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:44:35,024 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:44:35,029 - __main__ - INFO - [NEW] Created new person: ff38438f-a0bd-4254-afc1-50d1c2b43efe
2025-08-14 00:44:35,035 - __main__ - INFO - [NEW] Created new person: 9acde033-c3d8-49a2-a894-23472a2f424b
2025-08-14 00:44:35,043 - __main__ - INFO - [NEW] Created new person: 73ca10f2-002b-4517-962c-447c8e84c7e3
2025-08-14 00:44:35,049 - __main__ - INFO - [NEW] Created new person: d7153e54-d4d8-43f5-9265-021261b050bf
2025-08-14 00:44:35,055 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:44:35,055 - __main__ - INFO - Memory after processing: 243.9 MB
2025-08-14 00:44:35,057 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-14 00:44:35,059 - utils.performance_optimizer - INFO -   Memory Usage: 243.9 MB (1.5%)
2025-08-14 00:44:35,059 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:44:35,059 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:44:35,059 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:44:35,059 - __main__ - INFO - ============================================================
2025-08-14 00:44:35,059 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-14 00:44:35,059 - __main__ - INFO - ============================================================
2025-08-14 00:44:35,059 - __main__ - INFO - [ID] Batch ID: b7bd652a-c840-464a-b947-6d25c8370530
2025-08-14 00:44:35,060 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-14 00:44:35,060 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-14 00:44:35,060 - __main__ - INFO - [NEW] New persons: 4
2025-08-14 00:44:35,060 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:44:35,060 - __main__ - INFO - [TIME] Processing time: 2.94s
2025-08-14 00:44:35,060 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:44:35,062 - __main__ - INFO - [MEMORY] Memory usage: 243.9 MB
2025-08-14 00:44:35,062 - __main__ - INFO - [INCREASE] Memory increase: 52.0 MB
2025-08-14 00:44:35,062 - __main__ - INFO - ============================================================
2025-08-14 00:44:40,097 - __main__ - INFO - [START] Starting enhanced batch processing: 937aa014-0870-469c-b46f-71a5f5d3797e
2025-08-14 00:44:40,098 - __main__ - INFO - Memory before processing: 243.9 MB
2025-08-14 00:44:40,470 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:44:40,472 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:44:42,557 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:44:42,576 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:44:42,580 - __main__ - INFO - [NEW] Created new person: 7089c2eb-3195-4f94-a0d5-11139e2b17fc
2025-08-14 00:44:42,593 - __main__ - INFO - [NEW] Created new person: 03fe5b6e-607e-4e43-abf0-9bca98126ffb
2025-08-14 00:44:42,601 - __main__ - INFO - [NEW] Created new person: 859e79a9-565d-4e71-b6cc-38cc6fb4cef9
2025-08-14 00:44:42,607 - __main__ - INFO - [NEW] Created new person: 40b12333-570a-499f-816b-55740bd2a4eb
2025-08-14 00:44:42,611 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:44:42,611 - __main__ - INFO - Memory after processing: 248.3 MB
2025-08-14 00:44:42,617 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-14 00:44:42,617 - utils.performance_optimizer - INFO -   Memory Usage: 248.3 MB (1.5%)
2025-08-14 00:44:42,619 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:44:42,619 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:44:42,619 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:44:42,619 - __main__ - INFO - ============================================================
2025-08-14 00:44:42,619 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-14 00:44:42,619 - __main__ - INFO - ============================================================
2025-08-14 00:44:42,619 - __main__ - INFO - [ID] Batch ID: 937aa014-0870-469c-b46f-71a5f5d3797e
2025-08-14 00:44:42,619 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-14 00:44:42,619 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-14 00:44:42,619 - __main__ - INFO - [NEW] New persons: 4
2025-08-14 00:44:42,621 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:44:42,621 - __main__ - INFO - [TIME] Processing time: 2.51s
2025-08-14 00:44:42,621 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:44:42,621 - __main__ - INFO - [MEMORY] Memory usage: 248.3 MB
2025-08-14 00:44:42,621 - __main__ - INFO - [INCREASE] Memory increase: 4.5 MB
2025-08-14 00:44:42,621 - __main__ - INFO - ============================================================
2025-08-14 00:44:43,561 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-14 00:44:43,561 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-14 00:44:43,568 - __main__ - INFO - 
======================================================================
2025-08-14 00:44:43,569 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:44:43,569 - __main__ - INFO - ======================================================================
2025-08-14 00:44:43,569 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:44:43,569 - __main__ - INFO -   Total Unique Persons: 96
2025-08-14 00:44:43,570 - __main__ - INFO -   Total Visits: 96
2025-08-14 00:44:43,570 - __main__ - INFO -   Recent Visitors (24h): 96
2025-08-14 00:44:43,570 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:44:43,570 - __main__ - INFO -   Total Batches: 2
2025-08-14 00:44:43,570 - __main__ - INFO -   Total Images Processed: 2
2025-08-14 00:44:43,571 - __main__ - INFO -   Total Faces Detected: 8
2025-08-14 00:44:43,571 - __main__ - INFO -   Total New Persons: 8
2025-08-14 00:44:43,571 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:44:43,571 - __main__ - INFO -   Total Processing Time: 5.46s
2025-08-14 00:44:43,572 - __main__ - INFO -   System Uptime: 0:00:16.522398
2025-08-14 00:44:43,572 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:44:43,572 - __main__ - INFO -   Memory Usage: 248.3 MB (1.5%)
2025-08-14 00:44:43,573 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:44:43,573 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:44:43,573 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:44:43,574 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:44:43,574 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:44:43,574 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:44:43,575 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:44:43,575 - __main__ - INFO -   Quality Check: True
2025-08-14 00:44:43,575 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:44:43,576 - __main__ - INFO - ======================================================================

2025-08-14 00:44:43,576 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-14 00:44:43,576 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-14 00:44:43,599 - utils.performance_optimizer - INFO - [OK] Memory after GC: 248.3 MB
2025-08-14 00:44:43,599 - __main__ - INFO - [DONE] System shutdown complete
2025-08-14 00:55:10,904 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-14 00:55:10,904 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-14 00:55:10,904 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-14 00:55:10,904 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-14 00:55:10,907 - __main__ - INFO - 
======================================================================
2025-08-14 00:55:10,909 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:55:10,909 - __main__ - INFO - ======================================================================
2025-08-14 00:55:10,909 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:55:10,909 - __main__ - INFO -   Total Unique Persons: 96
2025-08-14 00:55:10,909 - __main__ - INFO -   Total Visits: 96
2025-08-14 00:55:10,910 - __main__ - INFO -   Recent Visitors (24h): 96
2025-08-14 00:55:10,910 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:55:10,910 - __main__ - INFO -   Total Batches: 0
2025-08-14 00:55:10,910 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 00:55:10,910 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 00:55:10,910 - __main__ - INFO -   Total New Persons: 0
2025-08-14 00:55:10,910 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:55:10,910 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 00:55:10,910 - __main__ - INFO -   System Uptime: 0:00:00.003880
2025-08-14 00:55:10,910 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:55:10,910 - __main__ - INFO -   Memory Usage: 191.8 MB (1.2%)
2025-08-14 00:55:10,910 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:55:10,910 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:55:10,910 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:55:10,915 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-14 00:55:10,915 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-14 00:55:10,915 - __main__ - INFO -   Image Duplicates: 0
2025-08-14 00:55:10,915 - __main__ - INFO -   Face Duplicates: 0
2025-08-14 00:55:10,915 - __main__ - INFO -   Batch Duplicates: 0
2025-08-14 00:55:10,915 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-14 00:55:10,915 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:55:10,915 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:55:10,915 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:55:10,915 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:55:10,915 - __main__ - INFO -   Quality Check: True
2025-08-14 00:55:10,915 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:55:10,915 - __main__ - INFO -   Sleep Mode: True
2025-08-14 00:55:10,915 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-14 00:55:10,915 - __main__ - INFO - ======================================================================

2025-08-14 00:55:15,956 - __main__ - INFO - [START] Starting enhanced batch processing: 283493e0-f89a-4cd7-b51a-2291e43efcb3
2025-08-14 00:55:15,958 - __main__ - INFO - Memory before processing: 191.9 MB
2025-08-14 00:55:16,506 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:55:16,506 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:55:18,805 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-14 00:55:18,838 - __main__ - INFO - Processing 4 temp faces against 0 known persons
2025-08-14 00:55:18,845 - __main__ - INFO - [NEW] Created new person: 1b5c378f-cca8-4559-9cbf-16f8f12e2ae0
2025-08-14 00:55:18,870 - __main__ - INFO - [NEW] Created new person: 6fa83a37-1401-411e-99d9-cd4788b35ac0
2025-08-14 00:55:18,889 - __main__ - INFO - [NEW] Created new person: f8c8ac84-fdcc-46da-8982-3c4e1c9c33a3
2025-08-14 00:55:18,905 - __main__ - INFO - [NEW] Created new person: 71f3094a-6c0c-4eaa-925e-d6db540785b0
2025-08-14 00:55:18,911 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-14 00:55:18,920 - __main__ - INFO - Memory after processing: 243.9 MB
2025-08-14 00:55:18,924 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-14 00:55:18,926 - utils.performance_optimizer - INFO -   Memory Usage: 243.9 MB (1.5%)
2025-08-14 00:55:18,926 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-14 00:55:18,933 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:55:18,936 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-14 00:55:18,936 - __main__ - INFO - ============================================================
2025-08-14 00:55:18,936 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-14 00:55:18,937 - __main__ - INFO - ============================================================
2025-08-14 00:55:18,937 - __main__ - INFO - [ID] Batch ID: 283493e0-f89a-4cd7-b51a-2291e43efcb3
2025-08-14 00:55:18,937 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-14 00:55:18,937 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-14 00:55:18,938 - __main__ - INFO - [NEW] New persons: 4
2025-08-14 00:55:18,938 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-14 00:55:18,939 - __main__ - INFO - [TIME] Processing time: 2.96s
2025-08-14 00:55:18,940 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-14 00:55:18,940 - __main__ - INFO - [MEMORY] Memory usage: 243.9 MB
2025-08-14 00:55:18,940 - __main__ - INFO - [INCREASE] Memory increase: 52.0 MB
2025-08-14 00:55:18,940 - __main__ - INFO - ============================================================
2025-08-14 00:55:23,981 - __main__ - INFO - [START] Starting enhanced batch processing: c434d4a5-4dcd-4d74-b674-6faacff7289d
2025-08-14 00:55:23,983 - __main__ - INFO - Memory before processing: 243.9 MB
2025-08-14 00:55:24,248 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:55:24,250 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:55:24,688 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 00:55:24,688 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 00:55:24,695 - __main__ - INFO - [DUPLICATE] Found 1 duplicate images, continuing with new images
2025-08-14 00:55:24,697 - __main__ - INFO - No new images to process after duplicate check
2025-08-14 00:55:29,737 - __main__ - INFO - [START] Starting enhanced batch processing: 8dda8ced-4ea2-42ba-9335-6b0c8144b27d
2025-08-14 00:55:29,738 - __main__ - INFO - Memory before processing: 246.1 MB
2025-08-14 00:55:30,217 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:55:30,230 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:55:30,614 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 00:55:30,614 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 00:55:30,643 - __main__ - INFO - [DUPLICATE] Found 1 duplicate images, continuing with new images
2025-08-14 00:55:30,643 - __main__ - INFO - No new images to process after duplicate check
2025-08-14 00:55:35,670 - __main__ - INFO - [START] Starting enhanced batch processing: 77a51fc0-dd57-4858-a58d-589f14ed24ea
2025-08-14 00:55:35,672 - __main__ - INFO - Memory before processing: 246.2 MB
2025-08-14 00:55:35,904 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 00:55:35,909 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 00:55:36,275 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 00:55:36,275 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 00:55:36,297 - __main__ - INFO - [DUPLICATE] Found 1 duplicate images, continuing with new images
2025-08-14 00:55:36,297 - __main__ - INFO - No new images to process after duplicate check
2025-08-14 00:55:39,997 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-14 00:55:39,997 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-14 00:55:40,002 - __main__ - INFO - 
======================================================================
2025-08-14 00:55:40,003 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 00:55:40,003 - __main__ - INFO - ======================================================================
2025-08-14 00:55:40,003 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 00:55:40,003 - __main__ - INFO -   Total Unique Persons: 100
2025-08-14 00:55:40,003 - __main__ - INFO -   Total Visits: 100
2025-08-14 00:55:40,003 - __main__ - INFO -   Recent Visitors (24h): 100
2025-08-14 00:55:40,003 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 00:55:40,003 - __main__ - INFO -   Total Batches: 1
2025-08-14 00:55:40,005 - __main__ - INFO -   Total Images Processed: 1
2025-08-14 00:55:40,005 - __main__ - INFO -   Total Faces Detected: 4
2025-08-14 00:55:40,005 - __main__ - INFO -   Total New Persons: 4
2025-08-14 00:55:40,005 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 00:55:40,005 - __main__ - INFO -   Total Processing Time: 2.96s
2025-08-14 00:55:40,005 - __main__ - INFO -   System Uptime: 0:00:29.098604
2025-08-14 00:55:40,005 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 00:55:40,005 - __main__ - INFO -   Memory Usage: 246.3 MB (1.5%)
2025-08-14 00:55:40,005 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 00:55:40,005 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 00:55:40,007 - __main__ - INFO -   FAISS Available: True
2025-08-14 00:55:40,008 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-14 00:55:40,008 - __main__ - INFO -   Total Duplicates (24h): 3
2025-08-14 00:55:40,008 - __main__ - INFO -   Image Duplicates: 3
2025-08-14 00:55:40,008 - __main__ - INFO -   Face Duplicates: 0
2025-08-14 00:55:40,008 - __main__ - INFO -   Batch Duplicates: 0
2025-08-14 00:55:40,011 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-14 00:55:40,011 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 00:55:40,011 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 00:55:40,011 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 00:55:40,011 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 00:55:40,011 - __main__ - INFO -   Quality Check: True
2025-08-14 00:55:40,011 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 00:55:40,011 - __main__ - INFO -   Sleep Mode: True
2025-08-14 00:55:40,011 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-14 00:55:40,011 - __main__ - INFO - ======================================================================

2025-08-14 00:55:40,011 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-14 00:55:40,011 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-14 00:55:40,035 - utils.performance_optimizer - INFO - [OK] Memory after GC: 246.3 MB
2025-08-14 00:55:40,036 - __main__ - INFO - [DONE] System shutdown complete
2025-08-14 10:53:25,161 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-14 10:53:25,161 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-14 10:53:25,161 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-14 10:53:25,161 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-14 10:53:25,165 - __main__ - INFO - 
======================================================================
2025-08-14 10:53:25,166 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 10:53:25,166 - __main__ - INFO - ======================================================================
2025-08-14 10:53:25,166 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 10:53:25,166 - __main__ - INFO -   Total Unique Persons: 0
2025-08-14 10:53:25,166 - __main__ - INFO -   Total Visits: 0
2025-08-14 10:53:25,166 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-14 10:53:25,167 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 10:53:25,167 - __main__ - INFO -   Total Batches: 0
2025-08-14 10:53:25,167 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 10:53:25,167 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 10:53:25,167 - __main__ - INFO -   Total New Persons: 0
2025-08-14 10:53:25,167 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 10:53:25,167 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 10:53:25,167 - __main__ - INFO -   System Uptime: 0:00:00.003834
2025-08-14 10:53:25,167 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 10:53:25,167 - __main__ - INFO -   Memory Usage: 191.5 MB (1.2%)
2025-08-14 10:53:25,168 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 10:53:25,168 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 10:53:25,168 - __main__ - INFO -   FAISS Available: True
2025-08-14 10:53:25,172 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-14 10:53:25,172 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-14 10:53:25,172 - __main__ - INFO -   Image Duplicates: 0
2025-08-14 10:53:25,173 - __main__ - INFO -   Face Duplicates: 0
2025-08-14 10:53:25,173 - __main__ - INFO -   Batch Duplicates: 0
2025-08-14 10:53:25,173 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-14 10:53:25,173 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 10:53:25,174 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 10:53:25,174 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 10:53:25,174 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 10:53:25,174 - __main__ - INFO -   Quality Check: True
2025-08-14 10:53:25,174 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 10:53:25,174 - __main__ - INFO -   Sleep Mode: True
2025-08-14 10:53:25,174 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-14 10:53:25,175 - __main__ - INFO - ======================================================================

2025-08-14 10:53:30,219 - __main__ - INFO - [START] Starting enhanced batch processing: 49c96858-7ec8-4ad6-aea6-ceaafa779a62
2025-08-14 10:53:30,221 - __main__ - INFO - Memory before processing: 191.5 MB
2025-08-14 10:53:30,413 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-14 10:53:30,413 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-14 10:53:30,415 - __main__ - INFO - 
======================================================================
2025-08-14 10:53:30,415 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 10:53:30,415 - __main__ - INFO - ======================================================================
2025-08-14 10:53:30,415 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 10:53:30,415 - __main__ - INFO -   Total Unique Persons: 0
2025-08-14 10:53:30,415 - __main__ - INFO -   Total Visits: 0
2025-08-14 10:53:30,415 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-14 10:53:30,415 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 10:53:30,417 - __main__ - INFO -   Total Batches: 0
2025-08-14 10:53:30,417 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 10:53:30,417 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 10:53:30,417 - __main__ - INFO -   Total New Persons: 0
2025-08-14 10:53:30,417 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 10:53:30,417 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 10:53:30,417 - __main__ - INFO -   System Uptime: 0:00:05.254102
2025-08-14 10:53:30,417 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 10:53:30,417 - __main__ - INFO -   Memory Usage: 192.5 MB (1.2%)
2025-08-14 10:53:30,417 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 10:53:30,417 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 10:53:30,417 - __main__ - INFO -   FAISS Available: True
2025-08-14 10:53:30,421 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-14 10:53:30,421 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-14 10:53:30,422 - __main__ - INFO -   Image Duplicates: 0
2025-08-14 10:53:30,422 - __main__ - INFO -   Face Duplicates: 0
2025-08-14 10:53:30,422 - __main__ - INFO -   Batch Duplicates: 0
2025-08-14 10:53:30,422 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-14 10:53:30,422 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 10:53:30,422 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 10:53:30,422 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 10:53:30,423 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 10:53:30,423 - __main__ - INFO -   Quality Check: True
2025-08-14 10:53:30,423 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 10:53:30,423 - __main__ - INFO -   Sleep Mode: True
2025-08-14 10:53:30,423 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-14 10:53:30,423 - __main__ - INFO - ======================================================================

2025-08-14 10:53:30,423 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-14 10:53:30,423 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-14 10:53:30,441 - utils.performance_optimizer - INFO - [OK] Memory after GC: 192.5 MB
2025-08-14 10:53:30,441 - __main__ - INFO - [DONE] System shutdown complete
2025-08-14 10:54:40,432 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-14 10:54:40,433 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-14 10:54:40,433 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-14 10:54:40,433 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-14 10:54:40,457 - __main__ - INFO - 
======================================================================
2025-08-14 10:54:40,457 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 10:54:40,457 - __main__ - INFO - ======================================================================
2025-08-14 10:54:40,457 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 10:54:40,457 - __main__ - INFO -   Total Unique Persons: 0
2025-08-14 10:54:40,458 - __main__ - INFO -   Total Visits: 0
2025-08-14 10:54:40,458 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-14 10:54:40,458 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 10:54:40,458 - __main__ - INFO -   Total Batches: 0
2025-08-14 10:54:40,458 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 10:54:40,458 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 10:54:40,458 - __main__ - INFO -   Total New Persons: 0
2025-08-14 10:54:40,458 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 10:54:40,458 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 10:54:40,458 - __main__ - INFO -   System Uptime: 0:00:00.024470
2025-08-14 10:54:40,458 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 10:54:40,460 - __main__ - INFO -   Memory Usage: 191.6 MB (1.2%)
2025-08-14 10:54:40,460 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 10:54:40,460 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 10:54:40,460 - __main__ - INFO -   FAISS Available: True
2025-08-14 10:54:40,473 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-14 10:54:40,473 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-14 10:54:40,473 - __main__ - INFO -   Image Duplicates: 0
2025-08-14 10:54:40,473 - __main__ - INFO -   Face Duplicates: 0
2025-08-14 10:54:40,473 - __main__ - INFO -   Batch Duplicates: 0
2025-08-14 10:54:40,474 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-14 10:54:40,474 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 10:54:40,474 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 10:54:40,474 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 10:54:40,474 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 10:54:40,474 - __main__ - INFO -   Quality Check: True
2025-08-14 10:54:40,474 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 10:54:40,474 - __main__ - INFO -   Sleep Mode: True
2025-08-14 10:54:40,474 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-14 10:54:40,476 - __main__ - INFO - ======================================================================

2025-08-14 10:54:45,500 - __main__ - INFO - [START] Starting enhanced batch processing: dcb6e813-cbff-4d1f-86d0-37bd7dfd8fff
2025-08-14 10:54:45,504 - __main__ - INFO - Memory before processing: 191.6 MB
2025-08-14 10:54:46,351 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 10:54:46,355 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 10:54:54,884 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 10:54:54,885 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 10:54:54,893 - __main__ - INFO - [DUPLICATE] Found 1 duplicate images, continuing with new images
2025-08-14 10:54:54,893 - __main__ - INFO - No new images to process after duplicate check
2025-08-14 10:54:59,941 - __main__ - INFO - [START] Starting enhanced batch processing: bfadecdf-8f4c-4737-bfa4-e7f8e9d02582
2025-08-14 10:54:59,944 - __main__ - INFO - Memory before processing: 196.1 MB
2025-08-14 10:55:01,414 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-14 10:55:01,415 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-14 10:55:09,448 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 10:55:09,448 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-14 10:55:09,515 - __main__ - INFO - [DUPLICATE] Found 1 duplicate images, continuing with new images
2025-08-14 10:55:09,516 - __main__ - INFO - No new images to process after duplicate check
2025-08-14 10:55:10,525 - __main__ - INFO - 
======================================================================
2025-08-14 10:55:10,525 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 10:55:10,525 - __main__ - INFO - ======================================================================
2025-08-14 10:55:10,525 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 10:55:10,526 - __main__ - INFO -   Total Unique Persons: 0
2025-08-14 10:55:10,526 - __main__ - INFO -   Total Visits: 0
2025-08-14 10:55:10,526 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-14 10:55:10,526 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 10:55:10,526 - __main__ - INFO -   Total Batches: 0
2025-08-14 10:55:10,526 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 10:55:10,526 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 10:55:10,526 - __main__ - INFO -   Total New Persons: 0
2025-08-14 10:55:10,526 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 10:55:10,526 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 10:55:10,526 - __main__ - INFO -   System Uptime: 0:00:30.092852
2025-08-14 10:55:10,526 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 10:55:10,526 - __main__ - INFO -   Memory Usage: 196.2 MB (1.2%)
2025-08-14 10:55:10,527 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 10:55:10,527 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 10:55:10,527 - __main__ - INFO -   FAISS Available: True
2025-08-14 10:55:10,531 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-14 10:55:10,531 - __main__ - INFO -   Total Duplicates (24h): 2
2025-08-14 10:55:10,531 - __main__ - INFO -   Image Duplicates: 2
2025-08-14 10:55:10,532 - __main__ - INFO -   Face Duplicates: 0
2025-08-14 10:55:10,532 - __main__ - INFO -   Batch Duplicates: 0
2025-08-14 10:55:10,532 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-14 10:55:10,532 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 10:55:10,532 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 10:55:10,532 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 10:55:10,532 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 10:55:10,532 - __main__ - INFO -   Quality Check: True
2025-08-14 10:55:10,532 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 10:55:10,532 - __main__ - INFO -   Sleep Mode: True
2025-08-14 10:55:10,532 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-14 10:55:10,532 - __main__ - INFO - ======================================================================

2025-08-14 10:55:13,031 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-14 10:55:13,031 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-14 10:55:13,043 - __main__ - INFO - 
======================================================================
2025-08-14 10:55:13,043 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-14 10:55:13,043 - __main__ - INFO - ======================================================================
2025-08-14 10:55:13,043 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-14 10:55:13,043 - __main__ - INFO -   Total Unique Persons: 0
2025-08-14 10:55:13,043 - __main__ - INFO -   Total Visits: 0
2025-08-14 10:55:13,043 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-14 10:55:13,044 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-14 10:55:13,044 - __main__ - INFO -   Total Batches: 0
2025-08-14 10:55:13,044 - __main__ - INFO -   Total Images Processed: 0
2025-08-14 10:55:13,044 - __main__ - INFO -   Total Faces Detected: 0
2025-08-14 10:55:13,044 - __main__ - INFO -   Total New Persons: 0
2025-08-14 10:55:13,044 - __main__ - INFO -   Total Existing Persons: 0
2025-08-14 10:55:13,044 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-14 10:55:13,044 - __main__ - INFO -   System Uptime: 0:00:32.610583
2025-08-14 10:55:13,044 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-14 10:55:13,044 - __main__ - INFO -   Memory Usage: 196.2 MB (1.2%)
2025-08-14 10:55:13,044 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-14 10:55:13,046 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-14 10:55:13,046 - __main__ - INFO -   FAISS Available: True
2025-08-14 10:55:13,051 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-14 10:55:13,052 - __main__ - INFO -   Total Duplicates (24h): 2
2025-08-14 10:55:13,053 - __main__ - INFO -   Image Duplicates: 2
2025-08-14 10:55:13,053 - __main__ - INFO -   Face Duplicates: 0
2025-08-14 10:55:13,053 - __main__ - INFO -   Batch Duplicates: 0
2025-08-14 10:55:13,053 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-14 10:55:13,053 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-14 10:55:13,053 - __main__ - INFO -   Face Threshold: 0.6
2025-08-14 10:55:13,053 - __main__ - INFO -   Max Batch Size: 10
2025-08-14 10:55:13,054 - __main__ - INFO -   Processing Interval: 5s
2025-08-14 10:55:13,054 - __main__ - INFO -   Quality Check: True
2025-08-14 10:55:13,054 - __main__ - INFO -   FAISS Enabled: True
2025-08-14 10:55:13,054 - __main__ - INFO -   Sleep Mode: True
2025-08-14 10:55:13,054 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-14 10:55:13,054 - __main__ - INFO - ======================================================================

2025-08-14 10:55:13,054 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-14 10:55:13,054 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-14 10:55:13,079 - utils.performance_optimizer - INFO - [OK] Memory after GC: 196.2 MB
2025-08-14 10:55:13,079 - __main__ - INFO - [DONE] System shutdown complete
2025-08-19 00:28:40,905 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-19 00:28:40,905 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-19 00:28:40,905 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-19 00:28:40,905 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-19 00:28:53,071 - __main__ - INFO - 
======================================================================
2025-08-19 00:28:53,071 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-19 00:28:53,073 - __main__ - INFO - ======================================================================
2025-08-19 00:28:53,073 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-19 00:28:53,073 - __main__ - INFO -   Total Unique Persons: 0
2025-08-19 00:28:53,073 - __main__ - INFO -   Total Visits: 0
2025-08-19 00:28:53,073 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-19 00:28:53,073 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-19 00:28:53,073 - __main__ - INFO -   Total Batches: 0
2025-08-19 00:28:53,073 - __main__ - INFO -   Total Images Processed: 0
2025-08-19 00:28:53,073 - __main__ - INFO -   Total Faces Detected: 0
2025-08-19 00:28:53,073 - __main__ - INFO -   Total New Persons: 0
2025-08-19 00:28:53,073 - __main__ - INFO -   Total Existing Persons: 0
2025-08-19 00:28:53,073 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-19 00:28:53,079 - __main__ - INFO -   System Uptime: 0:00:12.166002
2025-08-19 00:28:53,079 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-19 00:28:53,079 - __main__ - INFO -   Memory Usage: 191.0 MB (1.2%)
2025-08-19 00:28:53,079 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-19 00:28:53,079 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-19 00:28:53,079 - __main__ - INFO -   FAISS Available: True
2025-08-19 00:29:05,235 - utils.duplicate_detector - ERROR - Error getting recent duplicate events: 'NoneType' object is not iterable
2025-08-19 00:29:17,415 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-19 00:29:17,415 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-19 00:29:17,415 - __main__ - INFO -   Image Duplicates: 0
2025-08-19 00:29:17,415 - __main__ - INFO -   Face Duplicates: 0
2025-08-19 00:29:17,415 - __main__ - INFO -   Batch Duplicates: 0
2025-08-19 00:29:17,415 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-19 00:29:17,415 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-19 00:29:17,415 - __main__ - INFO -   Face Threshold: 0.6
2025-08-19 00:29:17,415 - __main__ - INFO -   Max Batch Size: 10
2025-08-19 00:29:17,415 - __main__ - INFO -   Processing Interval: 5s
2025-08-19 00:29:17,415 - __main__ - INFO -   Quality Check: True
2025-08-19 00:29:17,415 - __main__ - INFO -   FAISS Enabled: True
2025-08-19 00:29:17,415 - __main__ - INFO -   Sleep Mode: True
2025-08-19 00:29:17,415 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-19 00:29:17,415 - __main__ - INFO - ======================================================================

2025-08-19 00:29:17,415 - __main__ - INFO - [START] Starting enhanced batch processing: 516c0476-1983-446a-aa14-4bb12ec95ee9
2025-08-19 00:29:29,645 - __main__ - INFO - Memory before processing: 191.0 MB
2025-08-19 00:29:31,136 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-19 00:29:31,152 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-19 00:29:51,481 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-19 00:31:16,852 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-19 00:31:16,871 - __main__ - INFO - Memory after processing: 243.5 MB
2025-08-19 00:31:29,064 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-19 00:31:29,068 - utils.performance_optimizer - INFO -   Memory Usage: 243.5 MB (1.5%)
2025-08-19 00:31:29,094 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-19 00:31:29,114 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-19 00:31:29,124 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-19 00:31:29,138 - __main__ - INFO - ============================================================
2025-08-19 00:31:29,159 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-19 00:31:29,179 - __main__ - INFO - ============================================================
2025-08-19 00:31:29,189 - __main__ - INFO - [ID] Batch ID: 516c0476-1983-446a-aa14-4bb12ec95ee9
2025-08-19 00:31:29,253 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-19 00:31:29,301 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-19 00:31:29,327 - __main__ - INFO - [NEW] New persons: 0
2025-08-19 00:31:29,327 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-19 00:31:29,327 - __main__ - INFO - [TIME] Processing time: 119.46s
2025-08-19 00:31:29,332 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-19 00:31:29,332 - __main__ - INFO - [MEMORY] Memory usage: 243.5 MB
2025-08-19 00:31:29,332 - __main__ - INFO - [INCREASE] Memory increase: 52.5 MB
2025-08-19 00:31:29,334 - __main__ - INFO - ============================================================
2025-08-19 00:31:41,517 - __main__ - INFO - 
======================================================================
2025-08-19 00:31:41,517 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-19 00:31:41,517 - __main__ - INFO - ======================================================================
2025-08-19 00:31:41,517 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-19 00:31:41,517 - __main__ - INFO -   Total Unique Persons: 0
2025-08-19 00:31:41,517 - __main__ - INFO -   Total Visits: 0
2025-08-19 00:31:41,517 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-19 00:31:41,517 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-19 00:31:41,525 - __main__ - INFO -   Total Batches: 1
2025-08-19 00:31:41,526 - __main__ - INFO -   Total Images Processed: 1
2025-08-19 00:31:41,526 - __main__ - INFO -   Total Faces Detected: 4
2025-08-19 00:31:41,526 - __main__ - INFO -   Total New Persons: 0
2025-08-19 00:31:41,535 - __main__ - INFO -   Total Existing Persons: 0
2025-08-19 00:31:41,535 - __main__ - INFO -   Total Processing Time: 119.46s
2025-08-19 00:31:41,535 - __main__ - INFO -   System Uptime: 0:03:00.611482
2025-08-19 00:31:41,535 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-19 00:31:41,535 - __main__ - INFO -   Memory Usage: 243.5 MB (1.5%)
2025-08-19 00:31:41,542 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-19 00:31:41,542 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-19 00:31:41,542 - __main__ - INFO -   FAISS Available: True
2025-08-19 00:31:53,745 - utils.duplicate_detector - ERROR - Error getting recent duplicate events: 'NoneType' object is not iterable
2025-08-19 00:32:05,960 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-19 00:32:05,960 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-19 00:32:05,970 - __main__ - INFO -   Image Duplicates: 0
2025-08-19 00:32:05,970 - __main__ - INFO -   Face Duplicates: 0
2025-08-19 00:32:05,970 - __main__ - INFO -   Batch Duplicates: 0
2025-08-19 00:32:05,978 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-19 00:32:05,978 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-19 00:32:05,980 - __main__ - INFO -   Face Threshold: 0.6
2025-08-19 00:32:05,982 - __main__ - INFO -   Max Batch Size: 10
2025-08-19 00:32:05,984 - __main__ - INFO -   Processing Interval: 5s
2025-08-19 00:32:05,990 - __main__ - INFO -   Quality Check: True
2025-08-19 00:32:06,003 - __main__ - INFO -   FAISS Enabled: True
2025-08-19 00:32:06,006 - __main__ - INFO -   Sleep Mode: True
2025-08-19 00:32:06,008 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-19 00:32:06,041 - __main__ - INFO - ======================================================================

2025-08-19 00:32:07,045 - __main__ - INFO - [START] Starting enhanced batch processing: d8c23c4e-92f8-4907-a1d1-577916cdb85d
2025-08-19 00:32:19,252 - __main__ - INFO - Memory before processing: 243.5 MB
2025-08-19 00:32:20,067 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-19 00:32:20,067 - __main__ - INFO - [FOUND] Found 1 recent images
2025-08-19 00:32:41,201 - utils.enhanced_face_service - INFO - Successfully processed 4 faces from temp_images/h4.jpg
2025-08-19 00:33:36,135 - utils.enhanced_face_service - INFO - Cleaned up 4 temporary face files
2025-08-19 00:33:36,151 - __main__ - INFO - Memory after processing: 249.6 MB
2025-08-19 00:33:36,153 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-19 00:33:36,153 - utils.performance_optimizer - INFO -   Memory Usage: 249.6 MB (1.6%)
2025-08-19 00:33:36,153 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-19 00:33:36,153 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-19 00:33:36,160 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-19 00:33:36,160 - __main__ - INFO - ============================================================
2025-08-19 00:33:36,160 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-19 00:33:36,160 - __main__ - INFO - ============================================================
2025-08-19 00:33:36,160 - __main__ - INFO - [ID] Batch ID: d8c23c4e-92f8-4907-a1d1-577916cdb85d
2025-08-19 00:33:36,160 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-19 00:33:36,160 - __main__ - INFO - [FACES] Faces detected: 4
2025-08-19 00:33:36,160 - __main__ - INFO - [NEW] New persons: 0
2025-08-19 00:33:36,164 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-19 00:33:36,168 - __main__ - INFO - [TIME] Processing time: 89.11s
2025-08-19 00:33:36,170 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-19 00:33:36,172 - __main__ - INFO - [MEMORY] Memory usage: 249.6 MB
2025-08-19 00:33:36,178 - __main__ - INFO - [INCREASE] Memory increase: 6.1 MB
2025-08-19 00:33:36,182 - __main__ - INFO - ============================================================
2025-08-19 00:33:37,207 - __main__ - INFO - 
======================================================================
2025-08-19 00:33:37,207 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-19 00:33:37,207 - __main__ - INFO - ======================================================================
2025-08-19 00:33:37,207 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-19 00:33:37,207 - __main__ - INFO -   Total Unique Persons: 0
2025-08-19 00:33:37,207 - __main__ - INFO -   Total Visits: 0
2025-08-19 00:33:37,207 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-19 00:33:37,214 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-19 00:33:37,214 - __main__ - INFO -   Total Batches: 2
2025-08-19 00:33:37,214 - __main__ - INFO -   Total Images Processed: 2
2025-08-19 00:33:37,214 - __main__ - INFO -   Total Faces Detected: 8
2025-08-19 00:33:37,214 - __main__ - INFO -   Total New Persons: 0
2025-08-19 00:33:37,216 - __main__ - INFO -   Total Existing Persons: 0
2025-08-19 00:33:37,216 - __main__ - INFO -   Total Processing Time: 208.57s
2025-08-19 00:33:37,216 - __main__ - INFO -   System Uptime: 0:04:56.302046
2025-08-19 00:33:37,216 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-19 00:33:37,219 - __main__ - INFO -   Memory Usage: 249.6 MB (1.6%)
2025-08-19 00:33:37,219 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-19 00:33:37,219 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-19 00:33:37,219 - __main__ - INFO -   FAISS Available: True
2025-08-19 00:33:37,231 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-19 00:33:37,233 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-19 00:33:37,233 - __main__ - INFO -   Image Duplicates: 0
2025-08-19 00:33:37,233 - __main__ - INFO -   Face Duplicates: 0
2025-08-19 00:33:37,235 - __main__ - INFO -   Batch Duplicates: 0
2025-08-19 00:33:37,235 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-19 00:33:37,235 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-19 00:33:37,235 - __main__ - INFO -   Face Threshold: 0.6
2025-08-19 00:33:37,237 - __main__ - INFO -   Max Batch Size: 10
2025-08-19 00:33:37,237 - __main__ - INFO -   Processing Interval: 5s
2025-08-19 00:33:37,237 - __main__ - INFO -   Quality Check: True
2025-08-19 00:33:37,237 - __main__ - INFO -   FAISS Enabled: True
2025-08-19 00:33:37,239 - __main__ - INFO -   Sleep Mode: True
2025-08-19 00:33:37,240 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-19 00:33:37,240 - __main__ - INFO - ======================================================================

2025-08-19 00:33:41,280 - __main__ - INFO - [START] Starting enhanced batch processing: daf270cb-09ce-4c24-b232-f64aa97bf79b
2025-08-19 00:33:41,280 - __main__ - INFO - Memory before processing: 249.6 MB
2025-08-19 00:33:42,603 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-19 00:33:42,603 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-19 00:33:45,491 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-19 00:33:45,491 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-19 00:33:47,119 - __main__ - INFO - [DUPLICATE] Found 1 duplicate images, continuing with new images
2025-08-19 00:33:49,156 - utils.enhanced_face_service - INFO - Successfully processed 3 faces from temp_images/WIN_20250819_00_27_12_Pro.jpg
2025-08-19 00:33:49,190 - __main__ - INFO - Processing 3 temp faces against 0 known persons
2025-08-19 00:33:49,201 - __main__ - INFO - [NEW] Created new person: 723a479b-1a39-41af-bc34-cc713b165991
2025-08-19 00:33:49,211 - __main__ - INFO - [UPDATE] Updated visit for person: 723a479b-1a39-41af-bc34-cc713b165991
2025-08-19 00:33:49,217 - __main__ - INFO - [UPDATE] Updated visit for person: 723a479b-1a39-41af-bc34-cc713b165991
2025-08-19 00:33:49,222 - utils.enhanced_face_service - INFO - Cleaned up 3 temporary face files
2025-08-19 00:33:49,222 - __main__ - INFO - Memory after processing: 230.1 MB
2025-08-19 00:33:49,230 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-19 00:33:49,230 - utils.performance_optimizer - INFO -   Memory Usage: 230.1 MB (1.4%)
2025-08-19 00:33:49,230 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-19 00:33:49,230 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-19 00:33:49,230 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-19 00:33:49,230 - __main__ - INFO - ============================================================
2025-08-19 00:33:49,230 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-19 00:33:49,230 - __main__ - INFO - ============================================================
2025-08-19 00:33:49,230 - __main__ - INFO - [ID] Batch ID: daf270cb-09ce-4c24-b232-f64aa97bf79b
2025-08-19 00:33:49,230 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-19 00:33:49,230 - __main__ - INFO - [FACES] Faces detected: 3
2025-08-19 00:33:49,230 - __main__ - INFO - [NEW] New persons: 1
2025-08-19 00:33:49,230 - __main__ - INFO - [RETURN] Returning persons: 2
2025-08-19 00:33:49,230 - __main__ - INFO - [TIME] Processing time: 7.94s
2025-08-19 00:33:49,238 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-19 00:33:49,238 - __main__ - INFO - [MEMORY] Memory usage: 230.1 MB
2025-08-19 00:33:49,238 - __main__ - INFO - [INCREASE] Memory increase: -19.5 MB
2025-08-19 00:33:49,238 - __main__ - INFO - ============================================================
2025-08-19 00:33:49,239 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-19 00:33:54,271 - __main__ - INFO - [START] Starting enhanced batch processing: 59fc9ee9-b452-477e-a447-bcd78121f445
2025-08-19 00:33:54,271 - __main__ - INFO - Memory before processing: 230.1 MB
2025-08-19 00:33:56,215 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-19 00:33:56,215 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-19 00:33:59,693 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-19 00:33:59,693 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-19 00:34:01,550 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-19 00:34:01,550 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-19 00:34:01,568 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-19 00:34:01,569 - __main__ - INFO - No new images to process after duplicate check
2025-08-19 00:34:06,617 - __main__ - INFO - [START] Starting enhanced batch processing: 9bee887b-6784-490d-8f30-847b560d96ae
2025-08-19 00:34:06,617 - __main__ - INFO - Memory before processing: 230.1 MB
2025-08-19 00:34:07,788 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-19 00:34:07,788 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-19 00:34:07,797 - __main__ - INFO - 
======================================================================
2025-08-19 00:34:07,797 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-19 00:34:07,797 - __main__ - INFO - ======================================================================
2025-08-19 00:34:07,797 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-19 00:34:07,797 - __main__ - INFO -   Total Unique Persons: 1
2025-08-19 00:34:07,797 - __main__ - INFO -   Total Visits: 3
2025-08-19 00:34:07,797 - __main__ - INFO -   Recent Visitors (24h): 1
2025-08-19 00:34:07,797 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-19 00:34:07,797 - __main__ - INFO -   Total Batches: 3
2025-08-19 00:34:07,797 - __main__ - INFO -   Total Images Processed: 3
2025-08-19 00:34:07,797 - __main__ - INFO -   Total Faces Detected: 11
2025-08-19 00:34:07,797 - __main__ - INFO -   Total New Persons: 1
2025-08-19 00:34:07,797 - __main__ - INFO -   Total Existing Persons: 2
2025-08-19 00:34:07,797 - __main__ - INFO -   Total Processing Time: 216.51s
2025-08-19 00:34:07,797 - __main__ - INFO -   System Uptime: 0:05:26.891058
2025-08-19 00:34:07,797 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-19 00:34:07,797 - __main__ - INFO -   Memory Usage: 230.1 MB (1.4%)
2025-08-19 00:34:07,797 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-19 00:34:07,797 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-19 00:34:07,797 - __main__ - INFO -   FAISS Available: True
2025-08-19 00:34:07,887 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-19 00:34:07,889 - __main__ - INFO -   Total Duplicates (24h): 2
2025-08-19 00:34:07,891 - __main__ - INFO -   Image Duplicates: 2
2025-08-19 00:34:07,896 - __main__ - INFO -   Face Duplicates: 0
2025-08-19 00:34:07,900 - __main__ - INFO -   Batch Duplicates: 0
2025-08-19 00:34:07,902 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-19 00:34:07,902 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-19 00:34:07,904 - __main__ - INFO -   Face Threshold: 0.6
2025-08-19 00:34:07,908 - __main__ - INFO -   Max Batch Size: 10
2025-08-19 00:34:07,911 - __main__ - INFO -   Processing Interval: 5s
2025-08-19 00:34:07,912 - __main__ - INFO -   Quality Check: True
2025-08-19 00:34:07,914 - __main__ - INFO -   FAISS Enabled: True
2025-08-19 00:34:07,916 - __main__ - INFO -   Sleep Mode: True
2025-08-19 00:34:07,918 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-19 00:34:07,923 - __main__ - INFO - ======================================================================

2025-08-19 00:34:07,927 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-19 00:34:07,928 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-19 00:34:08,064 - utils.performance_optimizer - INFO - [OK] Memory after GC: 230.1 MB
2025-08-19 00:34:08,064 - __main__ - INFO - [DONE] System shutdown complete
2025-08-21 13:15:35,402 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-21 13:15:35,402 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-21 13:15:35,403 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-21 13:15:35,403 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-21 13:15:35,409 - __main__ - INFO - 
======================================================================
2025-08-21 13:15:35,409 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-21 13:15:35,409 - __main__ - INFO - ======================================================================
2025-08-21 13:15:35,409 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-21 13:15:35,409 - __main__ - INFO -   Total Unique Persons: 1
2025-08-21 13:15:35,409 - __main__ - INFO -   Total Visits: 3
2025-08-21 13:15:35,409 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-21 13:15:35,409 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-21 13:15:35,409 - __main__ - INFO -   Total Batches: 0
2025-08-21 13:15:35,409 - __main__ - INFO -   Total Images Processed: 0
2025-08-21 13:15:35,409 - __main__ - INFO -   Total Faces Detected: 0
2025-08-21 13:15:35,409 - __main__ - INFO -   Total New Persons: 0
2025-08-21 13:15:35,409 - __main__ - INFO -   Total Existing Persons: 0
2025-08-21 13:15:35,409 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-21 13:15:35,409 - __main__ - INFO -   System Uptime: 0:00:00.007354
2025-08-21 13:15:35,409 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-21 13:15:35,409 - __main__ - INFO -   Memory Usage: 191.6 MB (1.2%)
2025-08-21 13:15:35,409 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-21 13:15:35,409 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-21 13:15:35,409 - __main__ - INFO -   FAISS Available: True
2025-08-21 13:15:35,423 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-21 13:15:35,423 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-21 13:15:35,423 - __main__ - INFO -   Image Duplicates: 0
2025-08-21 13:15:35,423 - __main__ - INFO -   Face Duplicates: 0
2025-08-21 13:15:35,423 - __main__ - INFO -   Batch Duplicates: 0
2025-08-21 13:15:35,423 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-21 13:15:35,425 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-21 13:15:35,425 - __main__ - INFO -   Face Threshold: 0.6
2025-08-21 13:15:35,425 - __main__ - INFO -   Max Batch Size: 10
2025-08-21 13:15:35,426 - __main__ - INFO -   Processing Interval: 5s
2025-08-21 13:15:35,426 - __main__ - INFO -   Quality Check: True
2025-08-21 13:15:35,426 - __main__ - INFO -   FAISS Enabled: True
2025-08-21 13:15:35,426 - __main__ - INFO -   Sleep Mode: True
2025-08-21 13:15:35,426 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-21 13:15:35,426 - __main__ - INFO - ======================================================================

2025-08-21 13:15:40,459 - __main__ - INFO - [START] Starting enhanced batch processing: 6d1851a5-c85f-4b0e-bb3d-d54db222bcbf
2025-08-21 13:15:40,460 - __main__ - INFO - Memory before processing: 191.7 MB
2025-08-21 13:15:41,706 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:15:41,712 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:15:42,725 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:15:42,725 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:15:43,774 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:15:43,774 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:15:43,784 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:15:43,784 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:15:48,820 - __main__ - INFO - [START] Starting enhanced batch processing: 863c0f5f-cea9-4387-b83c-c8742effa3b3
2025-08-21 13:15:48,828 - __main__ - INFO - Memory before processing: 196.1 MB
2025-08-21 13:15:49,251 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:15:49,255 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:15:50,063 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:15:50,063 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:15:50,469 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:15:50,469 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:15:50,484 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:15:50,484 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:15:55,511 - __main__ - INFO - [START] Starting enhanced batch processing: 88e9f591-4a21-4374-b94d-e33212c30fdb
2025-08-21 13:15:55,515 - __main__ - INFO - Memory before processing: 196.2 MB
2025-08-21 13:15:56,286 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:15:56,290 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:15:56,941 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:15:56,941 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:15:57,341 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:15:57,341 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:15:57,357 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:15:57,357 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:16:02,413 - __main__ - INFO - [START] Starting enhanced batch processing: a0836296-165d-4948-b8e1-a36b9e4c4694
2025-08-21 13:16:02,421 - __main__ - INFO - Memory before processing: 196.3 MB
2025-08-21 13:16:02,972 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:16:02,972 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:16:03,802 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:16:03,802 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:16:04,489 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:16:04,489 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:16:04,505 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:16:04,505 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:16:05,516 - __main__ - INFO - 
======================================================================
2025-08-21 13:16:05,516 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-21 13:16:05,516 - __main__ - INFO - ======================================================================
2025-08-21 13:16:05,516 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-21 13:16:05,516 - __main__ - INFO -   Total Unique Persons: 1
2025-08-21 13:16:05,516 - __main__ - INFO -   Total Visits: 3
2025-08-21 13:16:05,516 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-21 13:16:05,516 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-21 13:16:05,516 - __main__ - INFO -   Total Batches: 0
2025-08-21 13:16:05,516 - __main__ - INFO -   Total Images Processed: 0
2025-08-21 13:16:05,516 - __main__ - INFO -   Total Faces Detected: 0
2025-08-21 13:16:05,516 - __main__ - INFO -   Total New Persons: 0
2025-08-21 13:16:05,524 - __main__ - INFO -   Total Existing Persons: 0
2025-08-21 13:16:05,524 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-21 13:16:05,525 - __main__ - INFO -   System Uptime: 0:00:30.114030
2025-08-21 13:16:05,525 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-21 13:16:05,525 - __main__ - INFO -   Memory Usage: 196.3 MB (1.2%)
2025-08-21 13:16:05,525 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-21 13:16:05,525 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-21 13:16:05,525 - __main__ - INFO -   FAISS Available: True
2025-08-21 13:16:05,540 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-21 13:16:05,542 - __main__ - INFO -   Total Duplicates (24h): 4
2025-08-21 13:16:05,542 - __main__ - INFO -   Image Duplicates: 4
2025-08-21 13:16:05,542 - __main__ - INFO -   Face Duplicates: 0
2025-08-21 13:16:05,544 - __main__ - INFO -   Batch Duplicates: 0
2025-08-21 13:16:05,544 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-21 13:16:05,544 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-21 13:16:05,544 - __main__ - INFO -   Face Threshold: 0.6
2025-08-21 13:16:05,544 - __main__ - INFO -   Max Batch Size: 10
2025-08-21 13:16:05,544 - __main__ - INFO -   Processing Interval: 5s
2025-08-21 13:16:05,544 - __main__ - INFO -   Quality Check: True
2025-08-21 13:16:05,544 - __main__ - INFO -   FAISS Enabled: True
2025-08-21 13:16:05,544 - __main__ - INFO -   Sleep Mode: True
2025-08-21 13:16:05,546 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-21 13:16:05,546 - __main__ - INFO - ======================================================================

2025-08-21 13:16:09,599 - __main__ - INFO - [START] Starting enhanced batch processing: 23eaa2b0-0eb2-4c98-ba20-cf517ccecc27
2025-08-21 13:16:09,600 - __main__ - INFO - Memory before processing: 196.3 MB
2025-08-21 13:16:46,724 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:16:46,724 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:16:47,944 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:16:47,944 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:16:48,482 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:16:48,482 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:16:48,502 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:16:48,502 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:16:49,512 - __main__ - INFO - 
======================================================================
2025-08-21 13:16:49,518 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-21 13:16:49,518 - __main__ - INFO - ======================================================================
2025-08-21 13:16:49,518 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-21 13:16:49,518 - __main__ - INFO -   Total Unique Persons: 1
2025-08-21 13:16:49,518 - __main__ - INFO -   Total Visits: 3
2025-08-21 13:16:49,518 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-21 13:16:49,518 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-21 13:16:49,518 - __main__ - INFO -   Total Batches: 0
2025-08-21 13:16:49,518 - __main__ - INFO -   Total Images Processed: 0
2025-08-21 13:16:49,518 - __main__ - INFO -   Total Faces Detected: 0
2025-08-21 13:16:49,518 - __main__ - INFO -   Total New Persons: 0
2025-08-21 13:16:49,527 - __main__ - INFO -   Total Existing Persons: 0
2025-08-21 13:16:49,527 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-21 13:16:49,527 - __main__ - INFO -   System Uptime: 0:01:14.110868
2025-08-21 13:16:49,527 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-21 13:16:49,527 - __main__ - INFO -   Memory Usage: 196.5 MB (1.2%)
2025-08-21 13:16:49,527 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-21 13:16:49,527 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-21 13:16:49,527 - __main__ - INFO -   FAISS Available: True
2025-08-21 13:16:49,543 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-21 13:16:49,543 - __main__ - INFO -   Total Duplicates (24h): 5
2025-08-21 13:16:49,543 - __main__ - INFO -   Image Duplicates: 5
2025-08-21 13:16:49,544 - __main__ - INFO -   Face Duplicates: 0
2025-08-21 13:16:49,545 - __main__ - INFO -   Batch Duplicates: 0
2025-08-21 13:16:49,545 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-21 13:16:49,545 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-21 13:16:49,547 - __main__ - INFO -   Face Threshold: 0.6
2025-08-21 13:16:49,547 - __main__ - INFO -   Max Batch Size: 10
2025-08-21 13:16:49,547 - __main__ - INFO -   Processing Interval: 5s
2025-08-21 13:16:49,549 - __main__ - INFO -   Quality Check: True
2025-08-21 13:16:49,549 - __main__ - INFO -   FAISS Enabled: True
2025-08-21 13:16:49,551 - __main__ - INFO -   Sleep Mode: True
2025-08-21 13:16:49,551 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-21 13:16:49,551 - __main__ - INFO - ======================================================================

2025-08-21 13:16:53,562 - __main__ - INFO - [START] Starting enhanced batch processing: be0f698a-df50-4c6f-b006-f14e89a3be0c
2025-08-21 13:16:53,571 - __main__ - INFO - Memory before processing: 196.5 MB
2025-08-21 13:16:53,944 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:16:53,953 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:16:54,635 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:16:54,635 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:16:55,032 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:16:55,032 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:16:55,040 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:16:55,040 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:17:00,084 - __main__ - INFO - [START] Starting enhanced batch processing: 591dbaf6-69fe-4d2b-988b-bc7196166c1b
2025-08-21 13:17:00,092 - __main__ - INFO - Memory before processing: 196.7 MB
2025-08-21 13:17:00,488 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:17:00,488 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:17:01,133 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:17:01,133 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:17:01,806 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:17:01,806 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:17:01,830 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:17:01,830 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:17:05,826 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-21 13:17:05,826 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-21 13:17:05,834 - __main__ - INFO - 
======================================================================
2025-08-21 13:17:05,834 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-21 13:17:05,834 - __main__ - INFO - ======================================================================
2025-08-21 13:17:05,834 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-21 13:17:05,834 - __main__ - INFO -   Total Unique Persons: 1
2025-08-21 13:17:05,834 - __main__ - INFO -   Total Visits: 3
2025-08-21 13:17:05,836 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-21 13:17:05,836 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-21 13:17:05,836 - __main__ - INFO -   Total Batches: 0
2025-08-21 13:17:05,836 - __main__ - INFO -   Total Images Processed: 0
2025-08-21 13:17:05,836 - __main__ - INFO -   Total Faces Detected: 0
2025-08-21 13:17:05,836 - __main__ - INFO -   Total New Persons: 0
2025-08-21 13:17:05,838 - __main__ - INFO -   Total Existing Persons: 0
2025-08-21 13:17:05,838 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-21 13:17:05,838 - __main__ - INFO -   System Uptime: 0:01:30.432508
2025-08-21 13:17:05,838 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-21 13:17:05,838 - __main__ - INFO -   Memory Usage: 196.8 MB (1.2%)
2025-08-21 13:17:05,840 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-21 13:17:05,840 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-21 13:17:05,840 - __main__ - INFO -   FAISS Available: True
2025-08-21 13:17:05,850 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-21 13:17:05,850 - __main__ - INFO -   Total Duplicates (24h): 7
2025-08-21 13:17:05,850 - __main__ - INFO -   Image Duplicates: 7
2025-08-21 13:17:05,850 - __main__ - INFO -   Face Duplicates: 0
2025-08-21 13:17:05,850 - __main__ - INFO -   Batch Duplicates: 0
2025-08-21 13:17:05,850 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-21 13:17:05,850 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-21 13:17:05,850 - __main__ - INFO -   Face Threshold: 0.6
2025-08-21 13:17:05,850 - __main__ - INFO -   Max Batch Size: 10
2025-08-21 13:17:05,850 - __main__ - INFO -   Processing Interval: 5s
2025-08-21 13:17:05,857 - __main__ - INFO -   Quality Check: True
2025-08-21 13:17:05,857 - __main__ - INFO -   FAISS Enabled: True
2025-08-21 13:17:05,857 - __main__ - INFO -   Sleep Mode: True
2025-08-21 13:17:05,857 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-21 13:17:05,857 - __main__ - INFO - ======================================================================

2025-08-21 13:17:05,859 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-21 13:17:05,859 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-21 13:17:05,893 - utils.performance_optimizer - INFO - [OK] Memory after GC: 196.8 MB
2025-08-21 13:17:05,893 - __main__ - INFO - [DONE] System shutdown complete
2025-08-21 13:20:56,848 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-21 13:20:56,848 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-21 13:20:56,848 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-21 13:20:56,848 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-21 13:20:56,853 - __main__ - INFO - 
======================================================================
2025-08-21 13:20:56,853 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-21 13:20:56,853 - __main__ - INFO - ======================================================================
2025-08-21 13:20:56,853 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-21 13:20:56,853 - __main__ - INFO -   Total Unique Persons: 1
2025-08-21 13:20:56,853 - __main__ - INFO -   Total Visits: 3
2025-08-21 13:20:56,853 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-21 13:20:56,853 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-21 13:20:56,853 - __main__ - INFO -   Total Batches: 0
2025-08-21 13:20:56,857 - __main__ - INFO -   Total Images Processed: 0
2025-08-21 13:20:56,857 - __main__ - INFO -   Total Faces Detected: 0
2025-08-21 13:20:56,857 - __main__ - INFO -   Total New Persons: 0
2025-08-21 13:20:56,857 - __main__ - INFO -   Total Existing Persons: 0
2025-08-21 13:20:56,857 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-21 13:20:56,857 - __main__ - INFO -   System Uptime: 0:00:00.004238
2025-08-21 13:20:56,857 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-21 13:20:56,857 - __main__ - INFO -   Memory Usage: 191.8 MB (1.2%)
2025-08-21 13:20:56,859 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-21 13:20:56,859 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-21 13:20:56,859 - __main__ - INFO -   FAISS Available: True
2025-08-21 13:20:56,866 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-21 13:20:56,866 - __main__ - INFO -   Total Duplicates (24h): 7
2025-08-21 13:20:56,866 - __main__ - INFO -   Image Duplicates: 7
2025-08-21 13:20:56,866 - __main__ - INFO -   Face Duplicates: 0
2025-08-21 13:20:56,866 - __main__ - INFO -   Batch Duplicates: 0
2025-08-21 13:20:56,866 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-21 13:20:56,866 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-21 13:20:56,868 - __main__ - INFO -   Face Threshold: 0.6
2025-08-21 13:20:56,868 - __main__ - INFO -   Max Batch Size: 10
2025-08-21 13:20:56,868 - __main__ - INFO -   Processing Interval: 5s
2025-08-21 13:20:56,868 - __main__ - INFO -   Quality Check: True
2025-08-21 13:20:56,868 - __main__ - INFO -   FAISS Enabled: True
2025-08-21 13:20:56,868 - __main__ - INFO -   Sleep Mode: True
2025-08-21 13:20:56,868 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-21 13:20:56,870 - __main__ - INFO - ======================================================================

2025-08-21 13:21:01,896 - __main__ - INFO - [START] Starting enhanced batch processing: 3543420c-7704-4687-a1b1-2f750704cb58
2025-08-21 13:21:01,896 - __main__ - INFO - Memory before processing: 191.9 MB
2025-08-21 13:21:03,001 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:21:03,094 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:21:16,444 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:21:16,444 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:21:18,744 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:21:18,749 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-21 13:21:18,760 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-21 13:21:18,760 - __main__ - INFO - No new images to process after duplicate check
2025-08-21 13:21:23,804 - __main__ - INFO - [START] Starting enhanced batch processing: fd4f4518-5e57-4ee3-b454-6d553b371a94
2025-08-21 13:21:23,809 - __main__ - INFO - Memory before processing: 196.3 MB
2025-08-21 13:21:25,266 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/1.1 200 OK"
2025-08-21 13:21:25,266 - __main__ - INFO - [FOUND] Found 2 recent images
2025-08-21 13:21:43,451 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:21:43,451 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-21 13:21:45,507 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-21 13:21:45,507 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-21 13:21:45,517 - __main__ - INFO - 
======================================================================
2025-08-21 13:21:45,517 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-21 13:21:45,517 - __main__ - INFO - ======================================================================
2025-08-21 13:21:45,517 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-21 13:21:45,517 - __main__ - INFO -   Total Unique Persons: 1
2025-08-21 13:21:45,517 - __main__ - INFO -   Total Visits: 3
2025-08-21 13:21:45,522 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-21 13:21:45,522 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-21 13:21:45,522 - __main__ - INFO -   Total Batches: 0
2025-08-21 13:21:45,523 - __main__ - INFO -   Total Images Processed: 0
2025-08-21 13:21:45,523 - __main__ - INFO -   Total Faces Detected: 0
2025-08-21 13:21:45,523 - __main__ - INFO -   Total New Persons: 0
2025-08-21 13:21:45,523 - __main__ - INFO -   Total Existing Persons: 0
2025-08-21 13:21:45,525 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-21 13:21:45,525 - __main__ - INFO -   System Uptime: 0:00:48.668925
2025-08-21 13:21:45,525 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-21 13:21:45,525 - __main__ - INFO -   Memory Usage: 196.5 MB (1.2%)
2025-08-21 13:21:45,525 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-21 13:21:45,525 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-21 13:21:45,525 - __main__ - INFO -   FAISS Available: True
2025-08-21 13:21:45,539 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-21 13:21:45,542 - __main__ - INFO -   Total Duplicates (24h): 8
2025-08-21 13:21:45,542 - __main__ - INFO -   Image Duplicates: 8
2025-08-21 13:21:45,542 - __main__ - INFO -   Face Duplicates: 0
2025-08-21 13:21:45,542 - __main__ - INFO -   Batch Duplicates: 0
2025-08-21 13:21:45,542 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-21 13:21:45,544 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-21 13:21:45,544 - __main__ - INFO -   Face Threshold: 0.6
2025-08-21 13:21:45,544 - __main__ - INFO -   Max Batch Size: 10
2025-08-21 13:21:45,546 - __main__ - INFO -   Processing Interval: 5s
2025-08-21 13:21:45,546 - __main__ - INFO -   Quality Check: True
2025-08-21 13:21:45,548 - __main__ - INFO -   FAISS Enabled: True
2025-08-21 13:21:45,548 - __main__ - INFO -   Sleep Mode: True
2025-08-21 13:21:45,548 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-21 13:21:45,548 - __main__ - INFO - ======================================================================

2025-08-21 13:21:45,550 - utils.enhanced_face_service - INFO - Cleaned up 0 temporary face files
2025-08-21 13:21:45,552 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-21 13:21:45,581 - utils.performance_optimizer - INFO - [OK] Memory after GC: 196.5 MB
2025-08-21 13:21:45,581 - __main__ - INFO - [DONE] System shutdown complete
2025-08-29 18:41:56,575 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-29 18:41:56,717 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-29 18:41:56,727 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-29 18:41:56,727 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-29 18:41:56,727 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-29 18:41:56,727 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-29 18:41:56,731 - __main__ - INFO - 
======================================================================
2025-08-29 18:41:56,731 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:41:56,731 - __main__ - INFO - ======================================================================
2025-08-29 18:41:56,732 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:41:56,732 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:41:56,732 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:41:56,732 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:41:56,732 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:41:56,732 - __main__ - INFO -   Total Batches: 0
2025-08-29 18:41:56,732 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 18:41:56,732 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:41:56,732 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:41:56,732 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:41:56,733 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 18:41:56,733 - __main__ - INFO -   System Uptime: 0:00:00.004500
2025-08-29 18:41:56,733 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:41:56,733 - __main__ - INFO -   Memory Usage: 287.7 MB (1.8%)
2025-08-29 18:41:56,733 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:41:56,733 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:41:56,733 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:41:56,737 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:41:56,737 - __main__ - INFO -   Total Duplicates (24h): 1
2025-08-29 18:41:56,737 - __main__ - INFO -   Image Duplicates: 1
2025-08-29 18:41:56,737 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:41:56,737 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:41:56,737 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:41:56,737 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:41:56,737 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:41:56,738 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:41:56,738 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:41:56,738 - __main__ - INFO -   Quality Check: True
2025-08-29 18:41:56,738 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:41:56,738 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:41:56,738 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:41:56,738 - __main__ - INFO - ======================================================================

2025-08-29 18:42:01,790 - __main__ - INFO - [START] Starting enhanced batch processing: ba234215-d1ef-42af-8150-1a43e2e98d83
2025-08-29 18:42:01,791 - __main__ - INFO - Memory before processing: 287.8 MB
2025-08-29 18:42:02,907 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:42:02,910 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:42:02,910 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:42:03,593 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:03,594 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:04,664 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:04,664 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:04,674 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:42:04,674 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: EnhancedFaceService.detect_and_crop_faces_enhanced() got an unexpected keyword argument 'detection_model'
2025-08-29 18:42:04,681 - __main__ - INFO - Memory after processing: 290.8 MB
2025-08-29 18:42:04,686 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:42:04,687 - utils.performance_optimizer - INFO -   Memory Usage: 290.8 MB (1.8%)
2025-08-29 18:42:04,687 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:42:04,687 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:42:04,687 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:42:04,688 - __main__ - INFO - ============================================================
2025-08-29 18:42:04,688 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:42:04,688 - __main__ - INFO - ============================================================
2025-08-29 18:42:04,688 - __main__ - INFO - [ID] Batch ID: ba234215-d1ef-42af-8150-1a43e2e98d83
2025-08-29 18:42:04,689 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:42:04,689 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:42:04,689 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:42:04,689 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:42:04,689 - __main__ - INFO - [TIME] Processing time: 2.89s
2025-08-29 18:42:04,689 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:42:04,689 - __main__ - INFO - [MEMORY] Memory usage: 290.8 MB
2025-08-29 18:42:04,690 - __main__ - INFO - [INCREASE] Memory increase: 3.0 MB
2025-08-29 18:42:04,690 - __main__ - INFO - ============================================================
2025-08-29 18:42:04,690 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:42:09,730 - __main__ - INFO - [START] Starting enhanced batch processing: 8ed33628-acc5-47ab-88f2-4e9de867d56a
2025-08-29 18:42:09,733 - __main__ - INFO - Memory before processing: 290.8 MB
2025-08-29 18:42:10,009 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:42:10,010 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:42:10,010 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:42:10,460 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:10,460 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:11,286 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:11,286 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:11,296 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:42:11,296 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: EnhancedFaceService.detect_and_crop_faces_enhanced() got an unexpected keyword argument 'detection_model'
2025-08-29 18:42:11,305 - __main__ - INFO - Memory after processing: 290.9 MB
2025-08-29 18:42:11,308 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:42:11,311 - utils.performance_optimizer - INFO -   Memory Usage: 290.9 MB (1.8%)
2025-08-29 18:42:11,311 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:42:11,311 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:42:11,311 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:42:11,312 - __main__ - INFO - ============================================================
2025-08-29 18:42:11,312 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:42:11,312 - __main__ - INFO - ============================================================
2025-08-29 18:42:11,312 - __main__ - INFO - [ID] Batch ID: 8ed33628-acc5-47ab-88f2-4e9de867d56a
2025-08-29 18:42:11,312 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:42:11,312 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:42:11,313 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:42:11,313 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:42:11,313 - __main__ - INFO - [TIME] Processing time: 1.58s
2025-08-29 18:42:11,313 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:42:11,313 - __main__ - INFO - [MEMORY] Memory usage: 290.9 MB
2025-08-29 18:42:11,313 - __main__ - INFO - [INCREASE] Memory increase: 0.2 MB
2025-08-29 18:42:11,313 - __main__ - INFO - ============================================================
2025-08-29 18:42:11,313 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:42:16,346 - __main__ - INFO - [START] Starting enhanced batch processing: 8bcb76eb-a3e5-456e-8f20-2a5c10508832
2025-08-29 18:42:16,346 - __main__ - INFO - Memory before processing: 290.9 MB
2025-08-29 18:42:16,596 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:42:16,596 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:42:16,598 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:42:17,598 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:17,598 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:18,391 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:18,391 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:18,391 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:42:18,391 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: EnhancedFaceService.detect_and_crop_faces_enhanced() got an unexpected keyword argument 'detection_model'
2025-08-29 18:42:18,401 - __main__ - INFO - Memory after processing: 291.0 MB
2025-08-29 18:42:18,403 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:42:18,404 - utils.performance_optimizer - INFO -   Memory Usage: 291.0 MB (1.8%)
2025-08-29 18:42:18,404 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:42:18,404 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:42:18,404 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:42:18,405 - __main__ - INFO - ============================================================
2025-08-29 18:42:18,405 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:42:18,405 - __main__ - INFO - ============================================================
2025-08-29 18:42:18,405 - __main__ - INFO - [ID] Batch ID: 8bcb76eb-a3e5-456e-8f20-2a5c10508832
2025-08-29 18:42:18,406 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:42:18,406 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:42:18,406 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:42:18,406 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:42:18,407 - __main__ - INFO - [TIME] Processing time: 2.06s
2025-08-29 18:42:18,407 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:42:18,407 - __main__ - INFO - [MEMORY] Memory usage: 291.0 MB
2025-08-29 18:42:18,407 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-29 18:42:18,407 - __main__ - INFO - ============================================================
2025-08-29 18:42:18,407 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:42:23,458 - __main__ - INFO - [START] Starting enhanced batch processing: 422f2222-15e3-434f-92b1-e8380a5e81d5
2025-08-29 18:42:23,458 - __main__ - INFO - Memory before processing: 290.9 MB
2025-08-29 18:42:24,064 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:42:24,071 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:42:24,071 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:42:24,852 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:24,854 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:42:25,583 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:25,583 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:42:25,583 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:42:25,583 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: EnhancedFaceService.detect_and_crop_faces_enhanced() got an unexpected keyword argument 'detection_model'
2025-08-29 18:42:25,594 - __main__ - INFO - Memory after processing: 291.0 MB
2025-08-29 18:42:25,597 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:42:25,597 - utils.performance_optimizer - INFO -   Memory Usage: 291.0 MB (1.8%)
2025-08-29 18:42:25,598 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:42:25,598 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:42:25,598 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:42:25,598 - __main__ - INFO - ============================================================
2025-08-29 18:42:25,598 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:42:25,599 - __main__ - INFO - ============================================================
2025-08-29 18:42:25,599 - __main__ - INFO - [ID] Batch ID: 422f2222-15e3-434f-92b1-e8380a5e81d5
2025-08-29 18:42:25,599 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:42:25,599 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:42:25,599 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:42:25,599 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:42:25,599 - __main__ - INFO - [TIME] Processing time: 2.14s
2025-08-29 18:42:25,600 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:42:25,600 - __main__ - INFO - [MEMORY] Memory usage: 291.0 MB
2025-08-29 18:42:25,600 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-29 18:42:25,600 - __main__ - INFO - ============================================================
2025-08-29 18:42:25,600 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:42:27,630 - __main__ - INFO - 
======================================================================
2025-08-29 18:42:27,630 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:42:27,631 - __main__ - INFO - ======================================================================
2025-08-29 18:42:27,631 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:42:27,631 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:42:27,631 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:42:27,631 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:42:27,631 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:42:27,631 - __main__ - INFO -   Total Batches: 4
2025-08-29 18:42:27,631 - __main__ - INFO -   Total Images Processed: 4
2025-08-29 18:42:27,631 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:42:27,631 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:42:27,631 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:42:27,631 - __main__ - INFO -   Total Processing Time: 8.66s
2025-08-29 18:42:27,632 - __main__ - INFO -   System Uptime: 0:00:30.903632
2025-08-29 18:42:27,632 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:42:27,632 - __main__ - INFO -   Memory Usage: 291.0 MB (1.8%)
2025-08-29 18:42:27,632 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:42:27,632 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:42:27,632 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:42:27,634 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:42:27,634 - __main__ - INFO -   Total Duplicates (24h): 5
2025-08-29 18:42:27,634 - __main__ - INFO -   Image Duplicates: 5
2025-08-29 18:42:27,635 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:42:27,635 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:42:27,635 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:42:27,635 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:42:27,635 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:42:27,635 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:42:27,635 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:42:27,635 - __main__ - INFO -   Quality Check: True
2025-08-29 18:42:27,635 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:42:27,635 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:42:27,635 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:42:27,635 - __main__ - INFO - ======================================================================

2025-08-29 18:42:30,672 - __main__ - INFO - [START] Starting enhanced batch processing: d0dfba20-d7dd-4433-94c3-5544c7fdd82d
2025-08-29 18:42:30,675 - __main__ - INFO - Memory before processing: 291.0 MB
2025-08-29 18:42:31,187 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:42:31,188 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:42:31,188 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:42:32,435 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-29 18:42:32,435 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-29 18:42:32,435 - __main__ - INFO - 
======================================================================
2025-08-29 18:42:32,435 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:42:32,443 - __main__ - INFO - ======================================================================
2025-08-29 18:42:32,443 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:42:32,443 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:42:32,443 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:42:32,443 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:42:32,443 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:42:32,443 - __main__ - INFO -   Total Batches: 4
2025-08-29 18:42:32,443 - __main__ - INFO -   Total Images Processed: 4
2025-08-29 18:42:32,443 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:42:32,443 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:42:32,444 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:42:32,444 - __main__ - INFO -   Total Processing Time: 8.66s
2025-08-29 18:42:32,444 - __main__ - INFO -   System Uptime: 0:00:35.708522
2025-08-29 18:42:32,444 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:42:32,445 - __main__ - INFO -   Memory Usage: 291.0 MB (1.8%)
2025-08-29 18:42:32,445 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:42:32,445 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:42:32,445 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:42:32,449 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:42:32,450 - __main__ - INFO -   Total Duplicates (24h): 5
2025-08-29 18:42:32,450 - __main__ - INFO -   Image Duplicates: 5
2025-08-29 18:42:32,450 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:42:32,450 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:42:32,450 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:42:32,450 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:42:32,450 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:42:32,451 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:42:32,451 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:42:32,451 - __main__ - INFO -   Quality Check: True
2025-08-29 18:42:32,451 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:42:32,451 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:42:32,452 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:42:32,452 - __main__ - INFO - ======================================================================

2025-08-29 18:42:32,452 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-29 18:42:32,469 - utils.performance_optimizer - INFO - [OK] Memory after GC: 291.0 MB
2025-08-29 18:42:32,469 - __main__ - INFO - [DONE] System shutdown complete
2025-08-29 18:49:28,977 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-29 18:49:29,126 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-29 18:49:29,138 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-29 18:49:29,138 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-29 18:49:29,138 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-29 18:49:29,139 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-29 18:49:29,145 - __main__ - INFO - 
======================================================================
2025-08-29 18:49:29,145 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:49:29,145 - __main__ - INFO - ======================================================================
2025-08-29 18:49:29,146 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:49:29,146 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:49:29,146 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:49:29,146 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:49:29,146 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:49:29,146 - __main__ - INFO -   Total Batches: 0
2025-08-29 18:49:29,146 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 18:49:29,147 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:49:29,147 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:49:29,147 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:49:29,147 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 18:49:29,147 - __main__ - INFO -   System Uptime: 0:00:00.007141
2025-08-29 18:49:29,147 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:49:29,147 - __main__ - INFO -   Memory Usage: 287.7 MB (1.8%)
2025-08-29 18:49:29,148 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:49:29,148 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:49:29,148 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:49:29,153 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:49:29,153 - __main__ - INFO -   Total Duplicates (24h): 5
2025-08-29 18:49:29,153 - __main__ - INFO -   Image Duplicates: 5
2025-08-29 18:49:29,154 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:49:29,154 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:49:29,154 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:49:29,154 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:49:29,154 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:49:29,154 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:49:29,154 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:49:29,154 - __main__ - INFO -   Quality Check: True
2025-08-29 18:49:29,154 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:49:29,154 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:49:29,154 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:49:29,154 - __main__ - INFO - ======================================================================

2025-08-29 18:49:34,221 - __main__ - INFO - [START] Starting enhanced batch processing: a1628869-10f6-449b-a844-4647a5e8cb84
2025-08-29 18:49:34,221 - __main__ - INFO - Memory before processing: 287.7 MB
2025-08-29 18:49:34,689 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:49:34,689 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:49:34,701 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:49:40,135 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:49:40,135 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:49:41,543 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:49:41,543 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:49:41,548 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:49:41,571 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:49:41,573 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:49:41,576 - __main__ - INFO - Memory after processing: 291.9 MB
2025-08-29 18:49:41,577 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:49:41,578 - utils.performance_optimizer - INFO -   Memory Usage: 291.9 MB (1.8%)
2025-08-29 18:49:41,578 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:49:41,578 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:49:41,578 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:49:41,578 - __main__ - INFO - ============================================================
2025-08-29 18:49:41,578 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:49:41,578 - __main__ - INFO - ============================================================
2025-08-29 18:49:41,578 - __main__ - INFO - [ID] Batch ID: a1628869-10f6-449b-a844-4647a5e8cb84
2025-08-29 18:49:41,578 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:49:41,578 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:49:41,578 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:49:41,578 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:49:41,578 - __main__ - INFO - [TIME] Processing time: 7.35s
2025-08-29 18:49:41,579 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:49:41,579 - __main__ - INFO - [MEMORY] Memory usage: 291.9 MB
2025-08-29 18:49:41,579 - __main__ - INFO - [INCREASE] Memory increase: 4.2 MB
2025-08-29 18:49:41,579 - __main__ - INFO - ============================================================
2025-08-29 18:49:41,580 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:49:46,635 - __main__ - INFO - [START] Starting enhanced batch processing: 70ab41d3-732f-488b-bbe4-72a7cf8ffb52
2025-08-29 18:49:46,635 - __main__ - INFO - Memory before processing: 291.9 MB
2025-08-29 18:49:47,027 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:49:47,027 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:49:47,027 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:49:47,519 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:49:47,519 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:49:48,336 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:49:48,337 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:49:48,342 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:49:48,351 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:49:48,353 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:49:48,357 - __main__ - INFO - Memory after processing: 293.1 MB
2025-08-29 18:49:48,359 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:49:48,359 - utils.performance_optimizer - INFO -   Memory Usage: 293.1 MB (1.8%)
2025-08-29 18:49:48,359 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:49:48,360 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:49:48,360 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:49:48,360 - __main__ - INFO - ============================================================
2025-08-29 18:49:48,360 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:49:48,360 - __main__ - INFO - ============================================================
2025-08-29 18:49:48,360 - __main__ - INFO - [ID] Batch ID: 70ab41d3-732f-488b-bbe4-72a7cf8ffb52
2025-08-29 18:49:48,360 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:49:48,360 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:49:48,361 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:49:48,361 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:49:48,361 - __main__ - INFO - [TIME] Processing time: 1.72s
2025-08-29 18:49:48,361 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:49:48,361 - __main__ - INFO - [MEMORY] Memory usage: 293.1 MB
2025-08-29 18:49:48,361 - __main__ - INFO - [INCREASE] Memory increase: 1.2 MB
2025-08-29 18:49:48,361 - __main__ - INFO - ============================================================
2025-08-29 18:49:48,361 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:49:53,394 - __main__ - INFO - [START] Starting enhanced batch processing: a0645514-78d7-4726-bb22-0411ca0576d8
2025-08-29 18:49:53,394 - __main__ - INFO - Memory before processing: 293.1 MB
2025-08-29 18:49:53,634 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:49:53,636 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:49:53,637 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:49:55,217 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:49:55,217 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:49:56,647 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:49:56,647 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:49:56,661 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:49:56,670 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:49:56,671 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:49:56,675 - __main__ - INFO - Memory after processing: 293.2 MB
2025-08-29 18:49:56,677 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:49:56,677 - utils.performance_optimizer - INFO -   Memory Usage: 293.2 MB (1.8%)
2025-08-29 18:49:56,677 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:49:56,677 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:49:56,677 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:49:56,677 - __main__ - INFO - ============================================================
2025-08-29 18:49:56,678 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:49:56,678 - __main__ - INFO - ============================================================
2025-08-29 18:49:56,678 - __main__ - INFO - [ID] Batch ID: a0645514-78d7-4726-bb22-0411ca0576d8
2025-08-29 18:49:56,678 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:49:56,678 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:49:56,678 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:49:56,678 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:49:56,678 - __main__ - INFO - [TIME] Processing time: 3.28s
2025-08-29 18:49:56,678 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:49:56,679 - __main__ - INFO - [MEMORY] Memory usage: 293.2 MB
2025-08-29 18:49:56,679 - __main__ - INFO - [INCREASE] Memory increase: 0.1 MB
2025-08-29 18:49:56,679 - __main__ - INFO - ============================================================
2025-08-29 18:49:56,679 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:49:59,718 - __main__ - INFO - 
======================================================================
2025-08-29 18:49:59,718 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:49:59,719 - __main__ - INFO - ======================================================================
2025-08-29 18:49:59,719 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:49:59,719 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:49:59,719 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:49:59,720 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:49:59,720 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:49:59,720 - __main__ - INFO -   Total Batches: 3
2025-08-29 18:49:59,720 - __main__ - INFO -   Total Images Processed: 3
2025-08-29 18:49:59,720 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:49:59,720 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:49:59,720 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:49:59,720 - __main__ - INFO -   Total Processing Time: 12.36s
2025-08-29 18:49:59,721 - __main__ - INFO -   System Uptime: 0:00:30.579526
2025-08-29 18:49:59,721 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:49:59,721 - __main__ - INFO -   Memory Usage: 293.2 MB (1.8%)
2025-08-29 18:49:59,721 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:49:59,722 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:49:59,722 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:49:59,727 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:49:59,727 - __main__ - INFO -   Total Duplicates (24h): 8
2025-08-29 18:49:59,727 - __main__ - INFO -   Image Duplicates: 8
2025-08-29 18:49:59,727 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:49:59,727 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:49:59,727 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:49:59,728 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:49:59,728 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:49:59,728 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:49:59,728 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:49:59,728 - __main__ - INFO -   Quality Check: True
2025-08-29 18:49:59,728 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:49:59,728 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:49:59,728 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:49:59,728 - __main__ - INFO - ======================================================================

2025-08-29 18:50:01,752 - __main__ - INFO - [START] Starting enhanced batch processing: d368393d-3b22-4565-8847-408091703541
2025-08-29 18:50:01,760 - __main__ - INFO - Memory before processing: 293.2 MB
2025-08-29 18:50:02,752 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:50:02,770 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:50:02,771 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:50:03,406 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:03,406 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:04,401 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:04,401 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:04,410 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:50:04,419 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:50:04,421 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:50:04,425 - __main__ - INFO - Memory after processing: 293.3 MB
2025-08-29 18:50:04,427 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:50:04,427 - utils.performance_optimizer - INFO -   Memory Usage: 293.3 MB (1.8%)
2025-08-29 18:50:04,427 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:50:04,427 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:50:04,427 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:50:04,428 - __main__ - INFO - ============================================================
2025-08-29 18:50:04,428 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:50:04,428 - __main__ - INFO - ============================================================
2025-08-29 18:50:04,428 - __main__ - INFO - [ID] Batch ID: d368393d-3b22-4565-8847-408091703541
2025-08-29 18:50:04,428 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:50:04,428 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:50:04,428 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:50:04,428 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:50:04,428 - __main__ - INFO - [TIME] Processing time: 2.67s
2025-08-29 18:50:04,429 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:50:04,429 - __main__ - INFO - [MEMORY] Memory usage: 293.3 MB
2025-08-29 18:50:04,429 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-29 18:50:04,429 - __main__ - INFO - ============================================================
2025-08-29 18:50:04,429 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:50:09,491 - __main__ - INFO - [START] Starting enhanced batch processing: 7dc0ce22-3b5c-40d7-953d-e2b32ed9757f
2025-08-29 18:50:09,491 - __main__ - INFO - Memory before processing: 293.3 MB
2025-08-29 18:50:09,912 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:50:09,912 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:50:09,912 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:50:12,137 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:12,137 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:14,560 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:14,560 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:14,581 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:50:14,587 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:50:14,588 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:50:14,593 - __main__ - INFO - Memory after processing: 293.8 MB
2025-08-29 18:50:14,594 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:50:14,595 - utils.performance_optimizer - INFO -   Memory Usage: 293.8 MB (1.8%)
2025-08-29 18:50:14,595 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:50:14,595 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:50:14,595 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:50:14,595 - __main__ - INFO - ============================================================
2025-08-29 18:50:14,595 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:50:14,595 - __main__ - INFO - ============================================================
2025-08-29 18:50:14,595 - __main__ - INFO - [ID] Batch ID: 7dc0ce22-3b5c-40d7-953d-e2b32ed9757f
2025-08-29 18:50:14,595 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:50:14,595 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:50:14,595 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:50:14,596 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:50:14,596 - __main__ - INFO - [TIME] Processing time: 5.10s
2025-08-29 18:50:14,596 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:50:14,596 - __main__ - INFO - [MEMORY] Memory usage: 293.8 MB
2025-08-29 18:50:14,596 - __main__ - INFO - [INCREASE] Memory increase: 0.5 MB
2025-08-29 18:50:14,596 - __main__ - INFO - ============================================================
2025-08-29 18:50:14,596 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:50:19,672 - __main__ - INFO - [START] Starting enhanced batch processing: 61338488-97c1-4361-a817-72feb0a317ef
2025-08-29 18:50:19,681 - __main__ - INFO - Memory before processing: 293.8 MB
2025-08-29 18:50:20,152 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:50:20,153 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:50:20,154 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:50:28,291 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:28,291 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:32,191 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:32,191 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:32,199 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:50:32,209 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:50:32,210 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:50:32,215 - __main__ - INFO - Memory after processing: 293.7 MB
2025-08-29 18:50:32,218 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:50:32,218 - utils.performance_optimizer - INFO -   Memory Usage: 293.7 MB (1.8%)
2025-08-29 18:50:32,218 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:50:32,219 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:50:32,219 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:50:32,219 - __main__ - INFO - ============================================================
2025-08-29 18:50:32,220 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:50:32,220 - __main__ - INFO - ============================================================
2025-08-29 18:50:32,220 - __main__ - INFO - [ID] Batch ID: 61338488-97c1-4361-a817-72feb0a317ef
2025-08-29 18:50:32,220 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:50:32,220 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:50:32,220 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:50:32,220 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:50:32,221 - __main__ - INFO - [TIME] Processing time: 12.54s
2025-08-29 18:50:32,221 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:50:32,221 - __main__ - INFO - [MEMORY] Memory usage: 293.7 MB
2025-08-29 18:50:32,221 - __main__ - INFO - [INCREASE] Memory increase: -0.0 MB
2025-08-29 18:50:32,221 - __main__ - INFO - ============================================================
2025-08-29 18:50:32,221 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:50:33,222 - __main__ - INFO - 
======================================================================
2025-08-29 18:50:33,237 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:50:33,237 - __main__ - INFO - ======================================================================
2025-08-29 18:50:33,238 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:50:33,238 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:50:33,238 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:50:33,238 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:50:33,239 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:50:33,239 - __main__ - INFO -   Total Batches: 6
2025-08-29 18:50:33,239 - __main__ - INFO -   Total Images Processed: 6
2025-08-29 18:50:33,239 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:50:33,240 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:50:33,240 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:50:33,240 - __main__ - INFO -   Total Processing Time: 32.68s
2025-08-29 18:50:33,240 - __main__ - INFO -   System Uptime: 0:01:04.084063
2025-08-29 18:50:33,240 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:50:33,240 - __main__ - INFO -   Memory Usage: 293.7 MB (1.8%)
2025-08-29 18:50:33,240 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:50:33,240 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:50:33,241 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:50:33,244 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:50:33,244 - __main__ - INFO -   Total Duplicates (24h): 11
2025-08-29 18:50:33,244 - __main__ - INFO -   Image Duplicates: 11
2025-08-29 18:50:33,244 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:50:33,245 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:50:33,245 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:50:33,245 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:50:33,245 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:50:33,245 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:50:33,245 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:50:33,245 - __main__ - INFO -   Quality Check: True
2025-08-29 18:50:33,245 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:50:33,246 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:50:33,246 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:50:33,246 - __main__ - INFO - ======================================================================

2025-08-29 18:50:37,284 - __main__ - INFO - [START] Starting enhanced batch processing: 8ae1a12d-5f3c-47e8-a4de-da6781e92d8e
2025-08-29 18:50:37,293 - __main__ - INFO - Memory before processing: 293.7 MB
2025-08-29 18:50:37,655 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:50:37,655 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:50:37,655 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:50:49,972 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:49,972 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:51,206 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:51,206 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:51,227 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:50:51,236 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:50:51,238 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:50:51,243 - __main__ - INFO - Memory after processing: 294.0 MB
2025-08-29 18:50:51,245 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:50:51,245 - utils.performance_optimizer - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:50:51,246 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:50:51,246 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:50:51,246 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:50:51,246 - __main__ - INFO - ============================================================
2025-08-29 18:50:51,246 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:50:51,246 - __main__ - INFO - ============================================================
2025-08-29 18:50:51,246 - __main__ - INFO - [ID] Batch ID: 8ae1a12d-5f3c-47e8-a4de-da6781e92d8e
2025-08-29 18:50:51,247 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:50:51,247 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:50:51,247 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:50:51,247 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:50:51,247 - __main__ - INFO - [TIME] Processing time: 13.96s
2025-08-29 18:50:51,247 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:50:51,247 - __main__ - INFO - [MEMORY] Memory usage: 294.0 MB
2025-08-29 18:50:51,247 - __main__ - INFO - [INCREASE] Memory increase: 0.3 MB
2025-08-29 18:50:51,247 - __main__ - INFO - ============================================================
2025-08-29 18:50:51,247 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:50:56,297 - __main__ - INFO - [START] Starting enhanced batch processing: 173dc76d-91c6-4d11-be97-207db0b8082f
2025-08-29 18:50:56,299 - __main__ - INFO - Memory before processing: 294.0 MB
2025-08-29 18:50:56,707 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:50:56,708 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:50:56,708 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:50:57,127 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:57,127 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:50:57,705 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:57,705 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:50:57,705 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:50:57,718 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:50:57,720 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:50:57,726 - __main__ - INFO - Memory after processing: 294.0 MB
2025-08-29 18:50:57,729 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:50:57,729 - utils.performance_optimizer - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:50:57,729 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:50:57,729 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:50:57,729 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:50:57,729 - __main__ - INFO - ============================================================
2025-08-29 18:50:57,729 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:50:57,729 - __main__ - INFO - ============================================================
2025-08-29 18:50:57,729 - __main__ - INFO - [ID] Batch ID: 173dc76d-91c6-4d11-be97-207db0b8082f
2025-08-29 18:50:57,729 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:50:57,730 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:50:57,730 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:50:57,730 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:50:57,730 - __main__ - INFO - [TIME] Processing time: 1.43s
2025-08-29 18:50:57,730 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:50:57,730 - __main__ - INFO - [MEMORY] Memory usage: 294.0 MB
2025-08-29 18:50:57,730 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-29 18:50:57,730 - __main__ - INFO - ============================================================
2025-08-29 18:50:57,730 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:51:02,768 - __main__ - INFO - [START] Starting enhanced batch processing: 6ba4e8e2-e1b3-4d58-8d61-9f5797b5bca6
2025-08-29 18:51:02,768 - __main__ - INFO - Memory before processing: 294.0 MB
2025-08-29 18:51:03,359 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:51:03,359 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:51:03,359 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:51:03,805 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:03,805 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:05,104 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:05,104 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:05,104 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:51:05,119 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:51:05,121 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:51:05,126 - __main__ - INFO - Memory after processing: 294.0 MB
2025-08-29 18:51:05,128 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:51:05,128 - utils.performance_optimizer - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:51:05,129 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:51:05,129 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:51:05,129 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:51:05,129 - __main__ - INFO - ============================================================
2025-08-29 18:51:05,129 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:51:05,129 - __main__ - INFO - ============================================================
2025-08-29 18:51:05,129 - __main__ - INFO - [ID] Batch ID: 6ba4e8e2-e1b3-4d58-8d61-9f5797b5bca6
2025-08-29 18:51:05,129 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:51:05,129 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:51:05,129 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:51:05,129 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:51:05,129 - __main__ - INFO - [TIME] Processing time: 2.36s
2025-08-29 18:51:05,130 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:51:05,130 - __main__ - INFO - [MEMORY] Memory usage: 294.0 MB
2025-08-29 18:51:05,130 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-29 18:51:05,130 - __main__ - INFO - ============================================================
2025-08-29 18:51:05,130 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:51:06,150 - __main__ - INFO - 
======================================================================
2025-08-29 18:51:06,150 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:51:06,151 - __main__ - INFO - ======================================================================
2025-08-29 18:51:06,152 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:51:06,152 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:51:06,153 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:51:06,153 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:51:06,154 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:51:06,154 - __main__ - INFO -   Total Batches: 9
2025-08-29 18:51:06,154 - __main__ - INFO -   Total Images Processed: 9
2025-08-29 18:51:06,154 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:51:06,154 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:51:06,154 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:51:06,154 - __main__ - INFO -   Total Processing Time: 50.42s
2025-08-29 18:51:06,154 - __main__ - INFO -   System Uptime: 0:01:37.011962
2025-08-29 18:51:06,155 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:51:06,155 - __main__ - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:51:06,155 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:51:06,155 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:51:06,155 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:51:06,158 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:51:06,158 - __main__ - INFO -   Total Duplicates (24h): 14
2025-08-29 18:51:06,158 - __main__ - INFO -   Image Duplicates: 14
2025-08-29 18:51:06,158 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:51:06,159 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:51:06,159 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:51:06,160 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:51:06,160 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:51:06,160 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:51:06,160 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:51:06,160 - __main__ - INFO -   Quality Check: True
2025-08-29 18:51:06,160 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:51:06,160 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:51:06,160 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:51:06,160 - __main__ - INFO - ======================================================================

2025-08-29 18:51:10,192 - __main__ - INFO - [START] Starting enhanced batch processing: 3536dddb-d890-46f0-a233-931273dbb41e
2025-08-29 18:51:10,204 - __main__ - INFO - Memory before processing: 294.0 MB
2025-08-29 18:51:10,500 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:51:10,511 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:51:10,511 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:51:18,527 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:18,527 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:21,097 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:21,097 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:21,097 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:51:21,108 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:51:21,110 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:51:21,113 - __main__ - INFO - Memory after processing: 294.0 MB
2025-08-29 18:51:21,115 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:51:21,116 - utils.performance_optimizer - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:51:21,116 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:51:21,116 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:51:21,116 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:51:21,116 - __main__ - INFO - ============================================================
2025-08-29 18:51:21,116 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:51:21,116 - __main__ - INFO - ============================================================
2025-08-29 18:51:21,116 - __main__ - INFO - [ID] Batch ID: 3536dddb-d890-46f0-a233-931273dbb41e
2025-08-29 18:51:21,117 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:51:21,117 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:51:21,117 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:51:21,117 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:51:21,117 - __main__ - INFO - [TIME] Processing time: 10.92s
2025-08-29 18:51:21,117 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:51:21,117 - __main__ - INFO - [MEMORY] Memory usage: 294.0 MB
2025-08-29 18:51:21,117 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-29 18:51:21,118 - __main__ - INFO - ============================================================
2025-08-29 18:51:21,118 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:51:26,161 - __main__ - INFO - [START] Starting enhanced batch processing: 617f24b7-8057-4139-833d-aadff76f3fea
2025-08-29 18:51:26,161 - __main__ - INFO - Memory before processing: 294.0 MB
2025-08-29 18:51:26,915 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:51:26,916 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:51:26,916 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:51:28,586 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:28,586 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:29,590 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:29,593 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:29,601 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:51:29,610 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:51:29,611 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:51:29,615 - __main__ - INFO - Memory after processing: 294.0 MB
2025-08-29 18:51:29,617 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:51:29,617 - utils.performance_optimizer - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:51:29,618 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:51:29,618 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:51:29,618 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:51:29,618 - __main__ - INFO - ============================================================
2025-08-29 18:51:29,618 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:51:29,618 - __main__ - INFO - ============================================================
2025-08-29 18:51:29,618 - __main__ - INFO - [ID] Batch ID: 617f24b7-8057-4139-833d-aadff76f3fea
2025-08-29 18:51:29,618 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:51:29,618 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:51:29,618 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:51:29,618 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:51:29,618 - __main__ - INFO - [TIME] Processing time: 3.46s
2025-08-29 18:51:29,618 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:51:29,618 - __main__ - INFO - [MEMORY] Memory usage: 294.0 MB
2025-08-29 18:51:29,619 - __main__ - INFO - [INCREASE] Memory increase: 0.0 MB
2025-08-29 18:51:29,619 - __main__ - INFO - ============================================================
2025-08-29 18:51:29,619 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:51:34,645 - __main__ - INFO - [START] Starting enhanced batch processing: 0e9ea080-e865-47f7-9bde-da8608d7fdd8
2025-08-29 18:51:34,650 - __main__ - INFO - Memory before processing: 294.0 MB
2025-08-29 18:51:34,883 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 18:51:34,884 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 18:51:34,884 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 18:51:40,371 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:40,371 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 18:51:42,127 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:42,127 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 18:51:42,137 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 18:51:42,145 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 99, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 18:51:42,146 - __main__ - ERROR - Error processing image WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg: 'EnhancedFaceService' object has no attribute 'process_batch'
2025-08-29 18:51:42,149 - __main__ - INFO - Memory after processing: 294.0 MB
2025-08-29 18:51:42,151 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 18:51:42,151 - utils.performance_optimizer - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:51:42,151 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 18:51:42,151 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:51:42,151 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 18:51:42,151 - __main__ - INFO - ============================================================
2025-08-29 18:51:42,151 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 18:51:42,151 - __main__ - INFO - ============================================================
2025-08-29 18:51:42,152 - __main__ - INFO - [ID] Batch ID: 0e9ea080-e865-47f7-9bde-da8608d7fdd8
2025-08-29 18:51:42,152 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 18:51:42,152 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 18:51:42,152 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 18:51:42,152 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 18:51:42,152 - __main__ - INFO - [TIME] Processing time: 7.50s
2025-08-29 18:51:42,152 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 18:51:42,152 - __main__ - INFO - [MEMORY] Memory usage: 294.0 MB
2025-08-29 18:51:42,152 - __main__ - INFO - [INCREASE] Memory increase: -0.0 MB
2025-08-29 18:51:42,152 - __main__ - INFO - ============================================================
2025-08-29 18:51:42,152 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 18:51:43,168 - __main__ - INFO - 
======================================================================
2025-08-29 18:51:43,169 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:51:43,169 - __main__ - INFO - ======================================================================
2025-08-29 18:51:43,169 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:51:43,169 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:51:43,169 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:51:43,170 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:51:43,170 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:51:43,170 - __main__ - INFO -   Total Batches: 12
2025-08-29 18:51:43,170 - __main__ - INFO -   Total Images Processed: 12
2025-08-29 18:51:43,170 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:51:43,170 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:51:43,171 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:51:43,171 - __main__ - INFO -   Total Processing Time: 72.31s
2025-08-29 18:51:43,171 - __main__ - INFO -   System Uptime: 0:02:14.029749
2025-08-29 18:51:43,171 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:51:43,171 - __main__ - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:51:43,171 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:51:43,171 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:51:43,171 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:51:43,174 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:51:43,174 - __main__ - INFO -   Total Duplicates (24h): 17
2025-08-29 18:51:43,174 - __main__ - INFO -   Image Duplicates: 17
2025-08-29 18:51:43,174 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:51:43,174 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:51:43,175 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:51:43,175 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:51:43,175 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:51:43,175 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:51:43,175 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:51:43,175 - __main__ - INFO -   Quality Check: True
2025-08-29 18:51:43,175 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:51:43,175 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:51:43,175 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:51:43,175 - __main__ - INFO - ======================================================================

2025-08-29 18:51:45,884 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-29 18:51:45,885 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-29 18:51:45,887 - __main__ - INFO - 
======================================================================
2025-08-29 18:51:45,887 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 18:51:45,887 - __main__ - INFO - ======================================================================
2025-08-29 18:51:45,887 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 18:51:45,887 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 18:51:45,887 - __main__ - INFO -   Total Visits: 0
2025-08-29 18:51:45,890 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 18:51:45,890 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 18:51:45,890 - __main__ - INFO -   Total Batches: 12
2025-08-29 18:51:45,890 - __main__ - INFO -   Total Images Processed: 12
2025-08-29 18:51:45,890 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 18:51:45,890 - __main__ - INFO -   Total New Persons: 0
2025-08-29 18:51:45,890 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 18:51:45,890 - __main__ - INFO -   Total Processing Time: 72.31s
2025-08-29 18:51:45,891 - __main__ - INFO -   System Uptime: 0:02:16.748820
2025-08-29 18:51:45,891 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 18:51:45,891 - __main__ - INFO -   Memory Usage: 294.0 MB (1.8%)
2025-08-29 18:51:45,891 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 18:51:45,891 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 18:51:45,891 - __main__ - INFO -   FAISS Available: True
2025-08-29 18:51:45,896 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 18:51:45,897 - __main__ - INFO -   Total Duplicates (24h): 17
2025-08-29 18:51:45,897 - __main__ - INFO -   Image Duplicates: 17
2025-08-29 18:51:45,898 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 18:51:45,898 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 18:51:45,898 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 18:51:45,899 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 18:51:45,899 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 18:51:45,899 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 18:51:45,899 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 18:51:45,900 - __main__ - INFO -   Quality Check: True
2025-08-29 18:51:45,900 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 18:51:45,900 - __main__ - INFO -   Sleep Mode: True
2025-08-29 18:51:45,900 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 18:51:45,900 - __main__ - INFO - ======================================================================

2025-08-29 18:51:45,900 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-29 18:51:45,920 - utils.performance_optimizer - INFO - [OK] Memory after GC: 294.0 MB
2025-08-29 18:51:45,921 - __main__ - INFO - [DONE] System shutdown complete
2025-08-29 19:13:25,759 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-29 19:13:25,898 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-29 19:13:25,909 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-29 19:13:25,909 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-29 19:13:25,913 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-29 19:13:25,913 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-29 19:13:25,923 - __main__ - INFO - 
======================================================================
2025-08-29 19:13:25,923 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 19:13:25,923 - __main__ - INFO - ======================================================================
2025-08-29 19:13:25,923 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 19:13:25,924 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 19:13:25,924 - __main__ - INFO -   Total Visits: 0
2025-08-29 19:13:25,924 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 19:13:25,924 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 19:13:25,924 - __main__ - INFO -   Total Batches: 0
2025-08-29 19:13:25,924 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 19:13:25,927 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 19:13:25,927 - __main__ - INFO -   Total New Persons: 0
2025-08-29 19:13:25,927 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 19:13:25,927 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 19:13:25,927 - __main__ - INFO -   System Uptime: 0:00:00.013669
2025-08-29 19:13:25,927 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 19:13:25,927 - __main__ - INFO -   Memory Usage: 290.6 MB (1.8%)
2025-08-29 19:13:25,927 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 19:13:25,927 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:13:25,927 - __main__ - INFO -   FAISS Available: True
2025-08-29 19:13:25,932 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 19:13:25,932 - __main__ - INFO -   Total Duplicates (24h): 17
2025-08-29 19:13:25,932 - __main__ - INFO -   Image Duplicates: 17
2025-08-29 19:13:25,932 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 19:13:25,932 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 19:13:25,932 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 19:13:25,932 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 19:13:25,932 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 19:13:25,932 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 19:13:25,932 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 19:13:25,932 - __main__ - INFO -   Quality Check: True
2025-08-29 19:13:25,932 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 19:13:25,932 - __main__ - INFO -   Sleep Mode: True
2025-08-29 19:13:25,932 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 19:13:25,932 - __main__ - INFO - ======================================================================

2025-08-29 19:13:30,987 - __main__ - INFO - [START] Starting enhanced batch processing: f00d8197-1c1d-4959-8dfe-489aa0548108
2025-08-29 19:13:30,996 - __main__ - INFO - Memory before processing: 290.7 MB
2025-08-29 19:13:32,157 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 19:13:32,160 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 19:13:32,161 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 19:13:33,092 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:13:33,094 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:13:34,346 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:13:34,346 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:13:34,356 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 19:13:34,391 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 115, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 19:13:34,396 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 96, in detect_and_crop_faces_enhanced
    image = cv2.imread(image_path, cv2.IMREAD_UNCHANGED)
cv2.error: OpenCV(4.12.0) :-1: error: (-5:Bad argument) in function 'imread'
> Overload resolution failed:
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object

2025-08-29 19:13:34,413 - __main__ - INFO - Memory after processing: 294.5 MB
2025-08-29 19:13:34,422 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 19:13:34,422 - utils.performance_optimizer - INFO -   Memory Usage: 294.5 MB (1.8%)
2025-08-29 19:13:34,424 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 19:13:34,424 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:13:34,424 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 19:13:34,424 - __main__ - INFO - ============================================================
2025-08-29 19:13:34,426 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 19:13:34,426 - __main__ - INFO - ============================================================
2025-08-29 19:13:34,426 - __main__ - INFO - [ID] Batch ID: f00d8197-1c1d-4959-8dfe-489aa0548108
2025-08-29 19:13:34,428 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-29 19:13:34,428 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 19:13:34,428 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 19:13:34,429 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 19:13:34,429 - __main__ - INFO - [TIME] Processing time: 3.43s
2025-08-29 19:13:34,429 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 19:13:34,431 - __main__ - INFO - [MEMORY] Memory usage: 294.5 MB
2025-08-29 19:13:34,431 - __main__ - INFO - [INCREASE] Memory increase: 3.8 MB
2025-08-29 19:13:34,431 - __main__ - INFO - ============================================================
2025-08-29 19:13:34,438 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 19:13:39,473 - __main__ - INFO - [START] Starting enhanced batch processing: ed432221-23fd-438d-bfc3-1cd0eb602d07
2025-08-29 19:13:39,483 - __main__ - INFO - Memory before processing: 294.5 MB
2025-08-29 19:13:39,941 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 19:13:39,943 - __main__ - INFO - [FOUND] Found 3 recent images
2025-08-29 19:13:39,943 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 19:13:40,638 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:13:40,638 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:13:40,987 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-29 19:13:40,987 - __main__ - INFO - [DUPLICATE] Image already processed: WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-29 19:13:41,317 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:13:41,317 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:13:41,331 - utils.duplicate_detector - INFO - [SLEEP] Entering sleep mode for 3600s - Reason: Image duplicates: 3
2025-08-29 19:13:46,354 - __main__ - INFO - [START] Starting enhanced batch processing: 1570ee21-5354-460f-8cb4-2653542aace5
2025-08-29 19:13:46,364 - __main__ - INFO - [SLEEP] System in sleep mode - 3594s remaining
2025-08-29 19:13:51,392 - __main__ - INFO - [START] Starting enhanced batch processing: 0f86fab6-aa72-4dd9-80b0-580c569b0145
2025-08-29 19:13:51,406 - __main__ - INFO - [SLEEP] System in sleep mode - 3589s remaining
2025-08-29 19:13:56,477 - __main__ - INFO - 
======================================================================
2025-08-29 19:13:56,479 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 19:13:56,479 - __main__ - INFO - ======================================================================
2025-08-29 19:13:56,479 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 19:13:56,481 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 19:13:56,481 - __main__ - INFO -   Total Visits: 0
2025-08-29 19:13:56,481 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 19:13:56,481 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 19:13:56,481 - __main__ - INFO -   Total Batches: 1
2025-08-29 19:13:56,481 - __main__ - INFO -   Total Images Processed: 1
2025-08-29 19:13:56,483 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 19:13:56,483 - __main__ - INFO -   Total New Persons: 0
2025-08-29 19:13:56,483 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 19:13:56,483 - __main__ - INFO -   Total Processing Time: 3.43s
2025-08-29 19:13:56,483 - __main__ - INFO -   System Uptime: 0:00:30.568466
2025-08-29 19:13:56,483 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 19:13:56,485 - __main__ - INFO -   Memory Usage: 295.5 MB (1.8%)
2025-08-29 19:13:56,485 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 19:13:56,485 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:13:56,488 - __main__ - INFO -   FAISS Available: True
2025-08-29 19:13:56,496 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 19:13:56,496 - __main__ - INFO -   Total Duplicates (24h): 19
2025-08-29 19:13:56,496 - __main__ - INFO -   Image Duplicates: 19
2025-08-29 19:13:56,496 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 19:13:56,496 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 19:13:56,496 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 19:13:56,505 - __main__ - INFO -   Remaining Sleep: 3584s
2025-08-29 19:13:56,505 - __main__ - INFO -   Sleep Reason: Image duplicates: 3
2025-08-29 19:13:56,505 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 19:13:56,506 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 19:13:56,506 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 19:13:56,508 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 19:13:56,508 - __main__ - INFO -   Quality Check: True
2025-08-29 19:13:56,508 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 19:13:56,508 - __main__ - INFO -   Sleep Mode: True
2025-08-29 19:13:56,508 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 19:13:56,508 - __main__ - INFO - ======================================================================

2025-08-29 19:13:56,508 - __main__ - INFO - [START] Starting enhanced batch processing: 5d31a685-589b-480a-ada1-a4f8fbfb525d
2025-08-29 19:13:56,515 - __main__ - INFO - [SLEEP] System in sleep mode - 3584s remaining
2025-08-29 19:14:01,550 - __main__ - INFO - [START] Starting enhanced batch processing: c2729b42-8e0a-4b83-a743-7f4db204e66c
2025-08-29 19:14:01,563 - __main__ - INFO - [SLEEP] System in sleep mode - 3579s remaining
2025-08-29 19:14:06,613 - __main__ - INFO - [START] Starting enhanced batch processing: 705ba0f6-6e9b-4375-ae24-92ae8dcf6cef
2025-08-29 19:14:06,615 - __main__ - INFO - [SLEEP] System in sleep mode - 3574s remaining
2025-08-29 19:14:11,674 - __main__ - INFO - [START] Starting enhanced batch processing: 0abe9db7-a150-46c6-a229-ff45e2f6d08b
2025-08-29 19:14:11,674 - __main__ - INFO - [SLEEP] System in sleep mode - 3569s remaining
2025-08-29 19:14:16,719 - __main__ - INFO - [START] Starting enhanced batch processing: cb9de3e5-8dd5-4809-af34-0d57a4a8f2f9
2025-08-29 19:14:16,733 - __main__ - INFO - [SLEEP] System in sleep mode - 3564s remaining
2025-08-29 19:14:21,786 - __main__ - INFO - [START] Starting enhanced batch processing: 85591752-9ed7-41ce-b410-b596fd001c79
2025-08-29 19:14:21,797 - __main__ - INFO - [SLEEP] System in sleep mode - 3559s remaining
2025-08-29 19:14:26,843 - __main__ - INFO - 
======================================================================
2025-08-29 19:14:26,843 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 19:14:26,843 - __main__ - INFO - ======================================================================
2025-08-29 19:14:26,843 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 19:14:26,843 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 19:14:26,843 - __main__ - INFO -   Total Visits: 0
2025-08-29 19:14:26,843 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 19:14:26,843 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 19:14:26,843 - __main__ - INFO -   Total Batches: 1
2025-08-29 19:14:26,843 - __main__ - INFO -   Total Images Processed: 1
2025-08-29 19:14:26,851 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 19:14:26,851 - __main__ - INFO -   Total New Persons: 0
2025-08-29 19:14:26,851 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 19:14:26,851 - __main__ - INFO -   Total Processing Time: 3.43s
2025-08-29 19:14:26,851 - __main__ - INFO -   System Uptime: 0:01:00.933577
2025-08-29 19:14:26,851 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 19:14:26,851 - __main__ - INFO -   Memory Usage: 295.4 MB (1.8%)
2025-08-29 19:14:26,851 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 19:14:26,851 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:14:26,851 - __main__ - INFO -   FAISS Available: True
2025-08-29 19:14:26,856 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 19:14:26,856 - __main__ - INFO -   Total Duplicates (24h): 19
2025-08-29 19:14:26,856 - __main__ - INFO -   Image Duplicates: 19
2025-08-29 19:14:26,856 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 19:14:26,856 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 19:14:26,859 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 19:14:26,859 - __main__ - INFO -   Remaining Sleep: 3554s
2025-08-29 19:14:26,859 - __main__ - INFO -   Sleep Reason: Image duplicates: 3
2025-08-29 19:14:26,859 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 19:14:26,859 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 19:14:26,859 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 19:14:26,859 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 19:14:26,859 - __main__ - INFO -   Quality Check: True
2025-08-29 19:14:26,862 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 19:14:26,862 - __main__ - INFO -   Sleep Mode: True
2025-08-29 19:14:26,862 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 19:14:26,862 - __main__ - INFO - ======================================================================

2025-08-29 19:14:26,862 - __main__ - INFO - [START] Starting enhanced batch processing: e49b6db2-6c02-442b-be3b-3f1a80e81aaa
2025-08-29 19:14:26,869 - __main__ - INFO - [SLEEP] System in sleep mode - 3554s remaining
2025-08-29 19:14:30,041 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-29 19:14:30,041 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-29 19:14:30,064 - __main__ - INFO - 
======================================================================
2025-08-29 19:14:30,066 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 19:14:30,066 - __main__ - INFO - ======================================================================
2025-08-29 19:14:30,066 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 19:14:30,068 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 19:14:30,068 - __main__ - INFO -   Total Visits: 0
2025-08-29 19:14:30,068 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 19:14:30,068 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 19:14:30,070 - __main__ - INFO -   Total Batches: 1
2025-08-29 19:14:30,070 - __main__ - INFO -   Total Images Processed: 1
2025-08-29 19:14:30,070 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 19:14:30,072 - __main__ - INFO -   Total New Persons: 0
2025-08-29 19:14:30,072 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 19:14:30,072 - __main__ - INFO -   Total Processing Time: 3.43s
2025-08-29 19:14:30,072 - __main__ - INFO -   System Uptime: 0:01:04.154805
2025-08-29 19:14:30,074 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 19:14:30,074 - __main__ - INFO -   Memory Usage: 295.5 MB (1.8%)
2025-08-29 19:14:30,074 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 19:14:30,074 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:14:30,076 - __main__ - INFO -   FAISS Available: True
2025-08-29 19:14:30,092 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 19:14:30,092 - __main__ - INFO -   Total Duplicates (24h): 19
2025-08-29 19:14:30,092 - __main__ - INFO -   Image Duplicates: 19
2025-08-29 19:14:30,092 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 19:14:30,092 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 19:14:30,092 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 19:14:30,092 - __main__ - INFO -   Remaining Sleep: 3550s
2025-08-29 19:14:30,092 - __main__ - INFO -   Sleep Reason: Image duplicates: 3
2025-08-29 19:14:30,092 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 19:14:30,092 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 19:14:30,092 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 19:14:30,092 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 19:14:30,092 - __main__ - INFO -   Quality Check: True
2025-08-29 19:14:30,092 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 19:14:30,100 - __main__ - INFO -   Sleep Mode: True
2025-08-29 19:14:30,100 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 19:14:30,100 - __main__ - INFO - ======================================================================

2025-08-29 19:14:30,102 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-29 19:14:30,150 - utils.performance_optimizer - INFO - [OK] Memory after GC: 295.5 MB
2025-08-29 19:14:30,150 - __main__ - INFO - [DONE] System shutdown complete
2025-08-29 19:49:19,648 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-29 19:49:19,766 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-29 19:49:19,782 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-29 19:49:19,782 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-29 19:49:19,782 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-29 19:49:19,782 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-29 19:49:19,788 - __main__ - INFO - 
======================================================================
2025-08-29 19:49:19,788 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 19:49:19,788 - __main__ - INFO - ======================================================================
2025-08-29 19:49:19,788 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 19:49:19,789 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 19:49:19,789 - __main__ - INFO -   Total Visits: 0
2025-08-29 19:49:19,789 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 19:49:19,789 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 19:49:19,789 - __main__ - INFO -   Total Batches: 0
2025-08-29 19:49:19,789 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 19:49:19,789 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 19:49:19,790 - __main__ - INFO -   Total New Persons: 0
2025-08-29 19:49:19,790 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 19:49:19,790 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 19:49:19,790 - __main__ - INFO -   System Uptime: 0:00:00.006412
2025-08-29 19:49:19,790 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 19:49:19,790 - __main__ - INFO -   Memory Usage: 290.7 MB (1.8%)
2025-08-29 19:49:19,790 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 19:49:19,790 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:49:19,790 - __main__ - INFO -   FAISS Available: True
2025-08-29 19:49:19,796 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 19:49:19,796 - __main__ - INFO -   Total Duplicates (24h): 19
2025-08-29 19:49:19,796 - __main__ - INFO -   Image Duplicates: 19
2025-08-29 19:49:19,796 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 19:49:19,796 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 19:49:19,796 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 19:49:19,796 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 19:49:19,797 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 19:49:19,797 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 19:49:19,797 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 19:49:19,797 - __main__ - INFO -   Quality Check: True
2025-08-29 19:49:19,797 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 19:49:19,797 - __main__ - INFO -   Sleep Mode: True
2025-08-29 19:49:19,797 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 19:49:19,797 - __main__ - INFO - ======================================================================

2025-08-29 19:49:24,864 - __main__ - INFO - [START] Starting enhanced batch processing: 10286fc5-157c-40f5-8fd1-a5079c24a8f6
2025-08-29 19:49:24,872 - __main__ - INFO - Memory before processing: 290.8 MB
2025-08-29 19:49:25,235 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 19:49:25,235 - __main__ - INFO - [FOUND] Found 5 recent images
2025-08-29 19:49:25,235 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 19:49:25,777 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:49:25,777 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:49:26,719 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:49:26,719 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:49:26,725 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 19:49:26,741 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 115, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 19:49:26,742 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 96, in detect_and_crop_faces_enhanced
    image = cv2.imread(image_path, cv2.IMREAD_UNCHANGED)
cv2.error: OpenCV(4.12.0) :-1: error: (-5:Bad argument) in function 'imread'
> Overload resolution failed:
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object

2025-08-29 19:49:26,745 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 115, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 19:49:26,745 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 96, in detect_and_crop_faces_enhanced
    image = cv2.imread(image_path, cv2.IMREAD_UNCHANGED)
cv2.error: OpenCV(4.12.0) :-1: error: (-5:Bad argument) in function 'imread'
> Overload resolution failed:
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object

2025-08-29 19:49:26,748 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 115, in detect_and_crop_faces_enhanced
    locations = face_recognition.face_locations(rgb, model=detection_model)
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 121, in face_locations
    return [_trim_css_to_bounds(_rect_to_css(face), img.shape) for face in _raw_face_locations(img, number_of_times_to_upsample, model)]
  File "D:\face\venv\lib\site-packages\face_recognition\api.py", line 105, in _raw_face_locations
    return face_detector(img, number_of_times_to_upsample)
RuntimeError: Unsupported image type, must be 8bit gray or RGB image.
2025-08-29 19:49:26,749 - services.enhanced_face_service - ERROR - detect_and_crop_faces_enhanced simple fallback failed
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 96, in detect_and_crop_faces_enhanced
    image = cv2.imread(image_path, cv2.IMREAD_UNCHANGED)
cv2.error: OpenCV(4.12.0) :-1: error: (-5:Bad argument) in function 'imread'
> Overload resolution failed:
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object
>  - Expected 'filename' to be a str or path-like object

2025-08-29 19:49:26,755 - __main__ - INFO - Memory after processing: 294.4 MB
2025-08-29 19:49:26,758 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 19:49:26,759 - utils.performance_optimizer - INFO -   Memory Usage: 294.4 MB (1.8%)
2025-08-29 19:49:26,759 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 19:49:26,759 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:49:26,759 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 19:49:26,759 - __main__ - INFO - ============================================================
2025-08-29 19:49:26,760 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 19:49:26,760 - __main__ - INFO - ============================================================
2025-08-29 19:49:26,760 - __main__ - INFO - [ID] Batch ID: 10286fc5-157c-40f5-8fd1-a5079c24a8f6
2025-08-29 19:49:26,760 - __main__ - INFO - [IMAGES] Images processed: 3
2025-08-29 19:49:26,760 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-29 19:49:26,760 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 19:49:26,760 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 19:49:26,761 - __main__ - INFO - [TIME] Processing time: 1.89s
2025-08-29 19:49:26,761 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 19:49:26,761 - __main__ - INFO - [MEMORY] Memory usage: 294.4 MB
2025-08-29 19:49:26,761 - __main__ - INFO - [INCREASE] Memory increase: 3.6 MB
2025-08-29 19:49:26,761 - __main__ - INFO - ============================================================
2025-08-29 19:49:26,761 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 19:49:31,802 - __main__ - INFO - [START] Starting enhanced batch processing: ef4ceb7f-626d-4172-89ee-01d0e04606d6
2025-08-29 19:49:31,829 - __main__ - INFO - Memory before processing: 294.4 MB
2025-08-29 19:49:32,194 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 19:49:32,196 - __main__ - INFO - [FOUND] Found 5 recent images
2025-08-29 19:49:32,197 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 19:49:32,759 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:49:32,759 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 19:49:33,041 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-29 19:49:33,041 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-29 19:49:33,282 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-29 19:49:33,282 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-29 19:49:33,448 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-29 19:49:33,449 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-29 19:49:33,709 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:49:33,709 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 19:49:33,718 - utils.duplicate_detector - INFO - [SLEEP] Entering sleep mode for 3600s - Reason: Image duplicates: 5
2025-08-29 19:49:38,754 - __main__ - INFO - [START] Starting enhanced batch processing: 0553e7d7-587f-410f-88ba-80ad691d4ec4
2025-08-29 19:49:38,775 - __main__ - INFO - [SLEEP] System in sleep mode - 3594s remaining
2025-08-29 19:49:43,817 - __main__ - INFO - [START] Starting enhanced batch processing: d2ee6e73-792f-49ca-bf80-0c95faa1a056
2025-08-29 19:49:43,820 - __main__ - INFO - [SLEEP] System in sleep mode - 3589s remaining
2025-08-29 19:49:48,850 - __main__ - INFO - [START] Starting enhanced batch processing: e6fe088f-c134-4aaa-967c-70c2c3d74917
2025-08-29 19:49:48,857 - __main__ - INFO - [SLEEP] System in sleep mode - 3584s remaining
2025-08-29 19:49:49,862 - __main__ - INFO - 
======================================================================
2025-08-29 19:49:49,873 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 19:49:49,873 - __main__ - INFO - ======================================================================
2025-08-29 19:49:49,873 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 19:49:49,873 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 19:49:49,874 - __main__ - INFO -   Total Visits: 0
2025-08-29 19:49:49,874 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 19:49:49,874 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 19:49:49,874 - __main__ - INFO -   Total Batches: 1
2025-08-29 19:49:49,875 - __main__ - INFO -   Total Images Processed: 3
2025-08-29 19:49:49,875 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 19:49:49,875 - __main__ - INFO -   Total New Persons: 0
2025-08-29 19:49:49,875 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 19:49:49,875 - __main__ - INFO -   Total Processing Time: 1.89s
2025-08-29 19:49:49,875 - __main__ - INFO -   System Uptime: 0:00:30.080459
2025-08-29 19:49:49,876 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 19:49:49,876 - __main__ - INFO -   Memory Usage: 295.6 MB (1.8%)
2025-08-29 19:49:49,876 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 19:49:49,876 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:49:49,876 - __main__ - INFO -   FAISS Available: True
2025-08-29 19:49:49,881 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 19:49:49,881 - __main__ - INFO -   Total Duplicates (24h): 21
2025-08-29 19:49:49,881 - __main__ - INFO -   Image Duplicates: 21
2025-08-29 19:49:49,881 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 19:49:49,882 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 19:49:49,882 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 19:49:49,882 - __main__ - INFO -   Remaining Sleep: 3583s
2025-08-29 19:49:49,882 - __main__ - INFO -   Sleep Reason: Image duplicates: 5
2025-08-29 19:49:49,882 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 19:49:49,882 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 19:49:49,882 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 19:49:49,882 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 19:49:49,882 - __main__ - INFO -   Quality Check: True
2025-08-29 19:49:49,883 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 19:49:49,883 - __main__ - INFO -   Sleep Mode: True
2025-08-29 19:49:49,883 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 19:49:49,883 - __main__ - INFO - ======================================================================

2025-08-29 19:49:53,908 - __main__ - INFO - [START] Starting enhanced batch processing: ac7fbe99-afb2-43cc-9f99-92cf5468be77
2025-08-29 19:49:53,925 - __main__ - INFO - [SLEEP] System in sleep mode - 3579s remaining
2025-08-29 19:49:58,981 - __main__ - INFO - [START] Starting enhanced batch processing: fce93243-c2e1-4c6f-86b2-0787b3899ada
2025-08-29 19:49:58,997 - __main__ - INFO - [SLEEP] System in sleep mode - 3574s remaining
2025-08-29 19:50:03,104 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-29 19:50:03,104 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-29 19:50:03,120 - __main__ - INFO - 
======================================================================
2025-08-29 19:50:03,121 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 19:50:03,121 - __main__ - INFO - ======================================================================
2025-08-29 19:50:03,121 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 19:50:03,121 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 19:50:03,121 - __main__ - INFO -   Total Visits: 0
2025-08-29 19:50:03,121 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 19:50:03,121 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 19:50:03,121 - __main__ - INFO -   Total Batches: 1
2025-08-29 19:50:03,122 - __main__ - INFO -   Total Images Processed: 3
2025-08-29 19:50:03,122 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 19:50:03,122 - __main__ - INFO -   Total New Persons: 0
2025-08-29 19:50:03,122 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 19:50:03,122 - __main__ - INFO -   Total Processing Time: 1.89s
2025-08-29 19:50:03,122 - __main__ - INFO -   System Uptime: 0:00:43.338382
2025-08-29 19:50:03,122 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 19:50:03,122 - __main__ - INFO -   Memory Usage: 295.6 MB (1.8%)
2025-08-29 19:50:03,123 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 19:50:03,123 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 19:50:03,123 - __main__ - INFO -   FAISS Available: True
2025-08-29 19:50:03,127 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 19:50:03,128 - __main__ - INFO -   Total Duplicates (24h): 21
2025-08-29 19:50:03,128 - __main__ - INFO -   Image Duplicates: 21
2025-08-29 19:50:03,128 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 19:50:03,128 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 19:50:03,128 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 19:50:03,129 - __main__ - INFO -   Remaining Sleep: 3569s
2025-08-29 19:50:03,129 - __main__ - INFO -   Sleep Reason: Image duplicates: 5
2025-08-29 19:50:03,129 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 19:50:03,129 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 19:50:03,129 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 19:50:03,129 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 19:50:03,129 - __main__ - INFO -   Quality Check: True
2025-08-29 19:50:03,129 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 19:50:03,129 - __main__ - INFO -   Sleep Mode: True
2025-08-29 19:50:03,129 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 19:50:03,129 - __main__ - INFO - ======================================================================

2025-08-29 19:50:03,130 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-29 19:50:03,146 - utils.performance_optimizer - INFO - [OK] Memory after GC: 295.6 MB
2025-08-29 19:50:03,146 - __main__ - INFO - [DONE] System shutdown complete
2025-08-29 20:10:28,937 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-29 20:10:29,077 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-29 20:10:29,090 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-29 20:10:29,090 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-29 20:10:29,090 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-29 20:10:29,091 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-29 20:10:29,097 - __main__ - INFO - 
======================================================================
2025-08-29 20:10:29,098 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 20:10:29,098 - __main__ - INFO - ======================================================================
2025-08-29 20:10:29,098 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 20:10:29,098 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 20:10:29,098 - __main__ - INFO -   Total Visits: 0
2025-08-29 20:10:29,098 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 20:10:29,098 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 20:10:29,098 - __main__ - INFO -   Total Batches: 0
2025-08-29 20:10:29,098 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 20:10:29,098 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 20:10:29,100 - __main__ - INFO -   Total New Persons: 0
2025-08-29 20:10:29,100 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 20:10:29,100 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 20:10:29,100 - __main__ - INFO -   System Uptime: 0:00:00.007095
2025-08-29 20:10:29,100 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 20:10:29,100 - __main__ - INFO -   Memory Usage: 290.1 MB (1.8%)
2025-08-29 20:10:29,100 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 20:10:29,100 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 20:10:29,100 - __main__ - INFO -   FAISS Available: True
2025-08-29 20:10:29,106 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 20:10:29,106 - __main__ - INFO -   Total Duplicates (24h): 21
2025-08-29 20:10:29,106 - __main__ - INFO -   Image Duplicates: 21
2025-08-29 20:10:29,106 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 20:10:29,106 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 20:10:29,106 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 20:10:29,107 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 20:10:29,107 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 20:10:29,107 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 20:10:29,107 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 20:10:29,107 - __main__ - INFO -   Quality Check: True
2025-08-29 20:10:29,107 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 20:10:29,108 - __main__ - INFO -   Sleep Mode: True
2025-08-29 20:10:29,108 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 20:10:29,108 - __main__ - INFO - ======================================================================

2025-08-29 20:10:34,164 - __main__ - INFO - [START] Starting enhanced batch processing: a18e01b4-992e-4e42-84e9-c817f5434935
2025-08-29 20:10:34,171 - __main__ - INFO - Memory before processing: 290.1 MB
2025-08-29 20:10:35,094 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 20:10:35,094 - __main__ - INFO - [FOUND] Found 5 recent images
2025-08-29 20:10:35,095 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 20:10:35,749 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 20:10:35,749 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 20:10:36,128 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-29 20:10:36,128 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-29 20:10:36,421 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-29 20:10:36,421 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-29 20:10:36,772 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-29 20:10:36,773 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-29 20:10:37,176 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 20:10:37,176 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 20:10:37,206 - utils.duplicate_detector - INFO - [SLEEP] Entering sleep mode for 3396s - Reason: Image duplicates: 5
2025-08-29 20:10:42,265 - __main__ - INFO - [START] Starting enhanced batch processing: 543d9788-9e7b-4c49-9ef2-82a0fa2b2f12
2025-08-29 20:10:42,265 - __main__ - INFO - [SLEEP] System in sleep mode - 3390s remaining
2025-08-29 20:10:47,296 - __main__ - INFO - [START] Starting enhanced batch processing: e7d93460-695d-48fe-9182-ca6ab2d434a7
2025-08-29 20:10:47,313 - __main__ - INFO - [SLEEP] System in sleep mode - 3385s remaining
2025-08-29 20:10:52,360 - __main__ - INFO - [START] Starting enhanced batch processing: 15783323-da1e-47e1-9ba6-7df72efa97d8
2025-08-29 20:10:52,360 - __main__ - INFO - [SLEEP] System in sleep mode - 3380s remaining
2025-08-29 20:10:57,423 - __main__ - INFO - [START] Starting enhanced batch processing: 6047ce36-bc71-4dfa-a9e6-2e7e374760d3
2025-08-29 20:10:57,435 - __main__ - INFO - [SLEEP] System in sleep mode - 3375s remaining
2025-08-29 20:10:59,458 - __main__ - INFO - 
======================================================================
2025-08-29 20:10:59,458 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 20:10:59,458 - __main__ - INFO - ======================================================================
2025-08-29 20:10:59,459 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 20:10:59,459 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 20:10:59,459 - __main__ - INFO -   Total Visits: 0
2025-08-29 20:10:59,459 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 20:10:59,459 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 20:10:59,459 - __main__ - INFO -   Total Batches: 0
2025-08-29 20:10:59,459 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 20:10:59,459 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 20:10:59,459 - __main__ - INFO -   Total New Persons: 0
2025-08-29 20:10:59,459 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 20:10:59,459 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 20:10:59,459 - __main__ - INFO -   System Uptime: 0:00:30.367601
2025-08-29 20:10:59,460 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 20:10:59,460 - __main__ - INFO -   Memory Usage: 293.7 MB (1.8%)
2025-08-29 20:10:59,460 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 20:10:59,460 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 20:10:59,460 - __main__ - INFO -   FAISS Available: True
2025-08-29 20:10:59,463 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 20:10:59,463 - __main__ - INFO -   Total Duplicates (24h): 22
2025-08-29 20:10:59,463 - __main__ - INFO -   Image Duplicates: 22
2025-08-29 20:10:59,463 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 20:10:59,463 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 20:10:59,463 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 20:10:59,463 - __main__ - INFO -   Remaining Sleep: 3373s
2025-08-29 20:10:59,464 - __main__ - INFO -   Sleep Reason: Image duplicates: 5
2025-08-29 20:10:59,464 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 20:10:59,464 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 20:10:59,464 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 20:10:59,464 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 20:10:59,464 - __main__ - INFO -   Quality Check: True
2025-08-29 20:10:59,464 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 20:10:59,464 - __main__ - INFO -   Sleep Mode: True
2025-08-29 20:10:59,464 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 20:10:59,464 - __main__ - INFO - ======================================================================

2025-08-29 20:11:02,485 - __main__ - INFO - [START] Starting enhanced batch processing: d9830292-ebd2-4f25-857b-1b05b0960137
2025-08-29 20:11:02,494 - __main__ - INFO - [SLEEP] System in sleep mode - 3370s remaining
2025-08-29 20:11:04,298 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-29 20:11:04,302 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-29 20:11:04,324 - __main__ - INFO - 
======================================================================
2025-08-29 20:11:04,324 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 20:11:04,324 - __main__ - INFO - ======================================================================
2025-08-29 20:11:04,325 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 20:11:04,325 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 20:11:04,325 - __main__ - INFO -   Total Visits: 0
2025-08-29 20:11:04,325 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 20:11:04,325 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 20:11:04,325 - __main__ - INFO -   Total Batches: 0
2025-08-29 20:11:04,326 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 20:11:04,326 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 20:11:04,326 - __main__ - INFO -   Total New Persons: 0
2025-08-29 20:11:04,326 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 20:11:04,326 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 20:11:04,326 - __main__ - INFO -   System Uptime: 0:00:35.233902
2025-08-29 20:11:04,326 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 20:11:04,326 - __main__ - INFO -   Memory Usage: 293.7 MB (1.8%)
2025-08-29 20:11:04,326 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 20:11:04,326 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 20:11:04,327 - __main__ - INFO -   FAISS Available: True
2025-08-29 20:11:04,330 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 20:11:04,330 - __main__ - INFO -   Total Duplicates (24h): 22
2025-08-29 20:11:04,330 - __main__ - INFO -   Image Duplicates: 22
2025-08-29 20:11:04,330 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 20:11:04,330 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 20:11:04,330 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 20:11:04,331 - __main__ - INFO -   Remaining Sleep: 3368s
2025-08-29 20:11:04,331 - __main__ - INFO -   Sleep Reason: Image duplicates: 5
2025-08-29 20:11:04,331 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 20:11:04,331 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 20:11:04,331 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 20:11:04,331 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 20:11:04,331 - __main__ - INFO -   Quality Check: True
2025-08-29 20:11:04,331 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 20:11:04,331 - __main__ - INFO -   Sleep Mode: True
2025-08-29 20:11:04,331 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 20:11:04,333 - __main__ - INFO - ======================================================================

2025-08-29 20:11:04,333 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-29 20:11:04,357 - utils.performance_optimizer - INFO - [OK] Memory after GC: 293.7 MB
2025-08-29 20:11:04,358 - __main__ - INFO - [DONE] System shutdown complete
2025-08-29 22:51:03,025 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-29 22:51:03,184 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-29 22:51:03,193 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-29 22:51:03,193 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-29 22:51:03,193 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-29 22:51:03,193 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-29 22:51:03,200 - __main__ - INFO - 
======================================================================
2025-08-29 22:51:03,200 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 22:51:03,200 - __main__ - INFO - ======================================================================
2025-08-29 22:51:03,200 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 22:51:03,201 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 22:51:03,201 - __main__ - INFO -   Total Visits: 0
2025-08-29 22:51:03,201 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 22:51:03,201 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 22:51:03,201 - __main__ - INFO -   Total Batches: 0
2025-08-29 22:51:03,201 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 22:51:03,201 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 22:51:03,202 - __main__ - INFO -   Total New Persons: 0
2025-08-29 22:51:03,202 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 22:51:03,202 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 22:51:03,202 - __main__ - INFO -   System Uptime: 0:00:00.007257
2025-08-29 22:51:03,202 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 22:51:03,202 - __main__ - INFO -   Memory Usage: 290.4 MB (1.8%)
2025-08-29 22:51:03,202 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 22:51:03,202 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 22:51:03,202 - __main__ - INFO -   FAISS Available: True
2025-08-29 22:51:03,212 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 22:51:03,213 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-29 22:51:03,213 - __main__ - INFO -   Image Duplicates: 0
2025-08-29 22:51:03,213 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 22:51:03,213 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 22:51:03,213 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 22:51:03,213 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 22:51:03,214 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 22:51:03,214 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 22:51:03,214 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 22:51:03,214 - __main__ - INFO -   Quality Check: True
2025-08-29 22:51:03,214 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 22:51:03,215 - __main__ - INFO -   Sleep Mode: True
2025-08-29 22:51:03,215 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 22:51:03,215 - __main__ - INFO - ======================================================================

2025-08-29 22:51:08,257 - __main__ - INFO - [START] Starting enhanced batch processing: 11c9735c-81b7-45f6-b25a-37db256a7a1d
2025-08-29 22:51:08,257 - __main__ - INFO - Memory before processing: 290.1 MB
2025-08-29 22:51:09,128 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 22:51:09,128 - __main__ - INFO - [FOUND] Found 5 recent images
2025-08-29 22:51:09,128 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 22:51:09,708 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 22:51:09,708 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 22:51:10,064 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-29 22:51:10,064 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-29 22:51:10,087 - __main__ - INFO - 
======================================================================
2025-08-29 22:51:10,087 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 22:51:10,088 - __main__ - INFO - ======================================================================
2025-08-29 22:51:10,088 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 22:51:10,088 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 22:51:10,089 - __main__ - INFO -   Total Visits: 0
2025-08-29 22:51:10,089 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 22:51:10,089 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 22:51:10,089 - __main__ - INFO -   Total Batches: 0
2025-08-29 22:51:10,089 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 22:51:10,089 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 22:51:10,089 - __main__ - INFO -   Total New Persons: 0
2025-08-29 22:51:10,090 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 22:51:10,090 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 22:51:10,090 - __main__ - INFO -   System Uptime: 0:00:06.894424
2025-08-29 22:51:10,090 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 22:51:10,090 - __main__ - INFO -   Memory Usage: 293.0 MB (1.8%)
2025-08-29 22:51:10,090 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 22:51:10,090 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 22:51:10,090 - __main__ - INFO -   FAISS Available: True
2025-08-29 22:51:10,100 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 22:51:10,101 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-29 22:51:10,101 - __main__ - INFO -   Image Duplicates: 0
2025-08-29 22:51:10,101 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 22:51:10,102 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 22:51:10,102 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 22:51:10,102 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 22:51:10,102 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 22:51:10,102 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 22:51:10,102 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 22:51:10,102 - __main__ - INFO -   Quality Check: True
2025-08-29 22:51:10,102 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 22:51:10,103 - __main__ - INFO -   Sleep Mode: True
2025-08-29 22:51:10,103 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 22:51:10,103 - __main__ - INFO - ======================================================================

2025-08-29 22:51:10,103 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-29 22:51:10,125 - utils.performance_optimizer - INFO - [OK] Memory after GC: 293.0 MB
2025-08-29 22:51:10,125 - __main__ - INFO - [DONE] System shutdown complete
2025-08-29 23:56:35,961 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-29 23:56:36,175 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-29 23:56:36,205 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-29 23:56:36,205 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-29 23:56:36,205 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-29 23:56:36,205 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-29 23:56:36,223 - __main__ - INFO - 
======================================================================
2025-08-29 23:56:36,223 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 23:56:36,223 - __main__ - INFO - ======================================================================
2025-08-29 23:56:36,225 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 23:56:36,225 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 23:56:36,225 - __main__ - INFO -   Total Visits: 0
2025-08-29 23:56:36,225 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 23:56:36,225 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 23:56:36,225 - __main__ - INFO -   Total Batches: 0
2025-08-29 23:56:36,225 - __main__ - INFO -   Total Images Processed: 0
2025-08-29 23:56:36,227 - __main__ - INFO -   Total Faces Detected: 0
2025-08-29 23:56:36,227 - __main__ - INFO -   Total New Persons: 0
2025-08-29 23:56:36,227 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 23:56:36,227 - __main__ - INFO -   Total Processing Time: 0.00s
2025-08-29 23:56:36,229 - __main__ - INFO -   System Uptime: 0:00:00.018221
2025-08-29 23:56:36,229 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 23:56:36,230 - __main__ - INFO -   Memory Usage: 346.3 MB (2.2%)
2025-08-29 23:56:36,230 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 23:56:36,230 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 23:56:36,231 - __main__ - INFO -   FAISS Available: True
2025-08-29 23:56:36,243 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 23:56:36,243 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-29 23:56:36,243 - __main__ - INFO -   Image Duplicates: 0
2025-08-29 23:56:36,245 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 23:56:36,245 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 23:56:36,245 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-29 23:56:36,245 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 23:56:36,245 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 23:56:36,245 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 23:56:36,245 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 23:56:36,245 - __main__ - INFO -   Quality Check: True
2025-08-29 23:56:36,248 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 23:56:36,248 - __main__ - INFO -   Sleep Mode: True
2025-08-29 23:56:36,248 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 23:56:36,248 - __main__ - INFO - ======================================================================

2025-08-29 23:56:41,292 - __main__ - INFO - [START] Starting enhanced batch processing: 84285138-14e5-4bba-a639-724e3c5dda20
2025-08-29 23:56:41,292 - __main__ - INFO - Memory before processing: 346.3 MB
2025-08-29 23:56:41,973 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 23:56:41,973 - __main__ - INFO - [FOUND] Found 5 recent images
2025-08-29 23:56:41,973 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 23:56:42,665 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 23:56:42,665 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 23:56:44,355 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 23:56:44,355 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 23:56:44,364 - __main__ - INFO - [DUPLICATE] Found 2 duplicate images, continuing with new images
2025-08-29 23:56:44,364 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images/dw3.jpg
2025-08-29 23:56:44,733 - services.enhanced_face_service - INFO - Detected 9 faces with OpenCV
2025-08-29 23:56:44,733 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for ['temp_images/dw3.jpg']
2025-08-29 23:56:44,733 - services.enhanced_face_service - WARNING - Invalid image path type: <class 'list'>
2025-08-29 23:56:44,746 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images/download2.jpg
2025-08-29 23:56:44,785 - services.enhanced_face_service - INFO - Detected 4 faces with OpenCV
2025-08-29 23:56:44,785 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for ['temp_images/download2.jpg']
2025-08-29 23:56:44,785 - services.enhanced_face_service - WARNING - Invalid image path type: <class 'list'>
2025-08-29 23:56:44,785 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images/download1.jpg
2025-08-29 23:56:44,834 - services.enhanced_face_service - INFO - Detected 2 faces with OpenCV
2025-08-29 23:56:44,834 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for ['temp_images/download1.jpg']
2025-08-29 23:56:44,834 - services.enhanced_face_service - WARNING - Invalid image path type: <class 'list'>
2025-08-29 23:56:44,851 - __main__ - INFO - Memory after processing: 443.9 MB
2025-08-29 23:56:44,859 - utils.performance_optimizer - INFO - [STATS] Performance Statistics:
2025-08-29 23:56:44,859 - utils.performance_optimizer - INFO -   Memory Usage: 443.9 MB (2.8%)
2025-08-29 23:56:44,859 - utils.performance_optimizer - INFO -   Avg Processing Time: 0.000s
2025-08-29 23:56:44,859 - utils.performance_optimizer - INFO -   Cache Hit Rate: 0.00%
2025-08-29 23:56:44,859 - utils.performance_optimizer - INFO -   FAISS Available: True
2025-08-29 23:56:44,859 - __main__ - INFO - ============================================================
2025-08-29 23:56:44,865 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-29 23:56:44,865 - __main__ - INFO - ============================================================
2025-08-29 23:56:44,865 - __main__ - INFO - [ID] Batch ID: 84285138-14e5-4bba-a639-724e3c5dda20
2025-08-29 23:56:44,865 - __main__ - INFO - [IMAGES] Images processed: 3
2025-08-29 23:56:44,865 - __main__ - INFO - [FACES] Faces detected: 15
2025-08-29 23:56:44,865 - __main__ - INFO - [NEW] New persons: 0
2025-08-29 23:56:44,865 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-29 23:56:44,865 - __main__ - INFO - [TIME] Processing time: 3.56s
2025-08-29 23:56:44,867 - __main__ - INFO - [STATUS] Status: SUCCESS
2025-08-29 23:56:44,867 - __main__ - INFO - [MEMORY] Memory usage: 443.9 MB
2025-08-29 23:56:44,867 - __main__ - INFO - [INCREASE] Memory increase: 97.6 MB
2025-08-29 23:56:44,867 - __main__ - INFO - ============================================================
2025-08-29 23:56:44,867 - __main__ - INFO - [DUPLICATE] Batch had 1 duplicate events
2025-08-29 23:56:49,907 - __main__ - INFO - [START] Starting enhanced batch processing: 13bde53f-a75e-4c45-b23f-4a826e95dc45
2025-08-29 23:56:49,924 - __main__ - INFO - Memory before processing: 443.9 MB
2025-08-29 23:56:50,200 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-29 23:56:50,207 - __main__ - INFO - [FOUND] Found 5 recent images
2025-08-29 23:56:50,207 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-29 23:56:50,702 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 23:56:50,702 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-29 23:56:50,983 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-29 23:56:50,983 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-29 23:56:51,167 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-29 23:56:51,171 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-29 23:56:51,411 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-29 23:56:51,411 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-29 23:56:51,686 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 23:56:51,686 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-29 23:56:51,700 - utils.duplicate_detector - INFO - [SLEEP] Entering sleep mode for 1006s - Reason: Image duplicates: 5
2025-08-29 23:56:56,733 - __main__ - INFO - [START] Starting enhanced batch processing: 894994a8-51fb-4198-b550-9e8a2d305331
2025-08-29 23:56:56,741 - __main__ - INFO - [SLEEP] System in sleep mode - 1000s remaining
2025-08-29 23:57:01,774 - __main__ - INFO - [START] Starting enhanced batch processing: 55977adf-b77d-4c00-bf62-9c9871a4745d
2025-08-29 23:57:01,774 - __main__ - INFO - [SLEEP] System in sleep mode - 995s remaining
2025-08-29 23:57:06,840 - __main__ - INFO - 
======================================================================
2025-08-29 23:57:06,841 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 23:57:06,842 - __main__ - INFO - ======================================================================
2025-08-29 23:57:06,843 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 23:57:06,843 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 23:57:06,843 - __main__ - INFO -   Total Visits: 0
2025-08-29 23:57:06,844 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 23:57:06,844 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 23:57:06,844 - __main__ - INFO -   Total Batches: 1
2025-08-29 23:57:06,844 - __main__ - INFO -   Total Images Processed: 3
2025-08-29 23:57:06,844 - __main__ - INFO -   Total Faces Detected: 15
2025-08-29 23:57:06,846 - __main__ - INFO -   Total New Persons: 0
2025-08-29 23:57:06,846 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 23:57:06,846 - __main__ - INFO -   Total Processing Time: 3.56s
2025-08-29 23:57:06,846 - __main__ - INFO -   System Uptime: 0:00:30.634529
2025-08-29 23:57:06,846 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 23:57:06,846 - __main__ - INFO -   Memory Usage: 445.4 MB (2.8%)
2025-08-29 23:57:06,848 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 23:57:06,848 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 23:57:06,848 - __main__ - INFO -   FAISS Available: True
2025-08-29 23:57:06,856 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 23:57:06,856 - __main__ - INFO -   Total Duplicates (24h): 2
2025-08-29 23:57:06,856 - __main__ - INFO -   Image Duplicates: 2
2025-08-29 23:57:06,856 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 23:57:06,856 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 23:57:06,856 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 23:57:06,856 - __main__ - INFO -   Remaining Sleep: 990s
2025-08-29 23:57:06,856 - __main__ - INFO -   Sleep Reason: Image duplicates: 5
2025-08-29 23:57:06,858 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 23:57:06,858 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 23:57:06,858 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 23:57:06,858 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 23:57:06,858 - __main__ - INFO -   Quality Check: True
2025-08-29 23:57:06,858 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 23:57:06,858 - __main__ - INFO -   Sleep Mode: True
2025-08-29 23:57:06,858 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 23:57:06,858 - __main__ - INFO - ======================================================================

2025-08-29 23:57:06,858 - __main__ - INFO - [START] Starting enhanced batch processing: 6b5fa870-e4da-4115-a164-2705249ffeed
2025-08-29 23:57:06,864 - __main__ - INFO - [SLEEP] System in sleep mode - 990s remaining
2025-08-29 23:57:11,917 - __main__ - INFO - [START] Starting enhanced batch processing: 2f283af5-ccd0-40b6-9eaa-92855fa98164
2025-08-29 23:57:11,931 - __main__ - INFO - [SLEEP] System in sleep mode - 985s remaining
2025-08-29 23:57:16,957 - __main__ - INFO - [START] Starting enhanced batch processing: 2743b29b-d773-4ab4-bf9b-07676d091086
2025-08-29 23:57:16,967 - __main__ - INFO - [SLEEP] System in sleep mode - 980s remaining
2025-08-29 23:57:21,995 - __main__ - INFO - [START] Starting enhanced batch processing: b4927012-4c82-4f05-8069-76f25f72a897
2025-08-29 23:57:22,004 - __main__ - INFO - [SLEEP] System in sleep mode - 974s remaining
2025-08-29 23:57:27,051 - __main__ - INFO - [START] Starting enhanced batch processing: 0ba84ad2-7915-4486-878b-95e587b9e5f4
2025-08-29 23:57:27,061 - __main__ - INFO - [SLEEP] System in sleep mode - 969s remaining
2025-08-29 23:57:32,104 - __main__ - INFO - [START] Starting enhanced batch processing: 49bcf256-a63f-4724-8759-8102227607b5
2025-08-29 23:57:32,116 - __main__ - INFO - [SLEEP] System in sleep mode - 964s remaining
2025-08-29 23:57:37,166 - __main__ - INFO - 
======================================================================
2025-08-29 23:57:37,169 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 23:57:37,169 - __main__ - INFO - ======================================================================
2025-08-29 23:57:37,169 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 23:57:37,169 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 23:57:37,169 - __main__ - INFO -   Total Visits: 0
2025-08-29 23:57:37,169 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 23:57:37,169 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 23:57:37,171 - __main__ - INFO -   Total Batches: 1
2025-08-29 23:57:37,171 - __main__ - INFO -   Total Images Processed: 3
2025-08-29 23:57:37,171 - __main__ - INFO -   Total Faces Detected: 15
2025-08-29 23:57:37,171 - __main__ - INFO -   Total New Persons: 0
2025-08-29 23:57:37,171 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 23:57:37,171 - __main__ - INFO -   Total Processing Time: 3.56s
2025-08-29 23:57:37,171 - __main__ - INFO -   System Uptime: 0:01:00.961075
2025-08-29 23:57:37,171 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 23:57:37,171 - __main__ - INFO -   Memory Usage: 521.3 MB (3.2%)
2025-08-29 23:57:37,173 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 23:57:37,173 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 23:57:37,173 - __main__ - INFO -   FAISS Available: True
2025-08-29 23:57:37,179 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 23:57:37,179 - __main__ - INFO -   Total Duplicates (24h): 2
2025-08-29 23:57:37,179 - __main__ - INFO -   Image Duplicates: 2
2025-08-29 23:57:37,181 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 23:57:37,181 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 23:57:37,181 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 23:57:37,181 - __main__ - INFO -   Remaining Sleep: 959s
2025-08-29 23:57:37,181 - __main__ - INFO -   Sleep Reason: Image duplicates: 5
2025-08-29 23:57:37,181 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 23:57:37,181 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 23:57:37,181 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 23:57:37,183 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 23:57:37,183 - __main__ - INFO -   Quality Check: True
2025-08-29 23:57:37,183 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 23:57:37,183 - __main__ - INFO -   Sleep Mode: True
2025-08-29 23:57:37,183 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 23:57:37,185 - __main__ - INFO - ======================================================================

2025-08-29 23:57:37,185 - __main__ - INFO - [START] Starting enhanced batch processing: e30ac0c1-e0cb-4049-a5a2-5f2291e8c3e0
2025-08-29 23:57:37,191 - __main__ - INFO - [SLEEP] System in sleep mode - 959s remaining
2025-08-29 23:57:42,238 - __main__ - INFO - [START] Starting enhanced batch processing: 29c70663-f310-4cf0-8e0f-7cb2e72bd3cb
2025-08-29 23:57:42,251 - __main__ - INFO - [SLEEP] System in sleep mode - 954s remaining
2025-08-29 23:57:47,295 - __main__ - INFO - [START] Starting enhanced batch processing: 11d8595e-b8da-4fff-923b-9aaea72e0d3a
2025-08-29 23:57:47,300 - __main__ - INFO - [SLEEP] System in sleep mode - 949s remaining
2025-08-29 23:57:52,330 - __main__ - INFO - [START] Starting enhanced batch processing: c074b2a5-5579-4028-972b-58ee3110d7a5
2025-08-29 23:57:52,333 - __main__ - INFO - [SLEEP] System in sleep mode - 944s remaining
2025-08-29 23:57:54,676 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-29 23:57:54,676 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-29 23:57:54,692 - __main__ - INFO - 
======================================================================
2025-08-29 23:57:54,692 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-29 23:57:54,695 - __main__ - INFO - ======================================================================
2025-08-29 23:57:54,695 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-29 23:57:54,695 - __main__ - INFO -   Total Unique Persons: 0
2025-08-29 23:57:54,695 - __main__ - INFO -   Total Visits: 0
2025-08-29 23:57:54,695 - __main__ - INFO -   Recent Visitors (24h): 0
2025-08-29 23:57:54,695 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-29 23:57:54,698 - __main__ - INFO -   Total Batches: 1
2025-08-29 23:57:54,698 - __main__ - INFO -   Total Images Processed: 3
2025-08-29 23:57:54,698 - __main__ - INFO -   Total Faces Detected: 15
2025-08-29 23:57:54,698 - __main__ - INFO -   Total New Persons: 0
2025-08-29 23:57:54,700 - __main__ - INFO -   Total Existing Persons: 0
2025-08-29 23:57:54,700 - __main__ - INFO -   Total Processing Time: 3.56s
2025-08-29 23:57:54,700 - __main__ - INFO -   System Uptime: 0:01:18.486576
2025-08-29 23:57:54,700 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-29 23:57:54,700 - __main__ - INFO -   Memory Usage: 521.3 MB (3.2%)
2025-08-29 23:57:54,700 - __main__ - INFO -   Average Processing Time: 0.000s
2025-08-29 23:57:54,700 - __main__ - INFO -   Cache Hit Rate: 0.00%
2025-08-29 23:57:54,700 - __main__ - INFO -   FAISS Available: True
2025-08-29 23:57:54,706 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-29 23:57:54,706 - __main__ - INFO -   Total Duplicates (24h): 2
2025-08-29 23:57:54,706 - __main__ - INFO -   Image Duplicates: 2
2025-08-29 23:57:54,706 - __main__ - INFO -   Face Duplicates: 0
2025-08-29 23:57:54,708 - __main__ - INFO -   Batch Duplicates: 0
2025-08-29 23:57:54,708 - __main__ - INFO -   Sleep Mode: ACTIVE
2025-08-29 23:57:54,708 - __main__ - INFO -   Remaining Sleep: 942s
2025-08-29 23:57:54,708 - __main__ - INFO -   Sleep Reason: Image duplicates: 5
2025-08-29 23:57:54,708 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-29 23:57:54,708 - __main__ - INFO -   Face Threshold: 0.6
2025-08-29 23:57:54,708 - __main__ - INFO -   Max Batch Size: 10
2025-08-29 23:57:54,708 - __main__ - INFO -   Processing Interval: 5s
2025-08-29 23:57:54,710 - __main__ - INFO -   Quality Check: True
2025-08-29 23:57:54,710 - __main__ - INFO -   FAISS Enabled: True
2025-08-29 23:57:54,710 - __main__ - INFO -   Sleep Mode: True
2025-08-29 23:57:54,710 - __main__ - INFO -   Max Duplicate Threshold: 3
2025-08-29 23:57:54,710 - __main__ - INFO - ======================================================================

2025-08-29 23:57:54,710 - utils.performance_optimizer - INFO - [GC] Performing garbage collection...
2025-08-29 23:57:54,746 - utils.performance_optimizer - INFO - [OK] Memory after GC: 521.3 MB
2025-08-29 23:57:54,746 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 00:55:55,752 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 00:55:55,768 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 00:55:55,781 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 00:55:55,903 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:00:01,809 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:00:01,816 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:00:01,825 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:00:01,940 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:00:25,112 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:00:25,118 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:00:25,127 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:00:25,236 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:01:39,496 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:01:39,508 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:01:39,512 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:01:39,635 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:06:24,065 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:06:24,075 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:06:24,080 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:06:24,207 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:09:07,850 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:09:07,857 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:09:07,865 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:09:08,015 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:11:54,604 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:11:54,622 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:11:54,631 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:11:54,811 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:11:54,955 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 01:11:54,955 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 01:11:54,955 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 01:11:54,955 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 01:11:54,955 - __main__ - INFO - [START] Starting enhanced batch processing: b89d2dbc-8001-44ca-a15a-56d5ce195bc1
2025-08-30 01:11:54,955 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 144, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:11:59,959 - __main__ - INFO - [START] Starting enhanced batch processing: 56094ab7-2d9d-4a1b-b58b-ad509a12583e
2025-08-30 01:11:59,959 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 144, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:12:04,963 - __main__ - INFO - [START] Starting enhanced batch processing: 359d3869-9228-47f2-84b3-bb42fc9e6811
2025-08-30 01:12:04,963 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 144, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:12:09,970 - __main__ - INFO - [START] Starting enhanced batch processing: 617f26fb-ae3e-4133-9b10-11d9d7e4bbac
2025-08-30 01:12:09,972 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 144, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:12:10,786 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:12:13,331 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:12:14,529 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:12:14,977 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 01:12:14,977 - __main__ - INFO - 
======================================================================
2025-08-30 01:12:14,979 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 01:12:14,979 - __main__ - INFO - ======================================================================
2025-08-30 01:12:14,979 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-30 01:12:14,979 - __main__ - ERROR - Error printing statistics: 'EnhancedMySQLService' object has no attribute 'get_total_persons'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 334, in _print_statistics
    total_persons = self.mysql_service.get_total_persons()
AttributeError: 'EnhancedMySQLService' object has no attribute 'get_total_persons'
2025-08-30 01:13:08,555 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:13:08,577 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:13:08,583 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:13:08,794 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:13:08,930 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 01:13:08,930 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 01:13:08,933 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 01:13:08,933 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 01:13:08,933 - __main__ - INFO - [START] Starting enhanced batch processing: a6a9f02b-2339-4213-a676-26fb768b4535
2025-08-30 01:13:08,933 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 139, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:13:13,943 - __main__ - INFO - [START] Starting enhanced batch processing: 74461a1f-b9f8-44cb-a390-88c4f176ed18
2025-08-30 01:13:13,943 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 139, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:13:18,945 - __main__ - INFO - [START] Starting enhanced batch processing: 6f3301dd-8a19-45a5-999d-d3e03ae04f0a
2025-08-30 01:13:18,945 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 139, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:13:23,952 - __main__ - INFO - [START] Starting enhanced batch processing: 5b50a2f7-a1ca-4239-ac49-4f2a91febe45
2025-08-30 01:13:23,952 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 139, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:13:27,177 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:13:28,966 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 01:13:28,966 - __main__ - INFO - 
======================================================================
2025-08-30 01:13:28,966 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 01:13:28,966 - __main__ - INFO - ======================================================================
2025-08-30 01:13:28,966 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-30 01:13:28,966 - __main__ - ERROR - Error printing statistics: 'EnhancedMySQLService' object has no attribute 'get_total_persons'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 329, in _print_statistics
    total_persons = self.mysql_service.get_total_persons()
AttributeError: 'EnhancedMySQLService' object has no attribute 'get_total_persons'
2025-08-30 01:15:51,211 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:15:51,223 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:15:51,227 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:15:51,348 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:15:51,427 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 01:15:51,427 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 01:15:51,427 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 01:15:51,428 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 01:15:51,428 - __main__ - INFO - [START] Starting enhanced batch processing: 08e976b5-5360-4bf6-aa6e-77ba9927aa85
2025-08-30 01:15:51,428 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 139, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:15:56,441 - __main__ - INFO - [START] Starting enhanced batch processing: bfe2b973-17d2-4c41-b2d3-31addb631648
2025-08-30 01:15:56,442 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 139, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:16:01,450 - __main__ - INFO - [START] Starting enhanced batch processing: fa31898f-bce6-443d-b79b-b9fd469d1d8f
2025-08-30 01:16:01,451 - __main__ - ERROR - Error in main loop: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 139, in start
    if self.duplicate_detector.should_enter_sleep_mode():
AttributeError: 'DuplicateDetector' object has no attribute 'should_enter_sleep_mode'. Did you mean: 'enter_sleep_mode'?
2025-08-30 01:16:02,788 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:16:05,716 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:16:06,218 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:16:06,425 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:16:06,471 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 01:16:06,471 - __main__ - INFO - 
======================================================================
2025-08-30 01:16:06,472 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 01:16:06,472 - __main__ - INFO - ======================================================================
2025-08-30 01:16:06,472 - __main__ - INFO - [DB] DATABASE STATISTICS:
2025-08-30 01:16:06,472 - __main__ - ERROR - Error printing statistics: 'EnhancedMySQLService' object has no attribute 'get_total_persons'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 329, in _print_statistics
    total_persons = self.mysql_service.get_total_persons()
AttributeError: 'EnhancedMySQLService' object has no attribute 'get_total_persons'
2025-08-30 01:20:38,067 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:20:38,075 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:20:38,083 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:20:38,210 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:20:38,282 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 01:20:38,282 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 01:20:38,282 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 01:20:38,282 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 01:20:38,282 - __main__ - INFO - [START] Starting enhanced batch processing: 5fe15dcf-2c95-463f-acaf-0b825d0ca772
2025-08-30 01:20:38,283 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:20:38,283 - __main__ - ERROR - Error in _process_images: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 197, in _process_images
    recent_images = get_recent(limit=self.batch_size, offset=0) or []
TypeError: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:20:43,300 - __main__ - INFO - [START] Starting enhanced batch processing: fa8e2ea6-5b71-47f7-b96f-db5d33d93d1b
2025-08-30 01:20:43,301 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:20:43,303 - __main__ - ERROR - Error in _process_images: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 197, in _process_images
    recent_images = get_recent(limit=self.batch_size, offset=0) or []
TypeError: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:20:48,311 - __main__ - INFO - [START] Starting enhanced batch processing: c285c2a4-e7c8-45d1-ac08-86c45f686e8e
2025-08-30 01:20:48,311 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:20:48,311 - __main__ - ERROR - Error in _process_images: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 197, in _process_images
    recent_images = get_recent(limit=self.batch_size, offset=0) or []
TypeError: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:20:49,369 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:20:51,555 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:20:52,084 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:20:52,331 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:20:53,096 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:20:53,331 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 01:20:53,331 - __main__ - INFO - 
======================================================================
2025-08-30 01:20:53,333 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 01:20:53,333 - __main__ - INFO - ======================================================================
2025-08-30 01:20:53,333 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 01:20:53,333 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 01:20:53,335 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 01:20:53,335 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 01:20:53,335 - __main__ - INFO -   Total Batches: 3
2025-08-30 01:20:53,335 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 01:20:53,335 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 01:20:53,335 - __main__ - INFO -   Total New Persons: 0
2025-08-30 01:20:53,335 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 01:20:53,335 - __main__ - INFO -   Total Processing Time: 0.01s
2025-08-30 01:20:53,335 - __main__ - INFO -   System Uptime: 0:00:15.048761
2025-08-30 01:20:53,335 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 01:20:53,335 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 01:20:53,335 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 01:20:53,339 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 01:20:53,340 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 01:20:53,341 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 01:20:53,341 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 01:20:53,341 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 01:20:53,342 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 01:20:53,343 - __main__ - INFO -   Quality Check: True
2025-08-30 01:20:53,343 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 01:20:53,344 - __main__ - INFO -   Sleep Mode: True
2025-08-30 01:20:53,344 - __main__ - INFO - ======================================================================

2025-08-30 01:20:53,344 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 01:23:36,381 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:23:36,384 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:23:36,395 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:23:36,520 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:23:36,601 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 01:23:36,602 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 01:23:36,602 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 01:23:36,602 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 01:23:36,602 - __main__ - INFO - [START] Starting enhanced batch processing: 12bce559-1e4a-48bb-aad4-73bcbc11d7db
2025-08-30 01:23:36,602 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:23:36,602 - __main__ - WARNING - Supabase get_recent_images failed: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:23:36,603 - __main__ - INFO - [FALLBACK] Using 10 local images from temp_images
2025-08-30 01:23:36,603 - __main__ - INFO - [FOUND] Found 10 recent images
2025-08-30 01:23:36,603 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:23:36,603 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:23:36,603 - __main__ - ERROR - Error in _process_images: 'UniversalSupabaseService' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\services\supabase_service.py", line 246, in download_image
    response = self.client.http.get(signed_url)
AttributeError: 'SyncClient' object has no attribute 'http'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 246, in _process_images
    downloaded = self.supabase_service.download_image(image_name, local_path)
  File "D:\face\takla\services\supabase_service.py", line 260, in download_image
    self.logger.exception(f"Error downloading image {image_name}: {e}")
AttributeError: 'UniversalSupabaseService' object has no attribute 'logger'
2025-08-30 01:23:41,612 - __main__ - INFO - [START] Starting enhanced batch processing: e1e7217f-2b05-4cfd-9c74-b9db6582f567
2025-08-30 01:23:41,612 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:23:41,613 - __main__ - WARNING - Supabase get_recent_images failed: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:23:41,613 - __main__ - INFO - [FALLBACK] Using 10 local images from temp_images
2025-08-30 01:23:41,613 - __main__ - INFO - [FOUND] Found 10 recent images
2025-08-30 01:23:41,613 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:23:41,613 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:23:41,613 - __main__ - ERROR - Error in _process_images: 'UniversalSupabaseService' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\services\supabase_service.py", line 246, in download_image
    response = self.client.http.get(signed_url)
AttributeError: 'SyncClient' object has no attribute 'http'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 246, in _process_images
    downloaded = self.supabase_service.download_image(image_name, local_path)
  File "D:\face\takla\services\supabase_service.py", line 260, in download_image
    self.logger.exception(f"Error downloading image {image_name}: {e}")
AttributeError: 'UniversalSupabaseService' object has no attribute 'logger'
2025-08-30 01:23:46,636 - __main__ - INFO - [START] Starting enhanced batch processing: 4a4fbf30-bdfd-4f0c-8816-b7d95f6b8397
2025-08-30 01:23:46,636 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:23:46,636 - __main__ - WARNING - Supabase get_recent_images failed: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:23:46,636 - __main__ - INFO - [FALLBACK] Using 10 local images from temp_images
2025-08-30 01:23:46,636 - __main__ - INFO - [FOUND] Found 10 recent images
2025-08-30 01:23:46,636 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:23:46,636 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:23:46,636 - __main__ - ERROR - Error in _process_images: 'UniversalSupabaseService' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\services\supabase_service.py", line 246, in download_image
    response = self.client.http.get(signed_url)
AttributeError: 'SyncClient' object has no attribute 'http'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 246, in _process_images
    downloaded = self.supabase_service.download_image(image_name, local_path)
  File "D:\face\takla\services\supabase_service.py", line 260, in download_image
    self.logger.exception(f"Error downloading image {image_name}: {e}")
AttributeError: 'UniversalSupabaseService' object has no attribute 'logger'
2025-08-30 01:23:50,110 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:23:51,628 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 01:23:51,628 - __main__ - INFO - 
======================================================================
2025-08-30 01:23:51,628 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 01:23:51,628 - __main__ - INFO - ======================================================================
2025-08-30 01:23:51,628 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 01:23:51,628 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 01:23:51,628 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 01:23:51,628 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 01:23:51,628 - __main__ - INFO -   Total Batches: 3
2025-08-30 01:23:51,628 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 01:23:51,628 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 01:23:51,628 - __main__ - INFO -   Total New Persons: 0
2025-08-30 01:23:51,628 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 01:23:51,628 - __main__ - INFO -   Total Processing Time: 0.01s
2025-08-30 01:23:51,628 - __main__ - INFO -   System Uptime: 0:00:15.026836
2025-08-30 01:23:51,628 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 01:23:51,628 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 01:23:51,628 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 01:23:51,628 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 01:23:51,628 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 01:23:51,628 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 01:23:51,628 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 01:23:51,628 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 01:23:51,628 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 01:23:51,628 - __main__ - INFO -   Quality Check: True
2025-08-30 01:23:51,628 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 01:23:51,628 - __main__ - INFO -   Sleep Mode: True
2025-08-30 01:23:51,628 - __main__ - INFO - ======================================================================

2025-08-30 01:23:51,628 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 01:28:31,698 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:28:31,708 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:28:31,715 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:28:31,830 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:28:31,906 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 01:28:31,906 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 01:28:31,908 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 01:28:31,908 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 01:28:31,908 - __main__ - INFO - [START] Starting enhanced batch processing: 1f3e23da-4ffc-49d7-900a-a985a630d557
2025-08-30 01:28:31,909 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:28:31,909 - __main__ - WARNING - Supabase get_recent_images failed: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:28:31,909 - __main__ - INFO - [FALLBACK] Using 10 local images from temp_images
2025-08-30 01:28:31,909 - __main__ - INFO - [FOUND] Found 10 images to process
2025-08-30 01:28:31,909 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:28:31,909 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:31,909 - services.enhanced_face_service - INFO - Processing image: temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:31,917 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:31,922 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:32,079 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:32,080 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:32,081 - services.enhanced_face_service - INFO - Processing image: temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:32,082 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:32,090 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:32,120 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:32,120 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:32,121 - services.enhanced_face_service - INFO - Processing image: temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:32,122 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:32,130 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:32,150 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:32,151 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:32,151 - services.enhanced_face_service - INFO - Processing image: temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:32,153 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:32,161 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:32,184 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:32,184 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:32,185 - services.enhanced_face_service - INFO - Processing image: temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:32,186 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:32,192 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:32,220 - services.enhanced_face_service - INFO - Detected 1 faces with OpenCV
2025-08-30 01:28:32,478 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:32,478 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:32,478 - services.enhanced_face_service - INFO - Processing image: temp_images\WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:28:32,485 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:28:32,496 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe
2025-08-30 01:28:32,733 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:32,977 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:33,230 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:33,230 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:33,230 - services.enhanced_face_service - INFO - Processing image: temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-30 01:28:33,239 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-30 01:28:33,249 - services.enhanced_face_service - INFO - Detected 2 faces with MediaPipe
2025-08-30 01:28:33,514 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:33,552 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_d372be4e930849c682488f221414a9a7.jpg: No faces found in cropped image temp_images\tmp_crop_d372be4e930849c682488f221414a9a7.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 59, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_d372be4e930849c682488f221414a9a7.jpg
2025-08-30 01:28:33,552 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:33,552 - services.enhanced_face_service - INFO - Processing image: temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg.fixed.jpg
2025-08-30 01:28:33,560 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg.fixed.jpg
2025-08-30 01:28:33,568 - services.enhanced_face_service - INFO - Detected 2 faces with MediaPipe
2025-08-30 01:28:33,831 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:33,871 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_3c852b8b79d84a7b98b936f8fc4aea31.jpg: No faces found in cropped image temp_images\tmp_crop_3c852b8b79d84a7b98b936f8fc4aea31.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 59, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_3c852b8b79d84a7b98b936f8fc4aea31.jpg
2025-08-30 01:28:33,871 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:33,872 - services.enhanced_face_service - INFO - Processing image: temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:33,874 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:33,879 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:33,908 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:33,909 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:33,909 - services.enhanced_face_service - INFO - Processing image: temp_images\detected_faces.jpg
2025-08-30 01:28:33,911 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\detected_faces.jpg
2025-08-30 01:28:33,919 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\detected_faces.jpg
2025-08-30 01:28:33,949 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:33,951 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:28:33,951 - __main__ - INFO - ============================================================
2025-08-30 01:28:33,951 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-30 01:28:33,951 - __main__ - INFO - ============================================================
2025-08-30 01:28:33,951 - __main__ - INFO - [ID] Batch ID: 1f3e23da-4ffc-49d7-900a-a985a630d557
2025-08-30 01:28:33,951 - __main__ - INFO - [IMAGES] Images processed: 10
2025-08-30 01:28:33,951 - __main__ - INFO - [FACES] Faces detected: 6
2025-08-30 01:28:33,951 - __main__ - INFO - [NEW] New persons: 0
2025-08-30 01:28:33,951 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-30 01:28:33,951 - __main__ - INFO - [TIME] Processing time: 2.04s
2025-08-30 01:28:33,951 - __main__ - INFO - [MEMORY] Memory usage: 0.0 MB
2025-08-30 01:28:33,951 - __main__ - INFO - ============================================================
2025-08-30 01:28:38,959 - __main__ - INFO - [START] Starting enhanced batch processing: 85647dd0-6be9-46fc-9960-beadfae743cb
2025-08-30 01:28:38,959 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:28:38,959 - __main__ - WARNING - Supabase get_recent_images failed: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:28:38,959 - __main__ - INFO - [FALLBACK] Using 10 local images from temp_images
2025-08-30 01:28:38,959 - __main__ - INFO - [FOUND] Found 10 images to process
2025-08-30 01:28:38,959 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:28:38,959 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:38,959 - services.enhanced_face_service - INFO - Processing image: temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:38,959 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:38,962 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:38,994 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:38,995 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:38,995 - services.enhanced_face_service - INFO - Processing image: temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:38,996 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:39,000 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:39,026 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:39,027 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:39,028 - services.enhanced_face_service - INFO - Processing image: temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:39,028 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:39,034 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:39,063 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:39,064 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:39,065 - services.enhanced_face_service - INFO - Processing image: temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:39,066 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:39,074 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:39,105 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:39,106 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:39,107 - services.enhanced_face_service - INFO - Processing image: temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:39,109 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:39,165 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:39,185 - services.enhanced_face_service - INFO - Detected 1 faces with OpenCV
2025-08-30 01:28:39,425 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:39,425 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:39,425 - services.enhanced_face_service - INFO - Processing image: temp_images\WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:28:39,425 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:28:39,446 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe
2025-08-30 01:28:39,676 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:39,925 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:40,175 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:40,176 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:40,176 - services.enhanced_face_service - INFO - Processing image: temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-30 01:28:40,182 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-30 01:28:40,190 - services.enhanced_face_service - INFO - Detected 2 faces with MediaPipe
2025-08-30 01:28:40,440 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:40,493 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_e935d8bf95fb42d8b4ff8903801a8c9c.jpg: No faces found in cropped image temp_images\tmp_crop_e935d8bf95fb42d8b4ff8903801a8c9c.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 59, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_e935d8bf95fb42d8b4ff8903801a8c9c.jpg
2025-08-30 01:28:40,494 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:40,494 - services.enhanced_face_service - INFO - Processing image: temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg.fixed.jpg
2025-08-30 01:28:40,501 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg.fixed.jpg
2025-08-30 01:28:40,507 - services.enhanced_face_service - INFO - Detected 2 faces with MediaPipe
2025-08-30 01:28:40,769 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:40,805 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_9437869990f3422fa9c0280d697def72.jpg: No faces found in cropped image temp_images\tmp_crop_9437869990f3422fa9c0280d697def72.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 59, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_9437869990f3422fa9c0280d697def72.jpg
2025-08-30 01:28:40,805 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:40,805 - services.enhanced_face_service - INFO - Processing image: temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:40,806 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:40,812 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:40,835 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:40,836 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:40,836 - services.enhanced_face_service - INFO - Processing image: temp_images\detected_faces.jpg
2025-08-30 01:28:40,837 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\detected_faces.jpg
2025-08-30 01:28:40,842 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\detected_faces.jpg
2025-08-30 01:28:40,870 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:40,871 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:28:40,872 - __main__ - INFO - ============================================================
2025-08-30 01:28:40,872 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-30 01:28:40,872 - __main__ - INFO - ============================================================
2025-08-30 01:28:40,872 - __main__ - INFO - [ID] Batch ID: 85647dd0-6be9-46fc-9960-beadfae743cb
2025-08-30 01:28:40,872 - __main__ - INFO - [IMAGES] Images processed: 10
2025-08-30 01:28:40,873 - __main__ - INFO - [FACES] Faces detected: 6
2025-08-30 01:28:40,873 - __main__ - INFO - [NEW] New persons: 0
2025-08-30 01:28:40,873 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-30 01:28:40,873 - __main__ - INFO - [TIME] Processing time: 1.91s
2025-08-30 01:28:40,873 - __main__ - INFO - [MEMORY] Memory usage: 0.0 MB
2025-08-30 01:28:40,874 - __main__ - INFO - ============================================================
2025-08-30 01:28:45,880 - __main__ - INFO - [START] Starting enhanced batch processing: f2de7db0-d08f-438c-9554-db72362f7355
2025-08-30 01:28:45,880 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:28:45,880 - __main__ - WARNING - Supabase get_recent_images failed: UniversalSupabaseService.get_recent_images() got an unexpected keyword argument 'offset'
2025-08-30 01:28:45,880 - __main__ - INFO - [FALLBACK] Using 10 local images from temp_images
2025-08-30 01:28:45,880 - __main__ - INFO - [FOUND] Found 10 images to process
2025-08-30 01:28:45,880 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:28:45,880 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:45,880 - services.enhanced_face_service - INFO - Processing image: temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:45,880 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:45,880 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\0d10bb39-5103-4e5b-abc5-1f43b9d42a3a.jpg
2025-08-30 01:28:45,918 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:45,919 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:45,919 - services.enhanced_face_service - INFO - Processing image: temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:45,919 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:45,927 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\13ee9830-3069-4df4-bef5-605790f92e4d.jpg
2025-08-30 01:28:45,956 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:45,957 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:45,958 - services.enhanced_face_service - INFO - Processing image: temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:45,959 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:45,971 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\3f68209a-879e-4e42-a94f-2a77230b7a9c.jpg
2025-08-30 01:28:45,996 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:45,997 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:45,997 - services.enhanced_face_service - INFO - Processing image: temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:45,998 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:46,006 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\45fa5dbe-680f-41fa-bf79-a1b2e53f1dd3.jpg
2025-08-30 01:28:46,034 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:46,037 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:46,037 - services.enhanced_face_service - INFO - Processing image: temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:46,039 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:46,047 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\64f4d6e5-af8c-4658-9472-380be82e0f2d.jpg
2025-08-30 01:28:46,076 - services.enhanced_face_service - INFO - Detected 1 faces with OpenCV
2025-08-30 01:28:46,317 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:46,317 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:46,317 - services.enhanced_face_service - INFO - Processing image: temp_images\WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:28:46,317 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:28:46,333 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe
2025-08-30 01:28:46,575 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:46,815 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:47,067 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:47,067 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:47,067 - services.enhanced_face_service - INFO - Processing image: temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-30 01:28:47,074 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg
2025-08-30 01:28:47,083 - services.enhanced_face_service - INFO - Detected 2 faces with MediaPipe
2025-08-30 01:28:47,349 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:47,386 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_b3afd07da48d4f3198460ffd5ecf94f4.jpg: No faces found in cropped image temp_images\tmp_crop_b3afd07da48d4f3198460ffd5ecf94f4.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 59, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_b3afd07da48d4f3198460ffd5ecf94f4.jpg
2025-08-30 01:28:47,387 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:47,387 - services.enhanced_face_service - INFO - Processing image: temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg.fixed.jpg
2025-08-30 01:28:47,394 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\WhatsApp Image 2025-08-27 at 10.13.19 PM.jpeg.fixed.jpg
2025-08-30 01:28:47,400 - services.enhanced_face_service - INFO - Detected 2 faces with MediaPipe
2025-08-30 01:28:47,667 - services.enhanced_face_service - WARNING - Age/gender detection failed: 'AgeGenderManager' object has no attribute 'predict'
2025-08-30 01:28:47,702 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_651deeb0f4bc42e5b8f1d0dfc8f3ee2c.jpg: No faces found in cropped image temp_images\tmp_crop_651deeb0f4bc42e5b8f1d0dfc8f3ee2c.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 59, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_651deeb0f4bc42e5b8f1d0dfc8f3ee2c.jpg
2025-08-30 01:28:47,703 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:47,703 - services.enhanced_face_service - INFO - Processing image: temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:47,704 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:47,710 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\a44877fa-6dc0-4d9a-94ad-15724ceb47dc.jpg
2025-08-30 01:28:47,735 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:47,736 - __main__ - WARNING - Duplicate check failed: DuplicateDetector.is_image_processed() missing 1 required positional argument: 'image_name'
2025-08-30 01:28:47,736 - services.enhanced_face_service - INFO - Processing image: temp_images\detected_faces.jpg
2025-08-30 01:28:47,737 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\detected_faces.jpg
2025-08-30 01:28:47,746 - services.enhanced_face_service - INFO - Using OpenCV-based face detection for temp_images\detected_faces.jpg
2025-08-30 01:28:47,778 - services.enhanced_face_service - INFO - Detected 0 faces with OpenCV
2025-08-30 01:28:47,779 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:28:47,780 - __main__ - INFO - ============================================================
2025-08-30 01:28:47,780 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-30 01:28:47,781 - __main__ - INFO - ============================================================
2025-08-30 01:28:47,781 - __main__ - INFO - [ID] Batch ID: f2de7db0-d08f-438c-9554-db72362f7355
2025-08-30 01:28:47,781 - __main__ - INFO - [IMAGES] Images processed: 10
2025-08-30 01:28:47,781 - __main__ - INFO - [FACES] Faces detected: 6
2025-08-30 01:28:47,781 - __main__ - INFO - [NEW] New persons: 0
2025-08-30 01:28:47,781 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-30 01:28:47,782 - __main__ - INFO - [TIME] Processing time: 1.90s
2025-08-30 01:28:47,782 - __main__ - INFO - [MEMORY] Memory usage: 0.0 MB
2025-08-30 01:28:47,782 - __main__ - INFO - ============================================================
2025-08-30 01:28:52,267 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 01:28:52,788 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 01:28:52,795 - __main__ - INFO - 
======================================================================
2025-08-30 01:28:52,795 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 01:28:52,795 - __main__ - INFO - ======================================================================
2025-08-30 01:28:52,795 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 01:28:52,795 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 01:28:52,795 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 01:28:52,795 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 01:28:52,798 - __main__ - INFO -   Total Batches: 3
2025-08-30 01:28:52,798 - __main__ - INFO -   Total Images Processed: 30
2025-08-30 01:28:52,798 - __main__ - INFO -   Total Faces Detected: 18
2025-08-30 01:28:52,798 - __main__ - INFO -   Total New Persons: 0
2025-08-30 01:28:52,798 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 01:28:52,798 - __main__ - INFO -   Total Processing Time: 5.85s
2025-08-30 01:28:52,798 - __main__ - INFO -   System Uptime: 0:00:20.888967
2025-08-30 01:28:52,798 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 01:28:52,799 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 01:28:52,799 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 01:28:52,799 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 01:28:52,800 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 01:28:52,800 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 01:28:52,800 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 01:28:52,800 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 01:28:52,801 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 01:28:52,801 - __main__ - INFO -   Quality Check: True
2025-08-30 01:28:52,801 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 01:28:52,801 - __main__ - INFO -   Sleep Mode: True
2025-08-30 01:28:52,802 - __main__ - INFO - ======================================================================

2025-08-30 01:28:52,802 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 01:59:31,516 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 01:59:31,528 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 01:59:31,531 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 01:59:31,652 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 01:59:31,754 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 01:59:31,754 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 01:59:31,754 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 01:59:31,754 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 01:59:31,755 - __main__ - INFO - [START] Starting enhanced batch processing: d0329f8e-ec08-48f6-8f70-ce3da4f1e0a5
2025-08-30 01:59:31,759 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:59:32,506 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 01:59:32,511 - __main__ - INFO - [FOUND] Found 5 images to process
2025-08-30 01:59:32,511 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:59:32,514 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:32,514 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:32,517 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:32,517 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:32,522 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:32,522 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:32,526 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:32,526 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:32,533 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:32,533 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:32,533 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:59:32,533 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 01:59:37,539 - __main__ - INFO - [START] Starting enhanced batch processing: 697bec81-69e0-487f-bf38-ccb6413436ba
2025-08-30 01:59:37,544 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:59:37,773 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 01:59:37,778 - __main__ - INFO - [FOUND] Found 5 images to process
2025-08-30 01:59:37,779 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:59:37,782 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:37,782 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:37,785 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:37,785 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:37,788 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:37,789 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:37,793 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:37,793 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:37,800 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:37,801 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:37,801 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:59:37,801 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 01:59:42,815 - __main__ - INFO - [START] Starting enhanced batch processing: de5bf4a7-9016-4976-b910-b0daebec17e0
2025-08-30 01:59:42,828 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:59:43,331 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 01:59:43,334 - __main__ - INFO - [FOUND] Found 5 images to process
2025-08-30 01:59:43,334 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:59:43,343 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:43,343 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:43,351 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:43,351 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:43,354 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:43,354 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:43,356 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:43,356 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:43,362 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:43,363 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:43,363 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:59:43,363 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 01:59:48,364 - __main__ - INFO - [START] Starting enhanced batch processing: 2f950c51-d3c1-417b-ba5f-9d7fd2c82827
2025-08-30 01:59:48,369 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:59:48,966 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 01:59:48,979 - __main__ - INFO - [FOUND] Found 5 images to process
2025-08-30 01:59:48,992 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:59:49,031 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:49,032 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:49,037 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:49,037 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:49,041 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:49,041 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:49,132 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:49,133 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:49,140 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:49,141 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:49,141 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:59:49,141 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 01:59:54,156 - __main__ - INFO - [START] Starting enhanced batch processing: 0e29416e-2eab-452a-93ae-6f03d04065f6
2025-08-30 01:59:54,176 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 01:59:54,615 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 01:59:54,615 - __main__ - INFO - [FOUND] Found 5 images to process
2025-08-30 01:59:54,630 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 01:59:54,655 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:54,655 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 01:59:54,663 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:54,676 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 01:59:54,682 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:54,683 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 01:59:54,686 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:54,687 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 01:59:54,709 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:54,709 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 01:59:54,709 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 01:59:54,709 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 01:59:59,721 - __main__ - INFO - [START] Starting enhanced batch processing: ee947712-de1a-4aef-ad8c-9ce5942fb01d
2025-08-30 01:59:59,721 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:00,098 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:00,101 - __main__ - INFO - [FOUND] Found 5 images to process
2025-08-30 02:00:00,101 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:00,110 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:00,112 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:00,163 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:00,164 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:00,170 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:00,171 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:00,176 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:00,176 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:00,208 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:00,208 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:00,208 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:00,209 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:00:05,211 - __main__ - INFO - [START] Starting enhanced batch processing: b44b02f8-6b33-40ae-9d2d-18a752d72bfd
2025-08-30 02:00:05,219 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:05,577 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:05,582 - __main__ - INFO - [FOUND] Found 5 images to process
2025-08-30 02:00:05,582 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:05,628 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:05,628 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:05,636 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:05,637 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:05,642 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:05,643 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:05,663 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:05,663 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:05,671 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:05,671 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:05,671 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:05,672 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:00:10,687 - __main__ - INFO - [START] Starting enhanced batch processing: 623ef889-f629-4233-95d8-a8dcb837a15a
2025-08-30 02:00:10,703 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:10,924 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:10,940 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:00:10,940 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:11,331 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:00:11,349 - services.enhanced_face_service - INFO - Processing image: temp_images\download (2).jpg
2025-08-30 02:00:11,355 - services.enhanced_face_service - INFO - Using MediaPipe face detection for temp_images\download (2).jpg
2025-08-30 02:00:11,373 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe
2025-08-30 02:00:11,380 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_f497f1fd9a524399a9d4ebee7e515df8.jpg: No faces found in cropped image temp_images\tmp_crop_f497f1fd9a524399a9d4ebee7e515df8.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 53, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_f497f1fd9a524399a9d4ebee7e515df8.jpg
2025-08-30 02:00:11,381 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_d12f9f7ee67b4e79b69f734deecc6c29.jpg: No faces found in cropped image temp_images\tmp_crop_d12f9f7ee67b4e79b69f734deecc6c29.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 53, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_d12f9f7ee67b4e79b69f734deecc6c29.jpg
2025-08-30 02:00:11,383 - services.enhanced_face_service - ERROR - Error processing face image temp_images\tmp_crop_d22f046aae4a48f19f25bf3522218530.jpg: No faces found in cropped image temp_images\tmp_crop_d22f046aae4a48f19f25bf3522218530.jpg
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 53, in process_face_image
    raise ValueError(f"No faces found in cropped image {image_path}")
ValueError: No faces found in cropped image temp_images\tmp_crop_d22f046aae4a48f19f25bf3522218530.jpg
2025-08-30 02:00:11,394 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:11,396 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:11,402 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:11,402 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:11,406 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:11,406 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:11,409 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:11,411 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:11,425 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:11,425 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:11,427 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:11,428 - __main__ - INFO - ============================================================
2025-08-30 02:00:11,428 - __main__ - INFO - [BATCH] BATCH PROCESSING SUMMARY
2025-08-30 02:00:11,429 - __main__ - INFO - ============================================================
2025-08-30 02:00:11,429 - __main__ - INFO - [ID] Batch ID: 623ef889-f629-4233-95d8-a8dcb837a15a
2025-08-30 02:00:11,434 - __main__ - INFO - [IMAGES] Images processed: 1
2025-08-30 02:00:11,436 - __main__ - INFO - [FACES] Faces detected: 0
2025-08-30 02:00:11,436 - __main__ - INFO - [NEW] New persons: 0
2025-08-30 02:00:11,437 - __main__ - INFO - [RETURN] Returning persons: 0
2025-08-30 02:00:11,437 - __main__ - INFO - [TIME] Processing time: 0.72s
2025-08-30 02:00:11,438 - __main__ - INFO - [MEMORY] Memory usage: 0.0 MB
2025-08-30 02:00:11,440 - __main__ - INFO - ============================================================
2025-08-30 02:00:11,441 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:00:16,447 - __main__ - INFO - [START] Starting enhanced batch processing: 3df5de9e-0197-457f-bfa2-58e5e73a2fbe
2025-08-30 02:00:16,447 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:16,674 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:16,674 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:00:16,674 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:16,688 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:16,689 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:16,703 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:16,703 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:16,706 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:16,706 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:16,718 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:16,718 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:16,727 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:16,728 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:16,733 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:16,735 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:16,735 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:16,735 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:00:21,743 - __main__ - INFO - [START] Starting enhanced batch processing: 9d5aabd5-1897-43e2-8561-f764a64ecc06
2025-08-30 02:00:21,751 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:21,983 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:21,983 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:00:21,986 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:21,987 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:21,987 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:21,994 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:21,994 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:21,997 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:21,998 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:22,001 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:22,001 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:22,004 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:22,004 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:22,011 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:22,011 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:22,012 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:22,012 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:00:27,020 - __main__ - INFO - [START] Starting enhanced batch processing: ad2e10d3-e5c7-4fb4-909c-0f47f248f6db
2025-08-30 02:00:27,020 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:27,363 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:27,376 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:00:27,376 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:27,379 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:27,379 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:27,381 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:27,384 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:27,387 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:27,388 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:27,392 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:27,392 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:27,394 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:27,394 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:27,399 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:27,400 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:27,400 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:27,400 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:00:32,415 - __main__ - INFO - [START] Starting enhanced batch processing: 9f96a66f-228f-46bf-b19d-abf1dc980850
2025-08-30 02:00:32,436 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:32,687 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:32,687 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:00:32,687 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:32,691 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:32,691 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:32,697 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:32,697 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:32,702 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:32,702 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:32,706 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:32,706 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:32,708 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:32,708 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:32,713 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:32,713 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:32,713 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:32,713 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:00:37,727 - __main__ - INFO - 
======================================================================
2025-08-30 02:00:37,727 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:00:37,727 - __main__ - INFO - ======================================================================
2025-08-30 02:00:37,727 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:00:37,727 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:00:37,728 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:00:37,728 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:00:37,728 - __main__ - INFO -   Total Batches: 12
2025-08-30 02:00:37,728 - __main__ - INFO -   Total Images Processed: 1
2025-08-30 02:00:37,728 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:00:37,728 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:00:37,728 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:00:37,728 - __main__ - INFO -   Total Processing Time: 5.74s
2025-08-30 02:00:37,728 - __main__ - INFO -   System Uptime: 0:01:05.973011
2025-08-30 02:00:37,728 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:00:37,728 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:00:37,728 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:00:37,729 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:00:37,729 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:00:37,729 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:00:37,729 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:00:37,729 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:00:37,729 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:00:37,729 - __main__ - INFO -   Quality Check: True
2025-08-30 02:00:37,729 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:00:37,729 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:00:37,729 - __main__ - INFO - ======================================================================

2025-08-30 02:00:37,729 - __main__ - INFO - [START] Starting enhanced batch processing: 2eb93ebe-c897-4388-9840-d33a7537f3b6
2025-08-30 02:00:37,763 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:00:38,054 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:00:38,054 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:00:38,054 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:00:38,068 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:38,068 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:00:38,068 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:38,071 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:00:38,075 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:38,076 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:00:38,079 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:38,079 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:00:38,081 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:38,081 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:00:38,087 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:38,088 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:00:38,088 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:00:38,088 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:00:38,860 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 02:00:43,080 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 02:00:43,080 - __main__ - INFO - 
======================================================================
2025-08-30 02:00:43,080 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:00:43,080 - __main__ - INFO - ======================================================================
2025-08-30 02:00:43,080 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:00:43,080 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:00:43,080 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:00:43,080 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:00:43,080 - __main__ - INFO -   Total Batches: 13
2025-08-30 02:00:43,080 - __main__ - INFO -   Total Images Processed: 1
2025-08-30 02:00:43,080 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:00:43,089 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:00:43,089 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:00:43,089 - __main__ - INFO -   Total Processing Time: 6.06s
2025-08-30 02:00:43,090 - __main__ - INFO -   System Uptime: 0:01:11.326575
2025-08-30 02:00:43,090 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:00:43,090 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:00:43,091 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:00:43,091 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:00:43,092 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:00:43,092 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:00:43,092 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:00:43,093 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:00:43,093 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:00:43,093 - __main__ - INFO -   Quality Check: True
2025-08-30 02:00:43,094 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:00:43,094 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:00:43,094 - __main__ - INFO - ======================================================================

2025-08-30 02:00:43,094 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 02:13:02,694 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 02:13:02,705 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 02:13:02,710 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 02:13:02,828 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 02:13:02,905 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 02:13:02,905 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 02:13:02,905 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 02:13:02,905 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 02:13:02,906 - __main__ - INFO - [START] Starting enhanced batch processing: 5221c77e-fb75-4b5a-a72b-7ce875507603
2025-08-30 02:13:02,909 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:03,737 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:03,739 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:03,739 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:03,740 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:03,740 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:03,742 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:03,742 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:03,756 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:03,756 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:03,760 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:03,761 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:03,764 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:03,764 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:03,769 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:03,769 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:03,771 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:03,771 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:08,776 - __main__ - INFO - [START] Starting enhanced batch processing: fd5e02a8-0306-4552-a5e9-92798d159657
2025-08-30 02:13:08,780 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:09,000 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:09,005 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:09,006 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:09,009 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:09,009 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:09,012 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:09,012 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:09,015 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:09,015 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:09,018 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:09,018 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:09,020 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:09,021 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:09,026 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:09,026 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:09,026 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:09,026 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:14,034 - __main__ - INFO - [START] Starting enhanced batch processing: a7a221c9-e4d8-45ad-97e6-61b03c9f97a0
2025-08-30 02:13:14,038 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:14,396 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:14,398 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:14,398 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:14,400 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:14,400 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:14,402 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:14,402 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:14,403 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:14,403 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:14,404 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:14,404 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:14,406 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:14,406 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:14,412 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:14,412 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:14,413 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:14,413 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:19,425 - __main__ - INFO - [START] Starting enhanced batch processing: 4a1efbd9-bbd8-4dcb-b4e8-5a512be27101
2025-08-30 02:13:19,430 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:20,069 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:20,070 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:20,070 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:20,072 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:20,073 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:20,075 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:20,075 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:20,077 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:20,077 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:20,079 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:20,079 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:20,081 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:20,081 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:20,087 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:20,087 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:20,088 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:20,088 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:25,100 - __main__ - INFO - [START] Starting enhanced batch processing: 8e3483eb-eded-42e8-9e8c-9fe932dc5bb3
2025-08-30 02:13:25,104 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:25,330 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:25,334 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:25,335 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:25,336 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:25,336 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:25,339 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:25,339 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:25,341 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:25,341 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:25,342 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:25,342 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:25,344 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:25,344 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:25,349 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:25,349 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:25,350 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:25,350 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:30,354 - __main__ - INFO - [START] Starting enhanced batch processing: d38d02b7-8c56-465a-bd5c-21b615401875
2025-08-30 02:13:30,357 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:30,588 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:30,592 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:30,592 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:30,595 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:30,596 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:30,598 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:30,598 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:30,599 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:30,599 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:30,602 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:30,602 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:30,604 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:30,605 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:30,610 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:30,610 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:30,610 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:30,610 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:35,616 - __main__ - INFO - [START] Starting enhanced batch processing: d2ca3ef1-193c-4a5c-8b5a-9d939428f4f1
2025-08-30 02:13:35,620 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:35,925 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:35,930 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:35,930 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:35,932 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:35,932 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:35,937 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:35,937 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:35,939 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:35,939 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:35,942 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:35,942 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:35,944 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:35,944 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:35,952 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:35,952 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:35,952 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:35,952 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:40,956 - __main__ - INFO - [START] Starting enhanced batch processing: 90b131d5-503d-462c-90ce-9ea16b850d81
2025-08-30 02:13:40,965 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:41,495 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:41,495 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:41,495 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:41,502 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:41,502 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:41,509 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:41,509 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:41,512 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:41,512 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:41,514 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:41,515 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:41,522 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:41,522 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:41,527 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:41,527 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:41,528 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:41,528 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:46,534 - __main__ - INFO - [START] Starting enhanced batch processing: 0a58c07d-3fb3-4d7b-88d4-70e05f1bcdcc
2025-08-30 02:13:46,541 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:46,773 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:46,773 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:46,773 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:46,775 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:46,775 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:46,777 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:46,777 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:46,778 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:46,778 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:46,779 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:46,779 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:46,781 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:46,781 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:46,788 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:46,788 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:46,788 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:46,788 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:51,805 - __main__ - INFO - [START] Starting enhanced batch processing: e0f76bc8-6004-42a8-93e1-dc9a95145663
2025-08-30 02:13:51,805 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:13:52,035 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:13:52,035 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:13:52,035 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:13:52,035 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:52,035 - __main__ - INFO - [DUPLICATE] Image already processed: download (2).jpg
2025-08-30 02:13:52,050 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:52,050 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:13:52,052 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:52,052 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:13:52,054 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:52,054 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:13:52,057 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:52,057 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:13:52,062 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:52,062 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:13:52,062 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:13:52,062 - __main__ - INFO - [DUPLICATE] Batch had 6 duplicate events
2025-08-30 02:13:52,125 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 02:13:57,076 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 02:13:57,077 - __main__ - INFO - 
======================================================================
2025-08-30 02:13:57,078 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:13:57,079 - __main__ - INFO - ======================================================================
2025-08-30 02:13:57,079 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:13:57,081 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:13:57,081 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:13:57,082 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:13:57,083 - __main__ - INFO -   Total Batches: 10
2025-08-30 02:13:57,083 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 02:13:57,084 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:13:57,084 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:13:57,084 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:13:57,085 - __main__ - INFO -   Total Processing Time: 4.04s
2025-08-30 02:13:57,085 - __main__ - INFO -   System Uptime: 0:00:54.172525
2025-08-30 02:13:57,085 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:13:57,085 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:13:57,086 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:13:57,086 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:13:57,086 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:13:57,086 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:13:57,087 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:13:57,087 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:13:57,087 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:13:57,087 - __main__ - INFO -   Quality Check: True
2025-08-30 02:13:57,088 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:13:57,088 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:13:57,088 - __main__ - INFO - ======================================================================

2025-08-30 02:13:57,088 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 02:28:11,440 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 02:28:11,449 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 02:28:11,457 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 02:28:11,599 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 02:28:11,710 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 02:28:11,710 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 02:28:11,710 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 02:28:11,710 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 02:28:11,711 - __main__ - INFO - [START] Starting enhanced batch processing: 324d3453-cc49-44c6-836c-2f072345527c
2025-08-30 02:28:11,715 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:28:12,370 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:28:12,374 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:28:12,375 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:28:12,720 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:28:12,722 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceService' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 284, in process_batch
    detections = self._detect_faces_mediapipe(image_path)
AttributeError: 'EnhancedFaceService' object has no attribute '_detect_faces_mediapipe'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 273, in _process_images
    results = self.face_service.process_batch(local_path)
  File "D:\face\takla\services\enhanced_face_service.py", line 347, in process_batch
    self.logger.exception(f"Error processing image {image_path}: {e}")
AttributeError: 'EnhancedFaceService' object has no attribute 'logger'
2025-08-30 02:28:12,738 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:28:12,739 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:28:12,767 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:28:12,767 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:28:12,771 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:28:12,772 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:28:12,775 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:28:12,775 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:28:12,782 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:28:12,782 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:28:12,783 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:28:12,783 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:28:17,785 - __main__ - INFO - [START] Starting enhanced batch processing: d608aae4-1886-4e48-9c51-798df3c09c72
2025-08-30 02:28:17,789 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:28:18,221 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:28:18,221 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:28:18,221 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:28:18,418 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:28:18,418 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceService' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\services\enhanced_face_service.py", line 284, in process_batch
    detections = self._detect_faces_mediapipe(image_path)
AttributeError: 'EnhancedFaceService' object has no attribute '_detect_faces_mediapipe'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 273, in _process_images
    results = self.face_service.process_batch(local_path)
  File "D:\face\takla\services\enhanced_face_service.py", line 347, in process_batch
    self.logger.exception(f"Error processing image {image_path}: {e}")
AttributeError: 'EnhancedFaceService' object has no attribute 'logger'
2025-08-30 02:28:18,425 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:28:18,425 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:28:18,427 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:28:18,427 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:28:18,430 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:28:18,430 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:28:18,432 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:28:18,433 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:28:18,441 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:28:18,441 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:28:18,442 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:28:18,442 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:28:23,172 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 02:28:23,442 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 02:28:23,442 - __main__ - INFO - 
======================================================================
2025-08-30 02:28:23,443 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:28:23,443 - __main__ - INFO - ======================================================================
2025-08-30 02:28:23,443 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:28:23,443 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:28:23,443 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:28:23,443 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:28:23,444 - __main__ - INFO -   Total Batches: 2
2025-08-30 02:28:23,444 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 02:28:23,444 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:28:23,444 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:28:23,444 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:28:23,444 - __main__ - INFO -   Total Processing Time: 1.72s
2025-08-30 02:28:23,444 - __main__ - INFO -   System Uptime: 0:00:11.733946
2025-08-30 02:28:23,444 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:28:23,445 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:28:23,445 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:28:23,445 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:28:23,445 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:28:23,445 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:28:23,445 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:28:23,445 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:28:23,445 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:28:23,445 - __main__ - INFO -   Quality Check: True
2025-08-30 02:28:23,446 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:28:23,446 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:28:23,446 - __main__ - INFO - ======================================================================

2025-08-30 02:28:23,446 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 02:31:55,891 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 02:31:55,902 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 02:31:55,905 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 02:31:56,036 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 02:31:56,122 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 02:31:56,122 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 02:31:56,123 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 02:31:56,123 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 02:31:56,123 - __main__ - INFO - [START] Starting enhanced batch processing: fbf76694-5767-4c3d-bcf1-40246901131e
2025-08-30 02:31:56,127 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:31:56,800 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:31:56,800 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:31:56,800 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:31:57,112 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:31:57,112 - services.enhanced_face_service - INFO - MediaPipe face detector initialized
2025-08-30 02:31:57,386 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:31:57,608 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:31:57,844 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:31:57,845 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:31:57,845 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:31:57,848 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:31:57,848 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:31:57,850 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:31:57,850 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:31:57,857 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:31:57,857 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:31:57,860 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:31:57,860 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:31:57,868 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:31:57,869 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:31:57,869 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:31:57,869 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:02,877 - __main__ - INFO - [START] Starting enhanced batch processing: 1128ec0d-001e-4cc9-9e40-8838db121c3d
2025-08-30 02:32:02,877 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:03,349 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:03,363 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:03,364 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:03,575 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:03,809 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:04,038 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:04,266 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:04,267 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:04,267 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:04,270 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:04,270 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:04,273 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:04,273 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:04,275 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:04,276 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:04,278 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:04,278 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:04,284 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:04,284 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:04,284 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:04,284 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:09,300 - __main__ - INFO - [START] Starting enhanced batch processing: 9dba5e65-b8a2-4a21-a378-c6ae9d45268f
2025-08-30 02:32:09,311 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:09,529 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:09,533 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:09,533 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:09,716 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:09,947 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:10,159 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:10,394 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:10,394 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:10,394 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:10,394 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:10,394 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:10,408 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:10,408 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:10,411 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:10,411 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:10,414 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:10,415 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:10,420 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:10,420 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:10,420 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:10,420 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:15,433 - __main__ - INFO - [START] Starting enhanced batch processing: cf5efc12-efec-43bc-bad5-c0183e9e9759
2025-08-30 02:32:15,452 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:15,784 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:15,799 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:15,799 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:15,976 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:16,215 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:16,438 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:16,664 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:16,664 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:16,664 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:16,689 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:16,689 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:16,697 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:16,697 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:16,701 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:16,701 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:16,703 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:16,704 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:16,708 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:16,708 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:16,710 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:16,710 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:21,710 - __main__ - INFO - [START] Starting enhanced batch processing: a47e49ea-e7ba-461c-b32f-2b8ae58246ca
2025-08-30 02:32:21,721 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:21,972 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:21,976 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:21,976 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:22,159 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:22,402 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:22,618 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:22,846 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:22,846 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:22,846 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:22,846 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:22,846 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:22,846 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:22,846 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:22,857 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:22,857 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:22,862 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:22,862 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:22,868 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:22,868 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:22,868 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:22,868 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:27,880 - __main__ - INFO - [START] Starting enhanced batch processing: ffe402c8-0e45-4260-972f-9387c5b529bc
2025-08-30 02:32:27,889 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:28,174 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:28,174 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:28,174 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:28,421 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:28,645 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:28,870 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:29,115 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:29,116 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:29,116 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:29,138 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:29,138 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:29,140 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:29,140 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:29,144 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:29,144 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:29,147 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:29,147 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:29,156 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:29,156 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:29,157 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:29,157 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:34,158 - __main__ - INFO - [START] Starting enhanced batch processing: 52f5eed9-cee7-44fe-9f8e-28c999e49a0f
2025-08-30 02:32:34,164 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:34,487 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:34,487 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:34,487 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:34,690 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:34,935 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:35,164 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:35,391 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:35,391 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:35,391 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:35,395 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:35,395 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:35,397 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:35,398 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:35,400 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:35,400 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:35,402 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:35,402 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:35,410 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:35,410 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:35,410 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:35,410 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:40,418 - __main__ - INFO - [START] Starting enhanced batch processing: 177633d4-28e1-4f57-8d69-f4c1c1f7515e
2025-08-30 02:32:40,426 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:40,767 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:40,767 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:40,767 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:40,986 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:41,222 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:41,446 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:41,671 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:41,672 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:41,672 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:41,675 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:41,675 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:41,676 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:41,676 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:41,677 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:41,677 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:41,680 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:41,680 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:41,684 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:41,684 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:41,684 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:41,684 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:46,696 - __main__ - INFO - [START] Starting enhanced batch processing: 609b89f5-13e6-46a4-b52b-65e2b4df4f59
2025-08-30 02:32:46,696 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:47,035 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:47,035 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:47,035 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:47,239 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:47,476 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:47,698 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:47,935 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:47,935 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:47,936 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:47,940 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:47,940 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:47,945 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:47,945 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:47,948 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:47,948 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:47,949 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:47,950 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:47,953 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:47,953 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:47,955 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:47,955 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:52,959 - __main__ - INFO - [START] Starting enhanced batch processing: 91bcd65a-90fc-4802-946a-96573e99a6fd
2025-08-30 02:32:52,959 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:53,202 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:53,202 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:53,202 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:53,543 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:32:53,774 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:32:53,998 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:32:54,226 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:32:54,226 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:32:54,226 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:32:54,228 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:54,228 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:32:54,229 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:54,229 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:32:54,232 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:54,232 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:32:54,233 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:54,234 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:32:54,238 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:54,238 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:32:54,239 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:32:54,240 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:32:59,255 - __main__ - INFO - [START] Starting enhanced batch processing: 80e62765-6767-4406-a7dc-926274b18680
2025-08-30 02:32:59,279 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:32:59,564 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:32:59,576 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:32:59,576 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:32:59,807 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:00,041 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:00,257 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:00,491 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:00,492 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:00,492 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:00,496 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:00,496 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:00,499 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:00,500 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:00,503 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:00,503 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:00,506 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:00,506 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:00,517 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:00,517 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:00,518 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:00,518 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:05,522 - __main__ - INFO - [START] Starting enhanced batch processing: c6e5082a-2784-4d54-8032-52b882bf84cf
2025-08-30 02:33:05,532 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:05,768 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:05,769 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:05,769 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:05,957 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:06,191 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:06,419 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:06,647 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:06,647 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:06,647 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:06,649 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:06,649 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:06,651 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:06,651 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:06,653 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:06,654 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:06,657 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:06,657 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:06,662 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:06,663 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:06,663 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:06,663 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:11,665 - __main__ - INFO - 
======================================================================
2025-08-30 02:33:11,665 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:33:11,665 - __main__ - INFO - ======================================================================
2025-08-30 02:33:11,665 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:33:11,665 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:33:11,665 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:33:11,665 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:33:11,665 - __main__ - INFO -   Total Batches: 12
2025-08-30 02:33:11,665 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 02:33:11,665 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:33:11,665 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:33:11,665 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:33:11,665 - __main__ - INFO -   Total Processing Time: 15.34s
2025-08-30 02:33:11,665 - __main__ - INFO -   System Uptime: 0:01:15.543083
2025-08-30 02:33:11,665 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:33:11,665 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:33:11,665 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:33:11,665 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:33:11,665 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:33:11,665 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:33:11,665 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:33:11,665 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:33:11,665 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:33:11,665 - __main__ - INFO -   Quality Check: True
2025-08-30 02:33:11,665 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:33:11,665 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:33:11,665 - __main__ - INFO - ======================================================================

2025-08-30 02:33:11,665 - __main__ - INFO - [START] Starting enhanced batch processing: ca9864e4-8f2d-4442-b568-3b06ad9e8222
2025-08-30 02:33:11,665 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:11,924 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:11,924 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:11,924 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:12,127 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:12,379 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:12,613 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:12,830 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:12,830 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:12,830 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:12,830 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:12,830 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:12,830 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:12,845 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:12,847 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:12,847 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:12,850 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:12,850 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:12,855 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:12,855 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:12,855 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:12,855 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:17,867 - __main__ - INFO - [START] Starting enhanced batch processing: 9c977828-96a8-4e62-879f-36cfb53f4a11
2025-08-30 02:33:17,885 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:18,220 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:18,220 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:18,220 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:18,382 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:18,623 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:18,832 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:19,074 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:19,075 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:19,075 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:19,078 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:19,078 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:19,080 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:19,080 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:19,084 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:19,084 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:19,087 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:19,087 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:19,092 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:19,092 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:19,092 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:19,093 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:24,098 - __main__ - INFO - [START] Starting enhanced batch processing: 7564a556-fecd-4092-a92e-5f73badbe713
2025-08-30 02:33:24,100 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:24,518 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:24,518 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:24,518 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:24,738 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:24,978 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:25,200 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:25,430 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:25,430 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:25,430 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:25,430 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:25,430 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:25,430 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:25,430 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:25,430 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:25,430 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:25,437 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:25,439 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:25,447 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:25,447 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:25,447 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:25,448 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:30,457 - __main__ - INFO - [START] Starting enhanced batch processing: db84cffa-5a64-4983-9537-942a18defb92
2025-08-30 02:33:30,466 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:30,861 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:30,861 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:30,861 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:31,049 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:31,286 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:31,517 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:31,753 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:31,753 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:31,753 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:31,774 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:31,774 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:31,778 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:31,779 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:31,781 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:31,781 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:31,787 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:31,787 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:31,794 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:31,794 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:31,795 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:31,795 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:36,802 - __main__ - INFO - [START] Starting enhanced batch processing: a445d084-cc84-475b-b5a9-c16416f75632
2025-08-30 02:33:36,817 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:37,080 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:37,080 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:37,080 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:37,275 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:37,506 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:37,721 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:37,956 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:37,956 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:37,956 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:37,965 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:37,965 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:37,967 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:37,968 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:37,969 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:37,970 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:37,972 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:37,973 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:37,984 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:37,984 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:37,984 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:37,984 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:42,993 - __main__ - INFO - [START] Starting enhanced batch processing: 467d3109-4646-4ed5-aa58-689c58edad10
2025-08-30 02:33:43,018 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:43,394 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:43,394 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:43,394 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:43,626 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:43,863 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:44,086 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:44,314 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:44,314 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:44,314 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:44,315 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:44,315 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:44,315 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:44,315 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:44,320 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:44,320 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:44,324 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:44,325 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:44,330 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:44,330 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:44,330 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:44,330 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:49,338 - __main__ - INFO - [START] Starting enhanced batch processing: 6a460c39-d7b0-4db5-b086-b10aa1f5fca8
2025-08-30 02:33:49,372 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:49,582 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:49,587 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:49,587 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:49,973 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:50,210 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:50,423 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:50,659 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:50,659 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:50,659 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:50,659 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:50,659 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:50,659 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:50,659 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:50,659 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:50,659 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:50,674 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:50,675 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:50,680 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:50,680 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:50,680 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:50,680 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:33:55,682 - __main__ - INFO - [START] Starting enhanced batch processing: 196cd640-fadb-41e7-bcd4-88d3e9d43361
2025-08-30 02:33:55,703 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:33:55,943 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:33:55,947 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:33:55,947 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:33:56,154 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:33:56,396 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:33:56,618 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:33:56,839 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:33:56,839 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:33:56,839 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:33:56,852 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:56,852 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:33:56,855 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:56,855 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:33:56,857 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:56,858 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:33:56,863 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:56,863 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:33:56,868 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:56,868 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:33:56,869 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:33:56,869 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:01,881 - __main__ - INFO - [START] Starting enhanced batch processing: c15487a9-bce1-4fe8-a54e-2a1b10f8f1e6
2025-08-30 02:34:01,900 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:02,284 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:02,284 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:02,284 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:02,472 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:02,700 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:02,925 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:03,153 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:03,153 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:03,153 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:03,157 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:03,157 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:03,159 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:03,159 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:03,161 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:03,161 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:03,164 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:03,164 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:03,169 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:03,169 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:03,169 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:03,169 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:08,178 - __main__ - INFO - [START] Starting enhanced batch processing: 90957e37-6e36-4b3e-aaf3-a8b6fc9b3596
2025-08-30 02:34:08,185 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:08,518 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:08,518 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:08,518 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:08,763 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:08,986 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:09,226 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:09,456 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:09,456 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:09,456 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:09,458 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:09,460 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:09,462 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:09,462 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:09,463 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:09,463 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:09,464 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:09,465 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:09,468 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:09,468 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:09,470 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:09,470 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:14,474 - __main__ - INFO - [START] Starting enhanced batch processing: 0d599fc5-e51f-4e7f-bbd0-d02b50263e94
2025-08-30 02:34:14,474 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:14,831 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:14,831 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:14,831 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:15,018 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:15,288 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:15,513 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:15,743 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:15,743 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:15,743 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:15,746 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:15,746 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:15,747 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:15,747 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:15,749 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:15,749 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:15,750 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:15,750 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:15,757 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:15,757 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:15,757 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:15,757 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:20,761 - __main__ - INFO - [START] Starting enhanced batch processing: 364ef6fe-65e5-41c0-9c8c-35ec6c6d2f30
2025-08-30 02:34:20,770 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:21,120 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:21,120 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:21,127 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:21,315 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:21,550 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:21,788 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:22,019 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:22,020 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:22,020 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:22,028 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:22,029 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:22,031 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:22,032 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:22,034 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:22,034 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:22,042 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:22,042 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:22,048 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:22,048 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:22,049 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:22,049 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:27,050 - __main__ - INFO - 
======================================================================
2025-08-30 02:34:27,050 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:34:27,050 - __main__ - INFO - ======================================================================
2025-08-30 02:34:27,050 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:34:27,050 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:34:27,050 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:34:27,050 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:34:27,050 - __main__ - INFO -   Total Batches: 24
2025-08-30 02:34:27,050 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 02:34:27,050 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:34:27,050 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:34:27,050 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:34:27,050 - __main__ - INFO -   Total Processing Time: 30.50s
2025-08-30 02:34:27,050 - __main__ - INFO -   System Uptime: 0:02:30.928759
2025-08-30 02:34:27,050 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:34:27,050 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:34:27,050 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:34:27,050 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:34:27,057 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:34:27,057 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:34:27,057 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:34:27,057 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:34:27,057 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:34:27,057 - __main__ - INFO -   Quality Check: True
2025-08-30 02:34:27,058 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:34:27,058 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:34:27,058 - __main__ - INFO - ======================================================================

2025-08-30 02:34:27,058 - __main__ - INFO - [START] Starting enhanced batch processing: a277c1c5-77a8-4724-bef9-86f96feba843
2025-08-30 02:34:27,066 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:27,271 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:27,271 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:27,271 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:27,501 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:27,741 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:27,970 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:28,203 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:28,203 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:28,203 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:28,206 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:28,206 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:28,246 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:28,246 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:28,250 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:28,251 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:28,254 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:28,255 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:28,263 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:28,263 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:28,263 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:28,264 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:33,276 - __main__ - INFO - [START] Starting enhanced batch processing: af0caed2-21b6-4beb-b8d5-ea7d025e0d2d
2025-08-30 02:34:33,280 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:33,548 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:33,548 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:33,548 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:33,754 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:33,989 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:34,208 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:34,448 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:34,448 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:34,448 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:34,454 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:34,454 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:34,457 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:34,457 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:34,459 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:34,460 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:34,462 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:34,462 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:34,467 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:34,467 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:34,467 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:34,468 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:39,474 - __main__ - INFO - [START] Starting enhanced batch processing: 7063286e-b0c3-4276-8250-1e350330667b
2025-08-30 02:34:39,491 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:39,713 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:39,714 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:39,714 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:39,925 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:40,161 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:40,379 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:40,615 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:40,615 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:40,615 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:40,615 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:40,615 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:40,623 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:40,623 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:40,625 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:40,626 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:40,628 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:40,628 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:40,633 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:40,633 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:40,634 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:40,634 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:45,644 - __main__ - INFO - [START] Starting enhanced batch processing: 54c9af18-063b-4f29-b036-5bcb873da26d
2025-08-30 02:34:45,644 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:45,987 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:46,002 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:46,002 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:46,335 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:46,573 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:46,783 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:47,017 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:47,017 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:47,017 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:47,017 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:47,017 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:47,026 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:47,026 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:47,029 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:47,029 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:47,031 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:47,031 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:47,036 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:47,037 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:47,037 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:47,037 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:52,051 - __main__ - INFO - [START] Starting enhanced batch processing: 1922f459-fbc8-497b-8ca0-775065d9b2ed
2025-08-30 02:34:52,073 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:52,393 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:52,412 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:52,412 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:52,597 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:52,831 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:53,066 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:53,290 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:53,290 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:53,291 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:53,293 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:53,293 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:53,295 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:53,295 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:53,296 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:53,296 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:53,298 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:53,298 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:53,302 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:53,302 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:53,302 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:53,302 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:34:58,315 - __main__ - INFO - [START] Starting enhanced batch processing: b3fed0c3-7770-42df-ac34-66a74d5775da
2025-08-30 02:34:58,344 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:34:58,882 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:34:58,887 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:34:58,888 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:34:59,066 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:34:59,342 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:34:59,570 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:34:59,784 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:34:59,800 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:34:59,800 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:34:59,800 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:59,800 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:34:59,800 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:59,800 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:34:59,807 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:59,807 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:34:59,810 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:59,810 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:34:59,815 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:59,815 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:34:59,815 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:34:59,815 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:35:04,818 - __main__ - INFO - [START] Starting enhanced batch processing: 073b83bd-e7df-4d4e-b544-fb2900b0fa93
2025-08-30 02:35:04,819 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:35:05,096 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:35:05,099 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:35:05,100 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:35:05,274 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:35:05,506 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:35:05,734 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:35:05,963 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:35:05,964 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:35:05,964 - __main__ - ERROR - Error processing image download (2).jpg: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 278, in _process_images
    self.logger.info(f"[ENCODINGS] Successful face encodings: {face_count}")
AttributeError: 'EnhancedFaceRecognitionSystem' object has no attribute 'logger'
2025-08-30 02:35:05,967 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:35:05,967 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:35:05,968 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:35:05,968 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:35:05,969 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:35:05,969 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:35:05,970 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:35:05,970 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:35:05,978 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:35:05,979 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:35:05,979 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:35:05,979 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:35:09,316 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 02:35:10,973 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 02:35:10,973 - __main__ - INFO - 
======================================================================
2025-08-30 02:35:10,973 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:35:10,973 - __main__ - INFO - ======================================================================
2025-08-30 02:35:10,973 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:35:10,973 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:35:10,973 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:35:10,975 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:35:10,975 - __main__ - INFO -   Total Batches: 31
2025-08-30 02:35:10,975 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 02:35:10,975 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:35:10,977 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:35:10,977 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:35:10,977 - __main__ - INFO -   Total Processing Time: 39.28s
2025-08-30 02:35:10,977 - __main__ - INFO -   System Uptime: 0:03:14.850967
2025-08-30 02:35:10,977 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:35:10,977 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:35:10,977 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:35:10,977 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:35:10,977 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:35:10,977 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:35:10,977 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:35:10,977 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:35:10,977 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:35:10,977 - __main__ - INFO -   Quality Check: True
2025-08-30 02:35:10,979 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:35:10,979 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:35:10,979 - __main__ - INFO - ======================================================================

2025-08-30 02:35:10,979 - __main__ - INFO - [DONE] System shutdown complete
2025-08-30 02:37:45,878 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-30 02:37:45,889 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-30 02:37:45,893 - services.age_gender_manager - INFO - Loading age and gender detection models...
2025-08-30 02:37:46,022 - services.age_gender_manager - INFO - Age and gender detection models loaded successfully
2025-08-30 02:37:46,109 - __main__ - INFO - [START] Enhanced Face Recognition System initialized
2025-08-30 02:37:46,109 - __main__ - INFO - Configuration: batch_size=10, interval=5s, quality_check=True, faiss=True
2025-08-30 02:37:46,109 - __main__ - INFO - Sleep Mode: enabled=True, sleep_duration=300s, max_duplicates=3
2025-08-30 02:37:46,110 - __main__ - INFO - [START] Starting Enhanced Face Recognition System...
2025-08-30 02:37:46,110 - __main__ - INFO - [START] Starting enhanced batch processing: 845873c6-6ff0-4fb2-bfa3-da8fcbe94c41
2025-08-30 02:37:46,113 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:37:46,972 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:37:46,972 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:37:46,972 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:37:47,314 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:37:47,318 - services.enhanced_face_service - INFO - MediaPipe face detector initialized
2025-08-30 02:37:47,602 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:37:47,838 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:37:48,065 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:37:48,065 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:37:48,065 - __main__ - INFO - [ENCODINGS] Successful face encodings: 3
2025-08-30 02:37:48,065 - __main__ - ERROR - Error processing image download (2).jpg: local variable 'image_url' referenced before assignment
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 285, in _process_images
    self.duplicate_detector.mark_image_processed(image_hash, image_name, image_url, face_count)
UnboundLocalError: local variable 'image_url' referenced before assignment
2025-08-30 02:37:48,077 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:37:48,077 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:37:48,085 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:37:48,085 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:37:48,089 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:37:48,090 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:37:48,095 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:37:48,096 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:37:48,101 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:37:48,102 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:37:48,102 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:37:48,102 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:37:53,115 - __main__ - INFO - [START] Starting enhanced batch processing: 92582f57-f7ba-4054-8c6d-aed6ea4c46a8
2025-08-30 02:37:53,176 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:37:53,519 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:37:53,519 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:37:53,519 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:37:53,705 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:37:53,966 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:37:54,194 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:37:54,422 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:37:54,422 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:37:54,422 - __main__ - INFO - [ENCODINGS] Successful face encodings: 3
2025-08-30 02:37:54,422 - __main__ - ERROR - Error processing image download (2).jpg: local variable 'image_url' referenced before assignment
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 285, in _process_images
    self.duplicate_detector.mark_image_processed(image_hash, image_name, image_url, face_count)
UnboundLocalError: local variable 'image_url' referenced before assignment
2025-08-30 02:37:54,424 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:37:54,424 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:37:54,430 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:37:54,430 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:37:54,433 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:37:54,433 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:37:54,435 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:37:54,436 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:37:54,442 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:37:54,443 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:37:54,443 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:37:54,443 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:37:59,458 - __main__ - INFO - [START] Starting enhanced batch processing: 432a4203-ff57-4e8a-9016-6cc356fc340f
2025-08-30 02:37:59,478 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:37:59,778 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:37:59,784 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:37:59,784 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:37:59,987 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:38:00,224 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:38:00,440 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:38:00,678 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:38:00,678 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:38:00,678 - __main__ - INFO - [ENCODINGS] Successful face encodings: 3
2025-08-30 02:38:00,678 - __main__ - ERROR - Error processing image download (2).jpg: local variable 'image_url' referenced before assignment
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 285, in _process_images
    self.duplicate_detector.mark_image_processed(image_hash, image_name, image_url, face_count)
UnboundLocalError: local variable 'image_url' referenced before assignment
2025-08-30 02:38:00,681 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:00,681 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:00,684 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:00,684 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:00,686 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:00,686 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:00,688 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:00,688 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:00,693 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:00,693 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:00,694 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:38:00,694 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:38:05,705 - __main__ - INFO - [START] Starting enhanced batch processing: e537e9c4-c059-4c38-b839-1499e9d9f178
2025-08-30 02:38:05,716 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:38:06,156 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:38:06,156 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:38:06,158 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:38:06,379 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:38:06,611 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:38:06,831 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:38:07,065 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:38:07,065 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:38:07,065 - __main__ - INFO - [ENCODINGS] Successful face encodings: 3
2025-08-30 02:38:07,065 - __main__ - ERROR - Error processing image download (2).jpg: local variable 'image_url' referenced before assignment
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 285, in _process_images
    self.duplicate_detector.mark_image_processed(image_hash, image_name, image_url, face_count)
UnboundLocalError: local variable 'image_url' referenced before assignment
2025-08-30 02:38:07,065 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:07,065 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:07,065 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:07,065 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:07,070 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:07,072 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:07,073 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:07,074 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:07,079 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:07,079 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:07,079 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:38:07,079 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:38:12,083 - __main__ - INFO - [START] Starting enhanced batch processing: e801eeef-2db9-44ca-84f4-8bf12f569fe1
2025-08-30 02:38:12,104 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:38:12,334 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:38:12,335 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:38:12,336 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:38:12,550 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:38:12,893 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:38:13,153 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:38:13,431 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:38:13,431 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:38:13,431 - __main__ - INFO - [ENCODINGS] Successful face encodings: 3
2025-08-30 02:38:13,431 - __main__ - ERROR - Error processing image download (2).jpg: local variable 'image_url' referenced before assignment
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 285, in _process_images
    self.duplicate_detector.mark_image_processed(image_hash, image_name, image_url, face_count)
UnboundLocalError: local variable 'image_url' referenced before assignment
2025-08-30 02:38:13,436 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:13,436 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:13,438 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:13,439 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:13,441 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:13,441 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:13,444 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:13,444 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:13,449 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:13,449 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:13,450 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:38:13,450 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:38:18,457 - __main__ - INFO - [START] Starting enhanced batch processing: d7419a71-8d82-43d3-a124-f61f5a2be8f7
2025-08-30 02:38:18,468 - __main__ - INFO - Memory before processing: 0.0 MB
2025-08-30 02:38:18,818 - httpx - INFO - HTTP Request: POST https://hwxyuvtfoyzycggbypmo.supabase.co/storage/v1/object/list/face-images "HTTP/2 200 OK"
2025-08-30 02:38:18,828 - __main__ - INFO - [FOUND] Found 6 images to process
2025-08-30 02:38:18,828 - __main__ - INFO - [AGE/GENDER] Age and gender detection enabled
2025-08-30 02:38:19,049 - services.supabase_service - INFO - Downloaded image download (2).jpg to temp_images\download (2).jpg
2025-08-30 02:38:19,284 - services.enhanced_face_service - INFO - Face bbox (115,28,29,29) -> encoding=OK
2025-08-30 02:38:19,516 - services.enhanced_face_service - INFO - Face bbox (99,53,26,26) -> encoding=OK
2025-08-30 02:38:19,738 - services.enhanced_face_service - INFO - Face bbox (71,34,30,30) -> encoding=OK
2025-08-30 02:38:19,738 - services.enhanced_face_service - INFO - Detected 3 faces with MediaPipe, encodings OK: 3
2025-08-30 02:38:19,738 - __main__ - INFO - [ENCODINGS] Successful face encodings: 3
2025-08-30 02:38:19,738 - __main__ - ERROR - Error processing image download (2).jpg: local variable 'image_url' referenced before assignment
Traceback (most recent call last):
  File "D:\face\takla\main_enhanced.py", line 285, in _process_images
    self.duplicate_detector.mark_image_processed(image_hash, image_name, image_url, face_count)
UnboundLocalError: local variable 'image_url' referenced before assignment
2025-08-30 02:38:19,752 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:19,752 - __main__ - INFO - [DUPLICATE] Image already processed: dw3.jpg
2025-08-30 02:38:19,756 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:19,757 - __main__ - INFO - [DUPLICATE] Image already processed: download1.jpg
2025-08-30 02:38:19,759 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:19,759 - __main__ - INFO - [DUPLICATE] Image already processed: download2.jpg
2025-08-30 02:38:19,762 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:19,762 - __main__ - INFO - [DUPLICATE] Image already processed: WIN_20250819_00_27_12_Pro.jpg
2025-08-30 02:38:19,767 - utils.duplicate_detector - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:19,768 - __main__ - INFO - [DUPLICATE] Image already processed: h4.jpg
2025-08-30 02:38:19,768 - __main__ - INFO - Memory after processing: 0.0 MB
2025-08-30 02:38:19,768 - __main__ - INFO - [DUPLICATE] Batch had 5 duplicate events
2025-08-30 02:38:22,810 - __main__ - INFO - [STOP] System shutdown requested by user
2025-08-30 02:38:24,783 - __main__ - INFO - [CLEANUP] Performing cleanup...
2025-08-30 02:38:24,783 - __main__ - INFO - 
======================================================================
2025-08-30 02:38:24,783 - __main__ - INFO - [STATS] ENHANCED SYSTEM STATISTICS
2025-08-30 02:38:24,783 - __main__ - INFO - ======================================================================
2025-08-30 02:38:24,783 - __main__ - INFO - [DB] Total Unique Persons: 0
2025-08-30 02:38:24,783 - __main__ - INFO - [DB] Total Visits: 0
2025-08-30 02:38:24,783 - __main__ - INFO - [DB] Recent Visitors (24h): 0
2025-08-30 02:38:24,783 - __main__ - INFO - 
[SYSTEM] SYSTEM STATISTICS:
2025-08-30 02:38:24,783 - __main__ - INFO -   Total Batches: 6
2025-08-30 02:38:24,783 - __main__ - INFO -   Total Images Processed: 0
2025-08-30 02:38:24,783 - __main__ - INFO -   Total Faces Detected: 0
2025-08-30 02:38:24,783 - __main__ - INFO -   Total New Persons: 0
2025-08-30 02:38:24,783 - __main__ - INFO -   Total Existing Persons: 0
2025-08-30 02:38:24,783 - __main__ - INFO -   Total Processing Time: 8.48s
2025-08-30 02:38:24,783 - __main__ - INFO -   System Uptime: 0:00:38.674146
2025-08-30 02:38:24,783 - __main__ - INFO - 
[PERF] PERFORMANCE STATISTICS:
2025-08-30 02:38:24,783 - __main__ - INFO -   Memory Usage: 0.0 MB (0.0%)
2025-08-30 02:38:24,783 - __main__ - INFO - 
[DUPLICATE] DUPLICATE DETECTION STATISTICS:
2025-08-30 02:38:24,783 - __main__ - INFO -   Total Duplicates (24h): 0
2025-08-30 02:38:24,783 - __main__ - INFO -   Sleep Mode: INACTIVE
2025-08-30 02:38:24,783 - __main__ - INFO - 
[CONFIG] CONFIGURATION:
2025-08-30 02:38:24,783 - __main__ - INFO -   Face Threshold: 0.6
2025-08-30 02:38:24,783 - __main__ - INFO -   Max Batch Size: 10
2025-08-30 02:38:24,783 - __main__ - INFO -   Processing Interval: 5s
2025-08-30 02:38:24,783 - __main__ - INFO -   Quality Check: True
2025-08-30 02:38:24,783 - __main__ - INFO -   FAISS Enabled: True
2025-08-30 02:38:24,783 - __main__ - INFO -   Sleep Mode: True
2025-08-30 02:38:24,783 - __main__ - INFO - ======================================================================

2025-08-30 02:38:24,783 - __main__ - INFO - [DONE] System shutdown complete
